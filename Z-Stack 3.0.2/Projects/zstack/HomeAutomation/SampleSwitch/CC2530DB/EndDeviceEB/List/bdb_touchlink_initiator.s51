///////////////////////////////////////////////////////////////////////////////
//
// IAR C/C++ Compiler V10.30.1.6000 for 8051              31/Jul/2020  11:47:15
// Copyright 2004-2018 IAR Systems AB.
// PC-locked license - IAR Embedded Workbench for 8051
//
//    Core               =  plain
//    Code model         =  banked
//    Data model         =  large
//    Calling convention =  xdata reentrant
//    Constant location  =  data_rom
//    Dptr setup         =  1,16
//                          
//    Source file        =  
//        D:\AA\Z-Stack 3.0.2\Components\stack\bdb\bdb_touchlink_initiator.c
//    Command line       =  
//        -f C:\Users\sunli\AppData\Local\Temp\EWA185.tmp ("D:\AA\Z-Stack
//        3.0.2\Components\stack\bdb\bdb_touchlink_initiator.c" -D SECURE=1 -D
//        TC_LINKKEY_JOIN -D NV_INIT -D NV_RESTORE -D POWER_SAVING -D
//        NWK_AUTO_POLL -D xZTOOL_P1 -D xMT_TASK -D xMT_APP_FUNC -D
//        xMT_SYS_FUNC -D xMT_ZDO_FUNC -D xMT_ZDO_MGMT -D xMT_APP_CNF_FUNC -D
//        LCD_SUPPORTED=DEBUG -D MULTICAST_ENABLED=FALSE -D ZCL_READ -D
//        ZCL_DISCOVER -D ZCL_WRITE -D ZCL_BASIC -D ZCL_IDENTIFY -D ZCL_ON_OFF
//        -D ZCL_GROUPS -D BDB_TL_INITIATOR -D INTER_PAN -lC "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\EndDeviceEB\List"
//        -lA "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\EndDeviceEB\List"
//        --diag_suppress Pe001,Pa010 -o "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\EndDeviceEB\Obj"
//        -e --debug --core=plain --dptr=16,1 --data_model=large
//        --code_model=banked --calling_convention=xdata_reentrant
//        --place_constants=data_rom --nr_virtual_regs 16 -f "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\Tools\CC2530DB\f8wEndev.cfg"
//        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_TX_DATA_MAX=3
//        -DMAC_CFG_TX_MAX=6 -DMAC_CFG_RX_MAX=3) -f "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
//        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
//        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0xFFFF
//        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
//        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
//        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
//        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
//        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
//        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
//        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
//        -DMAX_BINDING_CLUSTER_IDS=4 -DDEFAULT_KEY={0}
//        -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
//        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
//        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100
//        -DREJOIN_POLL_RATE=440 -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000
//        -DENABLE_LED4_DISABLE_S1) -f "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\" -I
//        "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\Source\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\Source\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\ZMain\TI2530DB\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\hal\include\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\mac\include\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\mt\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\osal\include\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\services\saddr\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\services\sdata\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\af\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\bdb\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\gp\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\sec\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\sys\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\zcl\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\zmac\"
//        -I "D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
//        -On --require_prototypes --no_cse --no_unroll --no_inline
//        --no_code_motion --no_tbaa --no_cross_call)
//    Locale             =  Chinese (Simplified)_CHN.936
//    List file          =  
//        D:\AA\Z-Stack
//        3.0.2\Projects\zstack\HomeAutomation\SampleSwitch\CC2530DB\EndDeviceEB\List\bdb_touchlink_initiator.s51
//
///////////////////////////////////////////////////////////////////////////////

        NAME bdb_touchlink_initiator

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__register_banks", "*"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?V0
        EXTERN ?V1
        EXTERN ?V2
        EXTERN ?V3
        EXTERN ?V4
        EXTERN ?V5
        EXTERN ?V6
        EXTERN ?V7
        EXTERN ?V8
        EXTERN ?V9
        EXTERN ?V10
        EXTERN ?V11
        EXTERN ?V12
        EXTERN ?V13
        EXTERN ?V14
        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?BRET
        EXTERN ?CALL_IND
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?L_ADD
        EXTERN ?L_EQ_X
        EXTERN ?L_MOV_TO_X
        EXTERN ?L_MOV_X
        EXTERN ?L_MUL
        EXTERN ?L_SHL
        EXTERN ?MOVE_LONG8_XDATA_XDATA
        EXTERN ?PUSH_XSTACK8_X_FOUR
        EXTERN ?PUSH_XSTACK8_X_TWO
        EXTERN ?PUSH_XSTACK_I_FOUR
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_THREE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?US_SHR
        EXTERN ?XLOAD_R0123
        EXTERN ?XLOAD_R2345
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN ?XSTACK_DISP101_8
        EXTERN ?XSTACK_DISP102_8
        EXTERN ?XSTORE_R0123
        EXTERN __INIT_XDATA_I
        EXTERN __INIT_XDATA_Z

        PUBLIC `??bdb_Initiator_SendNwkJoinReq::?relay`
        FUNCTION `??bdb_Initiator_SendNwkJoinReq::?relay`,0203H
        FUNCTION `??initiatorClearSelectedTarget::?relay`,0203H
        FUNCTION `??initiatorDeviceInfoReqCB::?relay`,0203H
        FUNCTION `??initiatorDeviceInfoRspCB::?relay`,0203H
        FUNCTION `??initiatorIdentifyReqCB::?relay`,0203H
        FUNCTION `??initiatorNwkJoinEDRspCB::?relay`,0203H
        FUNCTION `??initiatorNwkJoinReqCB::?relay`,0203H
        FUNCTION `??initiatorNwkJoinRtrRspCB::?relay`,0203H
        FUNCTION `??initiatorNwkStartRspCB::?relay`,0203H
        FUNCTION `??initiatorNwkUpdateReqCB::?relay`,0203H
        FUNCTION `??initiatorProcessStateChange::?relay`,0203H
        FUNCTION `??initiatorReJoinNwk::?relay`,0203H
        FUNCTION `??initiatorScanReqCB::?relay`,0203H
        FUNCTION `??initiatorScanRspCB::?relay`,0203H
        PUBLIC `??initiatorSelectNwkParams::?relay`
        FUNCTION `??initiatorSelectNwkParams::?relay`,0203H
        FUNCTION `??initiatorSendNwkJoinReq::?relay`,0203H
        FUNCTION `??initiatorSendNwkStartReq::?relay`,0203H
        FUNCTION `??initiatorSendNwkUpdateReq::?relay`,0203H
        FUNCTION `??initiatorSendScanReq::?relay`,0203H
        FUNCTION `??initiatorSetNwkToInitState::?relay`,0203H
        FUNCTION `??initiatorZdoLeaveCnfCB::?relay`,0203H
        PUBLIC `??touchLinkInitiator_AbortTL::?relay`
        FUNCTION `??touchLinkInitiator_AbortTL::?relay`,0203H
        PUBLIC `??touchLinkInitiator_ChannelChange::?relay`
        FUNCTION `??touchLinkInitiator_ChannelChange::?relay`,0203H
        PUBLIC `??touchLinkInitiator_Init::?relay`
        FUNCTION `??touchLinkInitiator_Init::?relay`,0203H
        PUBLIC `??touchLinkInitiator_InitDevice::?relay`
        FUNCTION `??touchLinkInitiator_InitDevice::?relay`,0203H
        PUBLIC `??touchLinkInitiator_RegisterForMsg::?relay`
        FUNCTION `??touchLinkInitiator_RegisterForMsg::?relay`,0203H
        PUBLIC `??touchLinkInitiator_RegisterNotifyTLCB::?relay`
        FUNCTION `??touchLinkInitiator_RegisterNotifyTLCB::?relay`,0203H
        PUBLIC `??touchLinkInitiator_RegisterSelectDiscDevCB::?`
        FUNCTION `??touchLinkInitiator_RegisterSelectDiscDevCB::?`,0203H
        PUBLIC `??touchLinkInitiator_ResetToFNProcedure::?relay`
        FUNCTION `??touchLinkInitiator_ResetToFNProcedure::?relay`,0203H
        PUBLIC `??touchLinkInitiator_ResetToFNSelectedTarget::?`
        FUNCTION `??touchLinkInitiator_ResetToFNSelectedTarget::?`,0203H
        PUBLIC `??touchLinkInitiator_SendEPInfo::?relay`
        FUNCTION `??touchLinkInitiator_SendEPInfo::?relay`,0203H
        PUBLIC `??touchLinkInitiator_StartDevDisc::?relay`
        FUNCTION `??touchLinkInitiator_StartDevDisc::?relay`,0203H
        PUBLIC `??touchLinkInitiator_event_loop::?relay`
        FUNCTION `??touchLinkInitiator_event_loop::?relay`,0203H
        FUNCTION `??touchLink_InitiatorSendScanRsp::?relay`,0203H
        PUBWEAK __Constant_0
        PUBWEAK __Constant_1388
        PUBWEAK __Constant_1f4
        PUBWEAK __Constant_1f40
        PUBWEAK __Constant_3
        PUBWEAK __Constant_30d4
        PUBWEAK __Constant_32
        PUBWEAK __Constant_7d0
        PUBWEAK __Constant_fa
        PUBLIC bdb_Initiator_SendNwkJoinReq
        FUNCTION bdb_Initiator_SendNwkJoinReq,021203H
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        FUNCTION initiatorClearSelectedTarget,021203H
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        FUNCTION initiatorDeviceInfoReqCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        FUNCTION initiatorDeviceInfoRspCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 54, STACK
        FUNCTION initiatorIdentifyReqCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        FUNCTION initiatorNwkJoinEDRspCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        FUNCTION initiatorNwkJoinReqCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        FUNCTION initiatorNwkJoinRtrRspCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        FUNCTION initiatorNwkStartRspCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        FUNCTION initiatorNwkUpdateReqCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        FUNCTION initiatorProcessStateChange,021203H
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 13, STACK
        FUNCTION initiatorReJoinNwk,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 9, STACK
        FUNCTION initiatorScanReqCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 31, STACK
        FUNCTION initiatorScanRspCB,0a1603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 23, STACK
        PUBLIC initiatorSelectNwkParams
        FUNCTION initiatorSelectNwkParams,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        FUNCTION initiatorSendNwkJoinReq,0a1203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 28, STACK
        FUNCTION initiatorSendNwkStartReq,0a1203H
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 26, STACK
        FUNCTION initiatorSendNwkUpdateReq,0a1203H
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 15, STACK
        FUNCTION initiatorSendScanReq,0a1203H
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 33, STACK
        FUNCTION initiatorSetNwkToInitState,0a1203H
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 12, STACK
        FUNCTION initiatorZdoLeaveCnfCB,021603H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC touchLinkInitiator_AbortTL
        FUNCTION touchLinkInitiator_AbortTL,021203H
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBLIC touchLinkInitiator_ChannelChange
        FUNCTION touchLinkInitiator_ChannelChange,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 31, STACK
        PUBLIC touchLinkInitiator_Init
        FUNCTION touchLinkInitiator_Init,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC touchLinkInitiator_InitDevice
        FUNCTION touchLinkInitiator_InitDevice,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC touchLinkInitiator_RegisterForMsg
        FUNCTION touchLinkInitiator_RegisterForMsg,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC touchLinkInitiator_RegisterNotifyTLCB
        FUNCTION touchLinkInitiator_RegisterNotifyTLCB,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC touchLinkInitiator_RegisterSelectDiscDevCB
        FUNCTION touchLinkInitiator_RegisterSelectDiscDevCB,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC touchLinkInitiator_ResetToFNProcedure
        FUNCTION touchLinkInitiator_ResetToFNProcedure,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC touchLinkInitiator_ResetToFNSelectedTarget
        FUNCTION touchLinkInitiator_ResetToFNSelectedTarget,0a1203H
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 14, STACK
        PUBLIC touchLinkInitiator_SendEPInfo
        FUNCTION touchLinkInitiator_SendEPInfo,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 37, STACK
        PUBLIC touchLinkInitiator_StartDevDisc
        FUNCTION touchLinkInitiator_StartDevDisc,0a1203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 21, STACK
        PUBLIC touchLinkInitiator_TaskID
        PUBLIC touchLinkInitiator_event_loop
        FUNCTION touchLinkInitiator_event_loop,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 115, STACK
        FUNCTION touchLink_InitiatorSendScanRsp,0a1203H
        ARGFRAME XSTACK, 31, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 29, STACK
        
          CFI Names cfiNames0
          CFI StackFrame CFA_SP SP IDATA
          CFI StackFrame CFA_PSP16 PSP16 XDATA
          CFI StackFrame CFA_XSP16 XSP16 XDATA
          CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
          CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
          CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
          CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
          CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
          CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
          CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
          CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
          CFI Resource V8:8, V9:8, V10:8, V11:8, V12:8, V13:8, V14:8, V15:8, SP:8
          CFI Resource PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
          CFI VirtualResource ?RET:24
          CFI Resource ?BRET_EXT:8
          CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
          CFI ResourceParts PSP16 PSPH, PSPL
          CFI ResourceParts XSP16 XSPH, XSPL
          CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 1
          CFI DataAlign -1
          CFI ReturnAddress ?RET CODE
          CFI CFA_DOVERLAY Used
          CFI CFA_IOVERLAY Used
          CFI CFA_SP SP+-3
          CFI CFA_PSP16 PSP16+0
          CFI CFA_XSP16 XSP16+0
          CFI `PSW.CY` SameValue
          CFI `B.BR0` SameValue
          CFI `B.BR1` SameValue
          CFI `B.BR2` SameValue
          CFI `B.BR3` SameValue
          CFI `B.BR4` SameValue
          CFI `B.BR5` SameValue
          CFI `B.BR6` SameValue
          CFI `B.BR7` SameValue
          CFI `VB.BR8` SameValue
          CFI `VB.BR9` SameValue
          CFI `VB.BR10` SameValue
          CFI `VB.BR11` SameValue
          CFI `VB.BR12` SameValue
          CFI `VB.BR13` SameValue
          CFI `VB.BR14` SameValue
          CFI `VB.BR15` SameValue
          CFI VB SameValue
          CFI B Undefined
          CFI A Undefined
          CFI PSW SameValue
          CFI DPL0 SameValue
          CFI DPH0 SameValue
          CFI R0 Undefined
          CFI R1 Undefined
          CFI R2 Undefined
          CFI R3 Undefined
          CFI R4 Undefined
          CFI R5 Undefined
          CFI R6 SameValue
          CFI R7 SameValue
          CFI V0 SameValue
          CFI V1 SameValue
          CFI V2 SameValue
          CFI V3 SameValue
          CFI V4 SameValue
          CFI V5 SameValue
          CFI V6 SameValue
          CFI V7 SameValue
          CFI V8 SameValue
          CFI V9 SameValue
          CFI V10 SameValue
          CFI V11 SameValue
          CFI V12 SameValue
          CFI V13 SameValue
          CFI V14 SameValue
          CFI V15 SameValue
          CFI PSPH Undefined
          CFI PSPL Undefined
          CFI XSPH Undefined
          CFI XSPL Undefined
          CFI ?RET Concat
          CFI ?BRET_EXT Frame(CFA_SP, 3)
          CFI ?RET_HIGH Frame(CFA_SP, 2)
          CFI ?RET_LOW Frame(CFA_SP, 1)
          CFI EndCommon cfiCommon0
        
APSME_GetRequest    SYMBOL "APSME_GetRequest"
`??APSME_GetRequest::?relay` SYMBOL "?relay", APSME_GetRequest
AddrMgrEntryUpdate  SYMBOL "AddrMgrEntryUpdate"
`??AddrMgrEntryUpdate::?relay` SYMBOL "?relay", AddrMgrEntryUpdate
NLME_GetExtAddr     SYMBOL "NLME_GetExtAddr"
`??NLME_GetExtAddr::?relay` SYMBOL "?relay", NLME_GetExtAddr
NLME_GetShortAddr   SYMBOL "NLME_GetShortAddr"
`??NLME_GetShortAddr::?relay` SYMBOL "?relay", NLME_GetShortAddr
NLME_InitNV         SYMBOL "NLME_InitNV"
`??NLME_InitNV::?relay` SYMBOL "?relay", NLME_InitNV
NLME_SetPollRate    SYMBOL "NLME_SetPollRate"
`??NLME_SetPollRate::?relay` SYMBOL "?relay", NLME_SetPollRate
NLME_SetQueuedPollRate SYMBOL "NLME_SetQueuedPollRate"
`??NLME_SetQueuedPollRate::?relay` SYMBOL "?relay", NLME_SetQueuedPollRate
NLME_SetResponseRate SYMBOL "NLME_SetResponseRate"
`??NLME_SetResponseRate::?relay` SYMBOL "?relay", NLME_SetResponseRate
NLME_SetUpdateID    SYMBOL "NLME_SetUpdateID"
`??NLME_SetUpdateID::?relay` SYMBOL "?relay", NLME_SetUpdateID
ZDApp_StopJoiningCycle SYMBOL "ZDApp_StopJoiningCycle"
`??ZDApp_StopJoiningCycle::?relay` SYMBOL "?relay", ZDApp_StopJoiningCycle
ZDO_RegisterForZdoCB SYMBOL "ZDO_RegisterForZdoCB"
`??ZDO_RegisterForZdoCB::?relay` SYMBOL "?relay", ZDO_RegisterForZdoCB
ZDP_DeviceAnnce     SYMBOL "ZDP_DeviceAnnce"
`??ZDP_DeviceAnnce::?relay` SYMBOL "?relay", ZDP_DeviceAnnce
ZDP_MgmtNwkUpdateReq SYMBOL "ZDP_MgmtNwkUpdateReq"
`??ZDP_MgmtNwkUpdateReq::?relay` SYMBOL "?relay", ZDP_MgmtNwkUpdateReq
ZDSecMgrUpdateTCAddress SYMBOL "ZDSecMgrUpdateTCAddress"
`??ZDSecMgrUpdateTCAddress::?relay` SYMBOL "?relay", ZDSecMgrUpdateTCAddress
ZMacGetReq          SYMBOL "ZMacGetReq"
`??ZMacGetReq::?relay` SYMBOL "?relay", ZMacGetReq
ZMacSetReq          SYMBOL "ZMacSetReq"
`??ZMacSetReq::?relay` SYMBOL "?relay", ZMacSetReq
bdbTL_RegisterInterPANCmdCallbacks SYMBOL "bdbTL_RegisterInterPANCmdCallbacks"
`??bdbTL_RegisterInterPANCmdCallbacks::?relay` SYMBOL "?relay", bdbTL_RegisterInterPANCmdCallbacks
bdbTL_Send_DeviceInfoReq SYMBOL "bdbTL_Send_DeviceInfoReq"
`??bdbTL_Send_DeviceInfoReq::?relay` SYMBOL "?relay", bdbTL_Send_DeviceInfoReq
bdbTL_Send_EndpointInfo SYMBOL "bdbTL_Send_EndpointInfo"
`??bdbTL_Send_EndpointInfo::?relay` SYMBOL "?relay", bdbTL_Send_EndpointInfo
bdbTL_Send_IndentifyReq SYMBOL "bdbTL_Send_IndentifyReq"
`??bdbTL_Send_IndentifyReq::?relay` SYMBOL "?relay", bdbTL_Send_IndentifyReq
bdbTL_Send_NwkJoinReq SYMBOL "bdbTL_Send_NwkJoinReq"
`??bdbTL_Send_NwkJoinReq::?relay` SYMBOL "?relay", bdbTL_Send_NwkJoinReq
bdbTL_Send_NwkJoinRsp SYMBOL "bdbTL_Send_NwkJoinRsp"
`??bdbTL_Send_NwkJoinRsp::?relay` SYMBOL "?relay", bdbTL_Send_NwkJoinRsp
bdbTL_Send_NwkStartReq SYMBOL "bdbTL_Send_NwkStartReq"
`??bdbTL_Send_NwkStartReq::?relay` SYMBOL "?relay", bdbTL_Send_NwkStartReq
bdbTL_Send_NwkUpdateReq SYMBOL "bdbTL_Send_NwkUpdateReq"
`??bdbTL_Send_NwkUpdateReq::?relay` SYMBOL "?relay", bdbTL_Send_NwkUpdateReq
bdbTL_Send_ResetToFNReq SYMBOL "bdbTL_Send_ResetToFNReq"
`??bdbTL_Send_ResetToFNReq::?relay` SYMBOL "?relay", bdbTL_Send_ResetToFNReq
bdbTL_Send_ScanReq  SYMBOL "bdbTL_Send_ScanReq"
`??bdbTL_Send_ScanReq::?relay` SYMBOL "?relay", bdbTL_Send_ScanReq
bdbTL_Send_ScanRsp  SYMBOL "bdbTL_Send_ScanRsp"
`??bdbTL_Send_ScanRsp::?relay` SYMBOL "?relay", bdbTL_Send_ScanRsp
bdb_AddRespondentNode SYMBOL "bdb_AddRespondentNode"
`??bdb_AddRespondentNode::?relay` SYMBOL "?relay", bdb_AddRespondentNode
bdb_ZclIdentifyCmdInd SYMBOL "bdb_ZclIdentifyCmdInd"
`??bdb_ZclIdentifyCmdInd::?relay` SYMBOL "?relay", bdb_ZclIdentifyCmdInd
bdb_reportCommissioningState SYMBOL "bdb_reportCommissioningState"
`??bdb_reportCommissioningState::?relay` SYMBOL "?relay", bdb_reportCommissioningState
bdb_setEpDescListToActiveEndpoint SYMBOL "bdb_setEpDescListToActiveEndpoint"
`??bdb_setEpDescListToActiveEndpoint::?relay` SYMBOL "?relay", bdb_setEpDescListToActiveEndpoint
bdb_setNodeIsOnANetwork SYMBOL "bdb_setNodeIsOnANetwork"
`??bdb_setNodeIsOnANetwork::?relay` SYMBOL "?relay", bdb_setNodeIsOnANetwork
bdb_zclRespondentListClean SYMBOL "bdb_zclRespondentListClean"
`??bdb_zclRespondentListClean::?relay` SYMBOL "?relay", bdb_zclRespondentListClean
nwk_ExtPANIDValid   SYMBOL "nwk_ExtPANIDValid"
`??nwk_ExtPANIDValid::?relay` SYMBOL "?relay", nwk_ExtPANIDValid
nwk_setStateIdle    SYMBOL "nwk_setStateIdle"
`??nwk_setStateIdle::?relay` SYMBOL "?relay", nwk_setStateIdle
osal_clear_event    SYMBOL "osal_clear_event"
`??osal_clear_event::?relay` SYMBOL "?relay", osal_clear_event
osal_get_timeoutEx  SYMBOL "osal_get_timeoutEx"
`??osal_get_timeoutEx::?relay` SYMBOL "?relay", osal_get_timeoutEx
osal_mem_alloc      SYMBOL "osal_mem_alloc"
`??osal_mem_alloc::?relay` SYMBOL "?relay", osal_mem_alloc
osal_mem_free       SYMBOL "osal_mem_free"
`??osal_mem_free::?relay` SYMBOL "?relay", osal_mem_free
osal_memcmp         SYMBOL "osal_memcmp"
`??osal_memcmp::?relay` SYMBOL "?relay", osal_memcmp
osal_memcpy         SYMBOL "osal_memcpy"
`??osal_memcpy::?relay` SYMBOL "?relay", osal_memcpy
osal_memset         SYMBOL "osal_memset"
`??osal_memset::?relay` SYMBOL "?relay", osal_memset
osal_msg_deallocate SYMBOL "osal_msg_deallocate"
`??osal_msg_deallocate::?relay` SYMBOL "?relay", osal_msg_deallocate
osal_msg_receive    SYMBOL "osal_msg_receive"
`??osal_msg_receive::?relay` SYMBOL "?relay", osal_msg_receive
osal_msg_send       SYMBOL "osal_msg_send"
`??osal_msg_send::?relay` SYMBOL "?relay", osal_msg_send
osal_nv_write       SYMBOL "osal_nv_write"
`??osal_nv_write::?relay` SYMBOL "?relay", osal_nv_write
osal_pwrmgr_device  SYMBOL "osal_pwrmgr_device"
`??osal_pwrmgr_device::?relay` SYMBOL "?relay", osal_pwrmgr_device
osal_rand           SYMBOL "osal_rand"
`??osal_rand::?relay` SYMBOL "?relay", osal_rand
osal_set_event      SYMBOL "osal_set_event"
`??osal_set_event::?relay` SYMBOL "?relay", osal_set_event
osal_start_timerEx  SYMBOL "osal_start_timerEx"
`??osal_start_timerEx::?relay` SYMBOL "?relay", osal_start_timerEx
osal_stop_timerEx   SYMBOL "osal_stop_timerEx"
`??osal_stop_timerEx::?relay` SYMBOL "?relay", osal_stop_timerEx
printf              SYMBOL "printf"
`??printf::?relay`  SYMBOL "?relay", printf
sAddrExtCmp         SYMBOL "sAddrExtCmp"
`??sAddrExtCmp::?relay` SYMBOL "?relay", sAddrExtCmp
sAddrExtCpy         SYMBOL "sAddrExtCpy"
`??sAddrExtCpy::?relay` SYMBOL "?relay", sAddrExtCpy
touchLink_DecryptNwkKey SYMBOL "touchLink_DecryptNwkKey"
`??touchLink_DecryptNwkKey::?relay` SYMBOL "?relay", touchLink_DecryptNwkKey
touchLink_DevRejoin SYMBOL "touchLink_DevRejoin"
`??touchLink_DevRejoin::?relay` SYMBOL "?relay", touchLink_DevRejoin
touchLink_DeviceIsInitiator SYMBOL "touchLink_DeviceIsInitiator"
`??touchLink_DeviceIsInitiator::?relay` SYMBOL "?relay", touchLink_DeviceIsInitiator
touchLink_EncryptNwkKey SYMBOL "touchLink_EncryptNwkKey"
`??touchLink_EncryptNwkKey::?relay` SYMBOL "?relay", touchLink_EncryptNwkKey
touchLink_FreeNwkParamList SYMBOL "touchLink_FreeNwkParamList"
`??touchLink_FreeNwkParamList::?relay` SYMBOL "?relay", touchLink_FreeNwkParamList
touchLink_GenerateRandNum SYMBOL "touchLink_GenerateRandNum"
`??touchLink_GenerateRandNum::?relay` SYMBOL "?relay", touchLink_GenerateRandNum
touchLink_GerFreeRanges SYMBOL "touchLink_GerFreeRanges"
`??touchLink_GerFreeRanges::?relay` SYMBOL "?relay", touchLink_GerFreeRanges
touchLink_GetMsgRssi SYMBOL "touchLink_GetMsgRssi"
`??touchLink_GetMsgRssi::?relay` SYMBOL "?relay", touchLink_GetMsgRssi
touchLink_GetNumGrpIDs SYMBOL "touchLink_GetNumGrpIDs"
`??touchLink_GetNumGrpIDs::?relay` SYMBOL "?relay", touchLink_GetNumGrpIDs
touchLink_GetNumSubDevices SYMBOL "touchLink_GetNumSubDevices"
`??touchLink_GetNumSubDevices::?relay` SYMBOL "?relay", touchLink_GetNumSubDevices
touchLink_GetNwkKeyBitmask SYMBOL "touchLink_GetNwkKeyBitmask"
`??touchLink_GetNwkKeyBitmask::?relay` SYMBOL "?relay", touchLink_GetNwkKeyBitmask
touchLink_GetRandPrimaryChannel SYMBOL "touchLink_GetRandPrimaryChannel"
`??touchLink_GetRandPrimaryChannel::?relay` SYMBOL "?relay", touchLink_GetRandPrimaryChannel
touchLink_GetSubDeviceInfo SYMBOL "touchLink_GetSubDeviceInfo"
`??touchLink_GetSubDeviceInfo::?relay` SYMBOL "?relay", touchLink_GetSubDeviceInfo
touchLink_InitVariables SYMBOL "touchLink_InitVariables"
`??touchLink_InitVariables::?relay` SYMBOL "?relay", touchLink_InitVariables
touchLink_IsValidSplitFreeRanges SYMBOL "touchLink_IsValidSplitFreeRanges"
`??touchLink_IsValidSplitFreeRanges::?relay` SYMBOL "?relay", touchLink_IsValidSplitFreeRanges
touchLink_IsValidTransID SYMBOL "touchLink_IsValidTransID"
`??touchLink_IsValidTransID::?relay` SYMBOL "?relay", touchLink_IsValidTransID
touchLink_NewNwkUpdateId SYMBOL "touchLink_NewNwkUpdateId"
`??touchLink_NewNwkUpdateId::?relay` SYMBOL "?relay", touchLink_NewNwkUpdateId
touchLink_PerformNetworkDisc SYMBOL "touchLink_PerformNetworkDisc"
`??touchLink_PerformNetworkDisc::?relay` SYMBOL "?relay", touchLink_PerformNetworkDisc
touchLink_PopGrpIDRange SYMBOL "touchLink_PopGrpIDRange"
`??touchLink_PopGrpIDRange::?relay` SYMBOL "?relay", touchLink_PopGrpIDRange
touchLink_PopNwkAddress SYMBOL "touchLink_PopNwkAddress"
`??touchLink_PopNwkAddress::?relay` SYMBOL "?relay", touchLink_PopNwkAddress
touchLink_ProcessNwkUpdate SYMBOL "touchLink_ProcessNwkUpdate"
`??touchLink_ProcessNwkUpdate::?relay` SYMBOL "?relay", touchLink_ProcessNwkUpdate
touchLink_SendDeviceInfoRsp SYMBOL "touchLink_SendDeviceInfoRsp"
`??touchLink_SendDeviceInfoRsp::?relay` SYMBOL "?relay", touchLink_SendDeviceInfoRsp
touchLink_SendLeaveReq SYMBOL "touchLink_SendLeaveReq"
`??touchLink_SendLeaveReq::?relay` SYMBOL "?relay", touchLink_SendLeaveReq
touchLink_SetChannel SYMBOL "touchLink_SetChannel"
`??touchLink_SetChannel::?relay` SYMBOL "?relay", touchLink_SetChannel
touchLink_SetMacNwkParams SYMBOL "touchLink_SetMacNwkParams"
`??touchLink_SetMacNwkParams::?relay` SYMBOL "?relay", touchLink_SetMacNwkParams
touchLink_SetNIB    SYMBOL "touchLink_SetNIB"
`??touchLink_SetNIB::?relay` SYMBOL "?relay", touchLink_SetNIB
touchLink_SetTouchLinkTaskId SYMBOL "touchLink_SetTouchLinkTaskId"
`??touchLink_SetTouchLinkTaskId::?relay` SYMBOL "?relay", touchLink_SetTouchLinkTaskId
touchLink_SplitFreeRanges SYMBOL "touchLink_SplitFreeRanges"
`??touchLink_SplitFreeRanges::?relay` SYMBOL "?relay", touchLink_SplitFreeRanges
touchLink_UpdateNV  SYMBOL "touchLink_UpdateNV"
`??touchLink_UpdateNV::?relay` SYMBOL "?relay", touchLink_UpdateNV
zcl_registerForMsg  SYMBOL "zcl_registerForMsg"
`??zcl_registerForMsg::?relay` SYMBOL "?relay", zcl_registerForMsg
bdb_Initiator_SendNwkJoinReq SYMBOL "bdb_Initiator_SendNwkJoinReq"
`??bdb_Initiator_SendNwkJoinReq::?relay` SYMBOL "?relay", bdb_Initiator_SendNwkJoinReq
initiatorSelectNwkParams SYMBOL "initiatorSelectNwkParams"
`??initiatorSelectNwkParams::?relay` SYMBOL "?relay", initiatorSelectNwkParams
touchLinkInitiator_AbortTL SYMBOL "touchLinkInitiator_AbortTL"
`??touchLinkInitiator_AbortTL::?relay` SYMBOL "?relay", touchLinkInitiator_AbortTL
touchLinkInitiator_ChannelChange SYMBOL "touchLinkInitiator_ChannelChange"
`??touchLinkInitiator_ChannelChange::?relay` SYMBOL "?relay", touchLinkInitiator_ChannelChange
touchLinkInitiator_Init SYMBOL "touchLinkInitiator_Init"
`??touchLinkInitiator_Init::?relay` SYMBOL "?relay", touchLinkInitiator_Init
touchLinkInitiator_InitDevice SYMBOL "touchLinkInitiator_InitDevice"
`??touchLinkInitiator_InitDevice::?relay` SYMBOL "?relay", touchLinkInitiator_InitDevice
touchLinkInitiator_RegisterForMsg SYMBOL "touchLinkInitiator_RegisterForMsg"
`??touchLinkInitiator_RegisterForMsg::?relay` SYMBOL "?relay", touchLinkInitiator_RegisterForMsg
touchLinkInitiator_RegisterNotifyTLCB SYMBOL "touchLinkInitiator_RegisterNotifyTLCB"
`??touchLinkInitiator_RegisterNotifyTLCB::?relay` SYMBOL "?relay", touchLinkInitiator_RegisterNotifyTLCB
touchLinkInitiator_RegisterSelectDiscDevCB SYMBOL "touchLinkInitiator_RegisterSelectDiscDevCB"
`??touchLinkInitiator_RegisterSelectDiscDevCB::?` SYMBOL "?relay", touchLinkInitiator_RegisterSelectDiscDevCB
touchLinkInitiator_ResetToFNProcedure SYMBOL "touchLinkInitiator_ResetToFNProcedure"
`??touchLinkInitiator_ResetToFNProcedure::?relay` SYMBOL "?relay", touchLinkInitiator_ResetToFNProcedure
touchLinkInitiator_ResetToFNSelectedTarget SYMBOL "touchLinkInitiator_ResetToFNSelectedTarget"
`??touchLinkInitiator_ResetToFNSelectedTarget::?` SYMBOL "?relay", touchLinkInitiator_ResetToFNSelectedTarget
touchLinkInitiator_SendEPInfo SYMBOL "touchLinkInitiator_SendEPInfo"
`??touchLinkInitiator_SendEPInfo::?relay` SYMBOL "?relay", touchLinkInitiator_SendEPInfo
touchLinkInitiator_StartDevDisc SYMBOL "touchLinkInitiator_StartDevDisc"
`??touchLinkInitiator_StartDevDisc::?relay` SYMBOL "?relay", touchLinkInitiator_StartDevDisc
touchLinkInitiator_event_loop SYMBOL "touchLinkInitiator_event_loop"
`??touchLinkInitiator_event_loop::?relay` SYMBOL "?relay", touchLinkInitiator_event_loop

        EXTERN `??APSME_GetRequest::?relay`
        FUNCTION `??APSME_GetRequest::?relay`,00H
        EXTERN `??AddrMgrEntryUpdate::?relay`
        FUNCTION `??AddrMgrEntryUpdate::?relay`,00H
        EXTERN `??NLME_GetExtAddr::?relay`
        FUNCTION `??NLME_GetExtAddr::?relay`,00H
        EXTERN `??NLME_GetShortAddr::?relay`
        FUNCTION `??NLME_GetShortAddr::?relay`,00H
        EXTERN `??NLME_InitNV::?relay`
        FUNCTION `??NLME_InitNV::?relay`,00H
        EXTERN `??NLME_SetPollRate::?relay`
        FUNCTION `??NLME_SetPollRate::?relay`,00H
        EXTERN `??NLME_SetQueuedPollRate::?relay`
        FUNCTION `??NLME_SetQueuedPollRate::?relay`,00H
        EXTERN `??NLME_SetResponseRate::?relay`
        FUNCTION `??NLME_SetResponseRate::?relay`,00H
        EXTERN `??NLME_SetUpdateID::?relay`
        FUNCTION `??NLME_SetUpdateID::?relay`,00H
        EXTERN `??ZDApp_StopJoiningCycle::?relay`
        FUNCTION `??ZDApp_StopJoiningCycle::?relay`,00H
        EXTERN `??ZDO_RegisterForZdoCB::?relay`
        FUNCTION `??ZDO_RegisterForZdoCB::?relay`,00H
        EXTERN `??ZDP_DeviceAnnce::?relay`
        FUNCTION `??ZDP_DeviceAnnce::?relay`,00H
        EXTERN `??ZDP_MgmtNwkUpdateReq::?relay`
        FUNCTION `??ZDP_MgmtNwkUpdateReq::?relay`,00H
        EXTERN `??ZDSecMgrUpdateTCAddress::?relay`
        FUNCTION `??ZDSecMgrUpdateTCAddress::?relay`,00H
        EXTERN `??ZMacGetReq::?relay`
        FUNCTION `??ZMacGetReq::?relay`,00H
        EXTERN `??ZMacSetReq::?relay`
        FUNCTION `??ZMacSetReq::?relay`,00H
        EXTERN `??bdbTL_RegisterInterPANCmdCallbacks::?relay`
        FUNCTION `??bdbTL_RegisterInterPANCmdCallbacks::?relay`,00H
        EXTERN `??bdbTL_Send_DeviceInfoReq::?relay`
        FUNCTION `??bdbTL_Send_DeviceInfoReq::?relay`,00H
        EXTERN `??bdbTL_Send_EndpointInfo::?relay`
        FUNCTION `??bdbTL_Send_EndpointInfo::?relay`,00H
        EXTERN `??bdbTL_Send_IndentifyReq::?relay`
        FUNCTION `??bdbTL_Send_IndentifyReq::?relay`,00H
        EXTERN `??bdbTL_Send_NwkJoinReq::?relay`
        FUNCTION `??bdbTL_Send_NwkJoinReq::?relay`,00H
        EXTERN `??bdbTL_Send_NwkJoinRsp::?relay`
        FUNCTION `??bdbTL_Send_NwkJoinRsp::?relay`,00H
        EXTERN `??bdbTL_Send_NwkStartReq::?relay`
        FUNCTION `??bdbTL_Send_NwkStartReq::?relay`,00H
        EXTERN `??bdbTL_Send_NwkUpdateReq::?relay`
        FUNCTION `??bdbTL_Send_NwkUpdateReq::?relay`,00H
        EXTERN `??bdbTL_Send_ResetToFNReq::?relay`
        FUNCTION `??bdbTL_Send_ResetToFNReq::?relay`,00H
        EXTERN `??bdbTL_Send_ScanReq::?relay`
        FUNCTION `??bdbTL_Send_ScanReq::?relay`,00H
        EXTERN `??bdbTL_Send_ScanRsp::?relay`
        FUNCTION `??bdbTL_Send_ScanRsp::?relay`,00H
        EXTERN `??bdb_AddRespondentNode::?relay`
        FUNCTION `??bdb_AddRespondentNode::?relay`,00H
        EXTERN `??bdb_ZclIdentifyCmdInd::?relay`
        FUNCTION `??bdb_ZclIdentifyCmdInd::?relay`,00H
        EXTERN `??bdb_reportCommissioningState::?relay`
        FUNCTION `??bdb_reportCommissioningState::?relay`,00H
        EXTERN `??bdb_setEpDescListToActiveEndpoint::?relay`
        FUNCTION `??bdb_setEpDescListToActiveEndpoint::?relay`,00H
        EXTERN `??bdb_setNodeIsOnANetwork::?relay`
        FUNCTION `??bdb_setNodeIsOnANetwork::?relay`,00H
        EXTERN `??bdb_zclRespondentListClean::?relay`
        FUNCTION `??bdb_zclRespondentListClean::?relay`,00H
        EXTERN `??nwk_ExtPANIDValid::?relay`
        FUNCTION `??nwk_ExtPANIDValid::?relay`,00H
        EXTERN `??nwk_setStateIdle::?relay`
        FUNCTION `??nwk_setStateIdle::?relay`,00H
        EXTERN `??osal_clear_event::?relay`
        FUNCTION `??osal_clear_event::?relay`,00H
        EXTERN `??osal_get_timeoutEx::?relay`
        FUNCTION `??osal_get_timeoutEx::?relay`,00H
        EXTERN `??osal_mem_alloc::?relay`
        FUNCTION `??osal_mem_alloc::?relay`,00H
        EXTERN `??osal_mem_free::?relay`
        FUNCTION `??osal_mem_free::?relay`,00H
        EXTERN `??osal_memcmp::?relay`
        FUNCTION `??osal_memcmp::?relay`,00H
        EXTERN `??osal_memcpy::?relay`
        FUNCTION `??osal_memcpy::?relay`,00H
        EXTERN `??osal_memset::?relay`
        FUNCTION `??osal_memset::?relay`,00H
        EXTERN `??osal_msg_deallocate::?relay`
        FUNCTION `??osal_msg_deallocate::?relay`,00H
        EXTERN `??osal_msg_receive::?relay`
        FUNCTION `??osal_msg_receive::?relay`,00H
        EXTERN `??osal_msg_send::?relay`
        FUNCTION `??osal_msg_send::?relay`,00H
        EXTERN `??osal_nv_write::?relay`
        FUNCTION `??osal_nv_write::?relay`,00H
        EXTERN `??osal_pwrmgr_device::?relay`
        FUNCTION `??osal_pwrmgr_device::?relay`,00H
        EXTERN `??osal_rand::?relay`
        FUNCTION `??osal_rand::?relay`,00H
        EXTERN `??osal_set_event::?relay`
        FUNCTION `??osal_set_event::?relay`,00H
        EXTERN `??osal_start_timerEx::?relay`
        FUNCTION `??osal_start_timerEx::?relay`,00H
        EXTERN `??osal_stop_timerEx::?relay`
        FUNCTION `??osal_stop_timerEx::?relay`,00H
        EXTERN `??printf::?relay`
        FUNCTION `??printf::?relay`,00H
        EXTERN `??sAddrExtCmp::?relay`
        FUNCTION `??sAddrExtCmp::?relay`,00H
        EXTERN `??sAddrExtCpy::?relay`
        FUNCTION `??sAddrExtCpy::?relay`,00H
        EXTERN `??touchLink_DecryptNwkKey::?relay`
        FUNCTION `??touchLink_DecryptNwkKey::?relay`,00H
        EXTERN `??touchLink_DevRejoin::?relay`
        FUNCTION `??touchLink_DevRejoin::?relay`,00H
        EXTERN `??touchLink_DeviceIsInitiator::?relay`
        FUNCTION `??touchLink_DeviceIsInitiator::?relay`,00H
        EXTERN `??touchLink_EncryptNwkKey::?relay`
        FUNCTION `??touchLink_EncryptNwkKey::?relay`,00H
        EXTERN `??touchLink_FreeNwkParamList::?relay`
        FUNCTION `??touchLink_FreeNwkParamList::?relay`,00H
        EXTERN `??touchLink_GenerateRandNum::?relay`
        FUNCTION `??touchLink_GenerateRandNum::?relay`,00H
        EXTERN `??touchLink_GerFreeRanges::?relay`
        FUNCTION `??touchLink_GerFreeRanges::?relay`,00H
        EXTERN `??touchLink_GetMsgRssi::?relay`
        FUNCTION `??touchLink_GetMsgRssi::?relay`,00H
        EXTERN `??touchLink_GetNumGrpIDs::?relay`
        FUNCTION `??touchLink_GetNumGrpIDs::?relay`,00H
        EXTERN `??touchLink_GetNumSubDevices::?relay`
        FUNCTION `??touchLink_GetNumSubDevices::?relay`,00H
        EXTERN `??touchLink_GetNwkKeyBitmask::?relay`
        FUNCTION `??touchLink_GetNwkKeyBitmask::?relay`,00H
        EXTERN `??touchLink_GetRandPrimaryChannel::?relay`
        FUNCTION `??touchLink_GetRandPrimaryChannel::?relay`,00H
        EXTERN `??touchLink_GetSubDeviceInfo::?relay`
        FUNCTION `??touchLink_GetSubDeviceInfo::?relay`,00H
        EXTERN `??touchLink_InitVariables::?relay`
        FUNCTION `??touchLink_InitVariables::?relay`,00H
        EXTERN `??touchLink_IsValidSplitFreeRanges::?relay`
        FUNCTION `??touchLink_IsValidSplitFreeRanges::?relay`,00H
        EXTERN `??touchLink_IsValidTransID::?relay`
        FUNCTION `??touchLink_IsValidTransID::?relay`,00H
        EXTERN `??touchLink_NewNwkUpdateId::?relay`
        FUNCTION `??touchLink_NewNwkUpdateId::?relay`,00H
        EXTERN `??touchLink_PerformNetworkDisc::?relay`
        FUNCTION `??touchLink_PerformNetworkDisc::?relay`,00H
        EXTERN `??touchLink_PopGrpIDRange::?relay`
        FUNCTION `??touchLink_PopGrpIDRange::?relay`,00H
        EXTERN `??touchLink_PopNwkAddress::?relay`
        FUNCTION `??touchLink_PopNwkAddress::?relay`,00H
        EXTERN `??touchLink_ProcessNwkUpdate::?relay`
        FUNCTION `??touchLink_ProcessNwkUpdate::?relay`,00H
        EXTERN `??touchLink_SendDeviceInfoRsp::?relay`
        FUNCTION `??touchLink_SendDeviceInfoRsp::?relay`,00H
        EXTERN `??touchLink_SendLeaveReq::?relay`
        FUNCTION `??touchLink_SendLeaveReq::?relay`,00H
        EXTERN `??touchLink_SetChannel::?relay`
        FUNCTION `??touchLink_SetChannel::?relay`,00H
        EXTERN `??touchLink_SetMacNwkParams::?relay`
        FUNCTION `??touchLink_SetMacNwkParams::?relay`,00H
        EXTERN `??touchLink_SetNIB::?relay`
        FUNCTION `??touchLink_SetNIB::?relay`,00H
        EXTERN `??touchLink_SetTouchLinkTaskId::?relay`
        FUNCTION `??touchLink_SetTouchLinkTaskId::?relay`,00H
        EXTERN `??touchLink_SplitFreeRanges::?relay`
        FUNCTION `??touchLink_SplitFreeRanges::?relay`,00H
        EXTERN `??touchLink_UpdateNV::?relay`
        FUNCTION `??touchLink_UpdateNV::?relay`,00H
        EXTERN `??zcl_registerForMsg::?relay`
        FUNCTION `??zcl_registerForMsg::?relay`,00H
        EXTERN APSME_GetRequest
        FUNCTION APSME_GetRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN AddrMgrEntryUpdate
        FUNCTION AddrMgrEntryUpdate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetExtAddr
        FUNCTION NLME_GetExtAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetShortAddr
        FUNCTION NLME_GetShortAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_InitNV
        FUNCTION NLME_InitNV,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_SetPollRate
        FUNCTION NLME_SetPollRate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_SetQueuedPollRate
        FUNCTION NLME_SetQueuedPollRate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_SetResponseRate
        FUNCTION NLME_SetResponseRate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_SetUpdateID
        FUNCTION NLME_SetUpdateID,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDAppTaskID
        EXTERN ZDApp_StopJoiningCycle
        FUNCTION ZDApp_StopJoiningCycle,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDO_Config_Node_Descriptor
        EXTERN ZDO_RegisterForZdoCB
        FUNCTION ZDO_RegisterForZdoCB,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDO_UseExtendedPANID
        EXTERN ZDP_DeviceAnnce
        FUNCTION ZDP_DeviceAnnce,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 108, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_MgmtNwkUpdateReq
        FUNCTION ZDP_MgmtNwkUpdateReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 31, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDSecMgrUpdateTCAddress
        FUNCTION ZDSecMgrUpdateTCAddress,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZMacGetReq
        FUNCTION ZMacGetReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZMacSetReq
        FUNCTION ZMacSetReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN _NIB
        EXTERN _tmpRejoinState
        EXTERN bdbAttributes
        EXTERN bdbCommissioningProcedureState
        EXTERN bdbTL_RegisterInterPANCmdCallbacks
        FUNCTION bdbTL_RegisterInterPANCmdCallbacks,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_DeviceInfoReq
        FUNCTION bdbTL_Send_DeviceInfoReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_EndpointInfo
        FUNCTION bdbTL_Send_EndpointInfo,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 37, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_IndentifyReq
        FUNCTION bdbTL_Send_IndentifyReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 108, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_NwkJoinReq
        FUNCTION bdbTL_Send_NwkJoinReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_NwkJoinRsp
        FUNCTION bdbTL_Send_NwkJoinRsp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_NwkStartReq
        FUNCTION bdbTL_Send_NwkStartReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_NwkUpdateReq
        FUNCTION bdbTL_Send_NwkUpdateReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_ResetToFNReq
        FUNCTION bdbTL_Send_ResetToFNReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_ScanReq
        FUNCTION bdbTL_Send_ScanReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdbTL_Send_ScanRsp
        FUNCTION bdbTL_Send_ScanRsp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdb_AddRespondentNode
        FUNCTION bdb_AddRespondentNode,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdb_TaskID
        EXTERN bdb_ZclIdentifyCmdInd
        FUNCTION bdb_ZclIdentifyCmdInd,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdb_reportCommissioningState
        FUNCTION bdb_reportCommissioningState,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdb_setEpDescListToActiveEndpoint
        FUNCTION bdb_setEpDescListToActiveEndpoint,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdb_setNodeIsOnANetwork
        FUNCTION bdb_setNodeIsOnANetwork,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN bdb_zclRespondentListClean
        FUNCTION bdb_zclRespondentListClean,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN devStartMode
        EXTERN devState
        EXTERN nwk_ExtPANIDValid
        FUNCTION nwk_ExtPANIDValid,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN nwk_setStateIdle
        FUNCTION nwk_setStateIdle,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_clear_event
        FUNCTION osal_clear_event,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_get_timeoutEx
        FUNCTION osal_get_timeoutEx,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_mem_alloc
        FUNCTION osal_mem_alloc,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_mem_free
        FUNCTION osal_mem_free,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memcmp
        FUNCTION osal_memcmp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 110, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memset
        FUNCTION osal_memset,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_deallocate
        FUNCTION osal_msg_deallocate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_receive
        FUNCTION osal_msg_receive,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_send
        FUNCTION osal_msg_send,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_nv_write
        FUNCTION osal_nv_write,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_pwrmgr_device
        FUNCTION osal_pwrmgr_device,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_rand
        FUNCTION osal_rand,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_set_event
        FUNCTION osal_set_event,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_stop_timerEx
        FUNCTION osal_stop_timerEx,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN pDiscoveredNwkParamList
        EXTERN pRespondentHead
        EXTERN printf
        FUNCTION printf,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN sAddrExtCmp
        FUNCTION sAddrExtCmp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN sAddrExtCpy
        FUNCTION sAddrExtCpy,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLinkGrpIDsBegin
        EXTERN touchLinkGrpIDsEnd
        EXTERN touchLinkLastAcceptedTransID
        EXTERN touchLinkLeaveInitiated
        EXTERN touchLinkResponseID
        EXTERN touchLinkTransID
        EXTERN touchLink_DecryptNwkKey
        FUNCTION touchLink_DecryptNwkKey,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 115, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_DevRejoin
        FUNCTION touchLink_DevRejoin,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_DeviceIsInitiator
        FUNCTION touchLink_DeviceIsInitiator,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_EncryptNwkKey
        FUNCTION touchLink_EncryptNwkKey,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 28, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_FreeNwkParamList
        FUNCTION touchLink_FreeNwkParamList,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_GenerateRandNum
        FUNCTION touchLink_GenerateRandNum,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_GerFreeRanges
        FUNCTION touchLink_GerFreeRanges,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_GetMsgRssi
        FUNCTION touchLink_GetMsgRssi,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_GetNumGrpIDs
        FUNCTION touchLink_GetNumGrpIDs,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_GetNumSubDevices
        FUNCTION touchLink_GetNumSubDevices,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_GetNwkKeyBitmask
        FUNCTION touchLink_GetNwkKeyBitmask,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_GetRandPrimaryChannel
        FUNCTION touchLink_GetRandPrimaryChannel,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_GetSubDeviceInfo
        FUNCTION touchLink_GetSubDeviceInfo,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_InitVariables
        FUNCTION touchLink_InitVariables,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_IsValidSplitFreeRanges
        FUNCTION touchLink_IsValidSplitFreeRanges,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_IsValidTransID
        FUNCTION touchLink_IsValidTransID,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_NewNwkUpdateId
        FUNCTION touchLink_NewNwkUpdateId,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_PerformNetworkDisc
        FUNCTION touchLink_PerformNetworkDisc,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_PopGrpIDRange
        FUNCTION touchLink_PopGrpIDRange,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_PopNwkAddress
        FUNCTION touchLink_PopNwkAddress,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_ProcessNwkUpdate
        FUNCTION touchLink_ProcessNwkUpdate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_SendDeviceInfoRsp
        FUNCTION touchLink_SendDeviceInfoRsp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_SendLeaveReq
        FUNCTION touchLink_SendLeaveReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_SetChannel
        FUNCTION touchLink_SetChannel,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_SetMacNwkParams
        FUNCTION touchLink_SetMacNwkParams,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_SetNIB
        FUNCTION touchLink_SetNIB,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_SetTouchLinkTaskId
        FUNCTION touchLink_SetTouchLinkTaskId,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_SplitFreeRanges
        FUNCTION touchLink_SplitFreeRanges,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchLink_UpdateNV
        FUNCTION touchLink_UpdateNV,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN touchlinkDistNwk
        EXTERN touchlinkFNReset
        EXTERN zTouchLinkNwkStartRtr
        EXTERN zcl_registerForMsg
        FUNCTION zcl_registerForMsg,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN zgConfigPANID
        EXTERN zgDefaultChannelList
        EXTERN zgDeviceLogicalType
        EXTERN zgPollRate
        EXTERN zgQueuedPollRate
        EXTERN zgResponsePollRate

// D:\AA\Z-Stack 3.0.2\Components\stack\bdb\bdb_touchlink_initiator.c
//    1 /**************************************************************************************************
//    2   Filename:       bdb_touchlink_initiator.c
//    3   Revised:        $Date: 2013-11-22 16:17:23 -0800 (Fri, 22 Nov 2013) $
//    4   Revision:       $Revision: 36220 $
//    5 
//    6   Description:    Zigbee Cluster Library - Light Link Initiator.
//    7 
//    8 
//    9   Copyright 2011-2013 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License").  You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product.  Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED AS IS WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com.
//   38 **************************************************************************************************/
//   39 
//   40 
//   41 /*********************************************************************
//   42  * INCLUDES
//   43  */
//   44 #include "ZComDef.h"
//   45 #include "OSAL.h"
//   46 #include "OSAL_Tasks.h"
//   47 #include "OSAL_Nv.h"
//   48 #include "AF.h"
//   49 #include "ZDApp.h"
//   50 #include "ZDSecMgr.h"
//   51 #include "ZDObject.h"
//   52 #include "nwk_util.h"
//   53 #include "ZGlobals.h"
//   54 #include "AddrMgr.h"
//   55 
//   56 #if defined ( POWER_SAVING )
//   57 #include "OSAL_PwrMgr.h"
//   58 #endif
//   59 
//   60 #include "stub_aps.h"
//   61 
//   62 #include "zcl.h"
//   63 #include "zcl_general.h"
//   64 #include "bdb.h"
//   65 #include "bdb_interface.h"
//   66 #include "bdb_tlCommissioning.h"
//   67 #include "bdb_touchlink.h"
//   68 
//   69 #include "bdb_touchlink_initiator.h"
//   70 #include "hal_lcd.h"
//   71 #include "hal_led.h"
//   72 
//   73 #include "user_printf.h"
//   74 
//   75 #if defined ( BDB_TL_INITIATOR )
//   76    
//   77 /*********************************************************************
//   78  * MACROS
//   79  */
//   80 
//   81 /*********************************************************************
//   82  * CONSTANTS
//   83  */
//   84 
//   85 #define TOUCHLINK_INITIATOR_REJOIN_TIMEOUT             2500 // 2.5 sec
//   86 
//   87 // for non-polling end-devices only
//   88 #define TOUCHLINK_INITIATOR_TEMP_POST_TL_POLL_RATE     1000
//   89 
//   90 #define DEV_INFO_INVALID_EP                            0xFE
//   91 
//   92 #define TOUCHLINK_INITIATOR_NUM_SCAN_REQ_PRIMARY       8  // 5 times on 1st channel, plus once for each remianing primary channel
//   93 #define TOUCHLINK_INITIATOR_NUM_SCAN_REQ_EXTENDED      20 // (TOUCHLINK_NUM_SCAN_REQ_PRIMARY + sizeof(TOUCHLINK_SECONDARY_CHANNELS_SET))
//   94 
//   95 /*********************************************************************
//   96  * TYPEDEFS
//   97  */
//   98 typedef union
//   99 {
//  100   bdbTLNwkStartRsp_t nwkStartRsp;
//  101   bdbTLNwkJoinRsp_t nwkJoinRsp;
//  102 } bdbTLRsp_t;
//  103 
//  104 typedef struct
//  105 {
//  106   bdbTLScanRsp_t scanRsp;
//  107   afAddrType_t srcAddr;
//  108   uint16 newNwkAddr;
//  109   uint8 rxChannel;  // channel scan response was heard on
//  110   int8 lastRssi;    // receieved RSSI
//  111 } targetCandidate_t;
//  112 
//  113 /*********************************************************************
//  114  * GLOBAL VARIABLES
//  115  */

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  116 uint8 touchLinkInitiator_TaskID;
touchLinkInitiator_TaskID:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  117 
//  118 /*********************************************************************
//  119  * EXTERNAL VARIABLES
//  120  */
//  121 extern devStartModes_t devStartMode;
//  122 extern uint8 _tmpRejoinState;
//  123 
//  124 /*********************************************************************
//  125  * EXTERNAL FUNCTIONS
//  126  */
//  127 extern void bdb_setNodeIsOnANetwork(bool isOnANetwork);
//  128 
//  129 /*********************************************************************
//  130  * LOCAL VARIABLES
//  131  */

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  132 static uint8 initiatorSeqNum;
initiatorSeqNum:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  133 
//  134 // Touch Link channel tracking

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  135 static uint8 numScanReqSent;
numScanReqSent:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  136 static uint8 scanReqChannels;
scanReqChannels:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  137 
//  138 // Network key sent to the target to start the network with

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  139 static uint8 keyIndexSent;
keyIndexSent:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  140 static uint8 encKeySent[SEC_KEY_LEN];
encKeySent:
        DS 16
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
//  141 static uint32 responseIDSent;
responseIDSent:
        DS 4
        REQUIRE __INIT_XDATA_Z
//  142 
//  143 // Info related to the received request
//  144 #if ZSTACK_END_DEVICE_BUILD

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  145 static bdbTLNwkJoinReq_t joinReq;
joinReq:
        DS 47
        REQUIRE __INIT_XDATA_Z
//  146 #endif
//  147 
//  148 // Info related to the received response

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  149 static targetCandidate_t selectedTarget;
selectedTarget:
        DS 54
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  150 static uint16 selectedTargetNwkAddr;
selectedTargetNwkAddr:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  151 static ZLongAddr_t selectedTargetIEEEAddr;
selectedTargetIEEEAddr:
        DS 8
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  152 static bdbTLRsp_t rxRsp; // network start or join response
rxRsp:
        DS 17
        REQUIRE __INIT_XDATA_Z
//  153 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  154 static bdbTLNwkParams_t initiatorNwkParams = {0};
initiatorNwkParams:
        DS 42
        REQUIRE __INIT_XDATA_Z
//  155 
//  156 // Addresses used for sending/receiving messages

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  157 static afAddrType_t bcastAddr;
bcastAddr:
        DS 12
        REQUIRE __INIT_XDATA_Z
//  158 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  159 static uint16 savedPollRate;
savedPollRate:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  160 static uint16 savedQueuedPollRate;
savedQueuedPollRate:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  161 static uint16 savedResponsePollRate;
savedResponsePollRate:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  162 static uint8 savedRxOnIdle;
savedRxOnIdle:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  163 
//  164 // Application callback

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  165 static touchLink_NotifyAppTLCB_t pfnNotifyAppCB = NULL;
pfnNotifyAppCB:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  166 static touchLink_SelectDiscDevCB_t pfnSelectDiscDevCB = NULL;
pfnSelectDiscDevCB:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  167 

        RSEG XDATA_I:XDATA:NOROOT(0)
//  168 static uint8 initiatorRegisteredMsgAppTaskID = TASK_NO_TASK;
initiatorRegisteredMsgAppTaskID:
        DATA8
        DS 1
        REQUIRE `?<Initializer for initiatorRegisteredMsgAppTas`
        REQUIRE __INIT_XDATA_I
//  169 
//  170 /*********************************************************************
//  171  * GLOBAL FUNCTIONS
//  172  */
//  173 extern void touchLink_ItemInit( uint16 id, uint16 len, void *pBuf );
//  174 
//  175 /*********************************************************************
//  176  * LOCAL FUNCTIONS
//  177  */
//  178 
//  179 static ZStatus_t initiatorScanReqCB( afAddrType_t *srcAddr, bdbTLScanReq_t *pReq, uint8 seqNum );
//  180 static ZStatus_t initiatorDeviceInfoReqCB( afAddrType_t *srcAddr, bdbTLDeviceInfoReq_t *pReq, uint8 seqNum );
//  181 static ZStatus_t initiatorIdentifyReqCB( afAddrType_t *srcAddr, bdbTLIdentifyReq_t *pReq );
//  182 static ZStatus_t initiatorNwkJoinReqCB( afAddrType_t *srcAddr, bdbTLNwkJoinReq_t *pReq, uint8 seqNum );
//  183 static ZStatus_t initiatorNwkUpdateReqCB( afAddrType_t *srcAddr, bdbTLNwkUpdateReq_t *pReq );
//  184 static ZStatus_t initiatorScanRspCB( afAddrType_t *srcAddr, bdbTLScanRsp_t *pRsp );
//  185 static ZStatus_t initiatorDeviceInfoRspCB( afAddrType_t *srcAddr, bdbTLDeviceInfoRsp_t *pRsp );
//  186 static ZStatus_t initiatorNwkStartRspCB( afAddrType_t *srcAddr, bdbTLNwkStartRsp_t *pRsp );
//  187 static ZStatus_t initiatorNwkJoinRtrRspCB( afAddrType_t *srcAddr, bdbTLNwkJoinRsp_t *pRsp );
//  188 static ZStatus_t initiatorNwkJoinEDRspCB( afAddrType_t *srcAddr, bdbTLNwkJoinRsp_t *pRsp );
//  189 static void *initiatorZdoLeaveCnfCB( void *pParam );
//  190 static ZStatus_t touchLink_InitiatorSendScanRsp( uint8 srcEP, afAddrType_t *dstAddr, uint32 transID, uint8 seqNum );
//  191 static void initiatorProcessStateChange( devStates_t state );
//  192 static void initiatorSetNwkToInitState( void );
//  193 #if ( ZSTACK_ROUTER_BUILD )
//  194 static void initiatorJoinNwk( void );
//  195 #endif
//  196 static void initiatorReJoinNwk( devStartModes_t startMode );
//  197 static void initiatorSendScanReq( bool freshScan );
//  198 static ZStatus_t initiatorSendNwkStartReq( bdbTLScanRsp_t *pRsp );
//  199 static ZStatus_t initiatorSendNwkJoinReq( bdbTLScanRsp_t *pRsp );
//  200 static ZStatus_t initiatorSendNwkUpdateReq( bdbTLScanRsp_t *pRsp );
//  201 static void initiatorClearSelectedTarget( void );
//  202 
//  203 /*********************************************************************
//  204  * TOUCHLINK Initiator Callback Table
//  205  */
//  206 // Initiator Command Callbacks table

        RSEG XDATA_I:XDATA:NOROOT(0)
//  207 static bdbTL_InterPANCallbacks_t touchLinkInitiator_CmdCBs =
touchLinkInitiator_CmdCBs:
        DATA8
        DS 26
        REQUIRE `?<Initializer for touchLinkInitiator_CmdCBs>`
        REQUIRE __INIT_XDATA_I
//  208 {
//  209   // Received Server Commands
//  210   initiatorScanReqCB,       // Scan Request command
//  211   initiatorDeviceInfoReqCB, // Device Information Request command
//  212   initiatorIdentifyReqCB,   // Identify Request command
//  213   NULL,                     // Reset to Factory New Request command
//  214   NULL,                     // Network Start Request command
//  215 #if ( ZSTACK_ROUTER_BUILD )
//  216   initiatorNwkJoinReqCB,    // Network Join Router Request command
//  217   NULL,                     // Network Join End Device Request command
//  218 #else
//  219   NULL,                     // Network Join Router Request command
//  220   initiatorNwkJoinReqCB,    // Network Join End Device Request command
//  221 #endif
//  222   initiatorNwkUpdateReqCB,  // Network Update Request command
//  223 
//  224   // Received Client Commands
//  225   initiatorScanRspCB,       // Scan Response command
//  226   initiatorDeviceInfoRspCB, // Device Information Response command
//  227   initiatorNwkStartRspCB,   // Network Start Response command
//  228   initiatorNwkJoinRtrRspCB, // Network Join Router Response command
//  229   initiatorNwkJoinEDRspCB   // Network Join End Device Response command
//  230 };
//  231 
//  232 /*********************************************************************
//  233  * PUBLIC FUNCTIONS
//  234  */
//  235 
//  236 /*********************************************************************
//  237  * @fn      touchLinkInitiator_InitDevice
//  238  *
//  239  * @brief   Start the TOUCHLINK Initiator device in the network if it's not
//  240  *          factory new. Otherwise, determine the network parameters
//  241  *          and wait for a touchlink command.
//  242  *
//  243  * @param   none
//  244  *
//  245  * @return  status
//  246  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  247 ZStatus_t touchLinkInitiator_InitDevice( void )
touchLinkInitiator_InitDevice:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function touchLinkInitiator_InitDevice
        CODE
//  248 {
        FUNCALL touchLinkInitiator_InitDevice, initiatorReJoinNwk
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_InitDevice, initiatorSelectNwkParams
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_InitDevice, osal_pwrmgr_device
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  249   ZDO_Config_Node_Descriptor.LogicalType = zgDeviceLogicalType;
        MOV       DPTR,#zgDeviceLogicalType
        MOVX      A,@DPTR
        ANL       A,#0x7
        MOV       R0,A
        MOV       DPTR,#ZDO_Config_Node_Descriptor
        MOVX      A,@DPTR
        ANL       A,#0xf8
        ORL       A,R0
        MOV       DPTR,#ZDO_Config_Node_Descriptor
        MOVX      @DPTR,A
//  250   
//  251   // Is not factory new?
//  252   if ( bdbAttributes.bdbNodeIsOnANetwork == TRUE )
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_InitDevice_0
//  253   {
//  254     // Resume ZigBee functionality based on the info stored in NV
//  255     initiatorReJoinNwk( MODE_RESUME );
        ; Setup parameters for call to function initiatorReJoinNwk
        MOV       R1,#0x1
        LCALL     `??initiatorReJoinNwk::?relay`; Banked call to: initiatorReJoinNwk
        SJMP      ??touchLinkInitiator_InitDevice_1
//  256   }
//  257   else
//  258   {
//  259     initiatorSelectNwkParams();
??touchLinkInitiator_InitDevice_0:
        ; Setup parameters for call to function initiatorSelectNwkParams
        LCALL     `??initiatorSelectNwkParams::?relay`; Banked call to: initiatorSelectNwkParams
//  260   }
//  261 
//  262 #if defined ( POWER_SAVING )
//  263   osal_pwrmgr_device( PWRMGR_BATTERY );
??touchLinkInitiator_InitDevice_1:
        ; Setup parameters for call to function osal_pwrmgr_device
        MOV       R1,#0x1
        LCALL     `??osal_pwrmgr_device::?relay`; Banked call to: osal_pwrmgr_device
//  264 #endif
//  265 
//  266 #if ( ZSTACK_ROUTER_BUILD )
//  267   // Enable our receiver
//  268   savedRxOnIdle = TRUE;
//  269   ZMacSetReq( ZMacRxOnIdle, &savedRxOnIdle );
//  270   touchLink_PermitJoin(0);
//  271 #endif
//  272 
//  273   return ( ZSuccess );
        MOV       R1,#0x0
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
//  274 }
          CFI EndBlock cfiBlock0
//  275 
//  276 /*********************************************************************
//  277  * @fn      touchLinkInitiator_RegisterNotifyTLCB
//  278  *
//  279  * @brief   Register an Application's Touch-Link Notify callback function.
//  280  *
//  281  * @param   pfnNotifyApp - application callback
//  282  *
//  283  * @return  none
//  284  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  285 void touchLinkInitiator_RegisterNotifyTLCB( touchLink_NotifyAppTLCB_t pfnNotifyApp )
touchLinkInitiator_RegisterNotifyTLCB:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI Function touchLinkInitiator_RegisterNotifyTLCB
        CODE
//  286 {
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  287   pfnNotifyAppCB = pfnNotifyApp;
        MOV       DPTR,#pfnNotifyAppCB
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
//  288 }
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
          CFI EndBlock cfiBlock1
//  289 
//  290 /*********************************************************************
//  291  * @fn      touchLinkInitiator_RegisterSelectDiscDevCB
//  292  *
//  293  * @brief   Register an Application's Selection callback function, to select
//  294  *          a target from the discovered devices during a Touch-link scan.
//  295  *
//  296  * @param   pfnSelectDiscDev - application callback
//  297  *
//  298  * @return  none
//  299  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  300 void touchLinkInitiator_RegisterSelectDiscDevCB( touchLink_SelectDiscDevCB_t pfnSelectDiscDev )
touchLinkInitiator_RegisterSelectDiscDevCB:
          CFI Block cfiBlock2 Using cfiCommon0
          CFI Function touchLinkInitiator_RegisterSelectDiscDevCB
        CODE
//  301 {
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  302   pfnSelectDiscDevCB = pfnSelectDiscDev;
        MOV       DPTR,#pfnSelectDiscDevCB
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
//  303 }
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
          CFI EndBlock cfiBlock2
//  304 
//  305 /*********************************************************************
//  306  * @fn      touchLinkInitiator_StartDevDisc
//  307  *
//  308  * @brief   Start device discovery, scanning for other devices in the vicinity
//  309  *          of the originator (initiating first part of the Touch-Link process).
//  310  *          Device discovery shall only be initiated by address assignment capable
//  311  *          devices. To perform device discovery, the initiator shall broadcast
//  312  *          inter-PAN Scan Requests, spaced at an interval of
//  313  *          BDBCTL_SCAN_TIME_BASE_DURATION seconds.
//  314  *
//  315  * @param   none
//  316  *
//  317  * @return  status
//  318  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  319 ZStatus_t touchLinkInitiator_StartDevDisc( void )
touchLinkInitiator_StartDevDisc:
          CFI Block cfiBlock3 Using cfiCommon0
          CFI Function touchLinkInitiator_StartDevDisc
        CODE
//  320 {
        FUNCALL touchLinkInitiator_StartDevDisc, osal_clear_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, ZDApp_StopJoiningCycle
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, touchLinkInitiator_AbortTL
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, osal_get_timeoutEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, NLME_SetPollRate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, NLME_SetQueuedPollRate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, NLME_SetResponseRate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, ZMacGetReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, ZMacSetReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_StartDevDisc, initiatorSendScanReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV       A,#-0x10
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 1
        MOV       A,#-0x1
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 17)
//  321   osal_clear_event( ZDAppTaskID, ZDO_NETWORK_INIT ); // in case orphaned rejoin was called
        ; Setup parameters for call to function osal_clear_event
        MOV       R2,#0x1
        MOV       R3,#0x0
        MOV       DPTR,#ZDAppTaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_clear_event::?relay`; Banked call to: osal_clear_event
        MOV       A,R1
//  322   ZDApp_StopJoiningCycle();
        ; Setup parameters for call to function ZDApp_StopJoiningCycle
        LCALL     `??ZDApp_StopJoiningCycle::?relay`; Banked call to: ZDApp_StopJoiningCycle
        MOV       A,R1
//  323 
//  324   //abort any touchlink in progress and start the new dev discovery.
//  325   touchLinkInitiator_AbortTL();
        ; Setup parameters for call to function touchLinkInitiator_AbortTL
        LCALL     `??touchLinkInitiator_AbortTL::?relay`; Banked call to: touchLinkInitiator_AbortTL
        MOV       A,R1
//  326 
//  327   // To perform device discovery, switch to channel 11 and broadcast five
//  328   // consecutive inter-PAN Scan Requests. Then switch to each remaining
//  329   // TOUCHLINK channels in turn (i.e., 15, 20, and 25) and broadcast a single
//  330   // inter-PAN Scan Request on each channel.
//  331   if ( !osal_get_timeoutEx( touchLinkInitiator_TaskID, TOUCHLINK_TL_SCAN_BASE_EVT ) )
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV       R2,#0x20
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_get_timeoutEx::?relay`; Banked call to: osal_get_timeoutEx
        MOV       A,R2
        ORL       A,R3
        ORL       A,R4
        ORL       A,R5
        JZ        $+5
        LJMP      ??touchLinkInitiator_StartDevDisc_0 & 0xFFFF
//  332   {
//  333     uint8 x = TRUE;
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        MOV       A,#0x1
        MOVX      @DPTR,A
//  334 
//  335     // Generate a new Transaction Id
//  336     touchLinkTransID = ( ( (uint32)osal_rand() ) << 16 ) + osal_rand();
        ; Setup parameters for call to function osal_rand
        LCALL     `??osal_rand::?relay`; Banked call to: osal_rand
        MOV       ?V2,R2
        MOV       ?V3,R3
        MOV       ?V0,?V2
        MOV       ?V1,?V3
        MOV       ?V4,?V0
        MOV       ?V5,?V1
        CLR       A
        MOV       ?V6,A
        MOV       ?V7,A
        MOV       A,#0x10
        MOV       R0,#?V4
        LCALL     ?L_SHL
        ; Setup parameters for call to function osal_rand
        LCALL     `??osal_rand::?relay`; Banked call to: osal_rand
        MOV       ?V0,R2
        MOV       ?V1,R3
        CLR       A
        MOV       ?V2,A
        MOV       ?V3,A
        MOV       R0,#?V4
        MOV       R1,#?V0
        LCALL     ?L_ADD
        MOV       DPTR,#touchLinkTransID
        MOV       R0,#?V4
        LCALL     ?L_MOV_TO_X
//  337     osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_TRANS_LIFETIME_EXPIRED_EVT,
//  338                         BDBCTL_INTER_PAN_TRANS_ID_LIFETIME );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_1f40
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 21)
        MOV       R2,#0x10
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 17)
        MOV       A,R1
//  339 
//  340     if ( bdbAttributes.bdbNodeIsOnANetwork == TRUE )
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_StartDevDisc_1
//  341     {
//  342       // Turn off polling during touch-link procedure
//  343       savedPollRate = zgPollRate;
        MOV       DPTR,#zgPollRate
        MOV       R0,#?V0
        LCALL     ?L_MOV_X
        MOV       DPTR,#savedPollRate
        MOV       A,?V0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,?V1
        MOVX      @DPTR,A
//  344       savedQueuedPollRate = zgQueuedPollRate;
        MOV       DPTR,#zgQueuedPollRate
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#savedQueuedPollRate
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  345       savedResponsePollRate = zgResponsePollRate;
        MOV       DPTR,#zgResponsePollRate
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#savedResponsePollRate
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  346 
//  347       NLME_SetPollRate( 0 );
        ; Setup parameters for call to function NLME_SetPollRate
        MOV       DPTR,#__Constant_0
        LCALL     ?XLOAD_R2345
        LCALL     `??NLME_SetPollRate::?relay`; Banked call to: NLME_SetPollRate
//  348       NLME_SetQueuedPollRate( 0 );
        ; Setup parameters for call to function NLME_SetQueuedPollRate
        MOV       R2,#0x0
        MOV       R3,#0x0
        LCALL     `??NLME_SetQueuedPollRate::?relay`; Banked call to: NLME_SetQueuedPollRate
//  349       NLME_SetResponseRate( 0 );
        ; Setup parameters for call to function NLME_SetResponseRate
        MOV       R2,#0x0
        MOV       R3,#0x0
        LCALL     `??NLME_SetResponseRate::?relay`; Banked call to: NLME_SetResponseRate
//  350     }
//  351 
//  352     // Remember current rx state
//  353     ZMacGetReq( ZMacRxOnIdle, &savedRxOnIdle );
??touchLinkInitiator_StartDevDisc_1:
        ; Setup parameters for call to function ZMacGetReq
        MOV       R2,#savedRxOnIdle & 0xff
        MOV       R3,#(savedRxOnIdle >> 8) & 0xff
        MOV       R1,#0x52
        LCALL     `??ZMacGetReq::?relay`; Banked call to: ZMacGetReq
        MOV       A,R1
//  354 
//  355     // MAC receiver should be on during touch-link procedure
//  356     ZMacSetReq( ZMacRxOnIdle, &x );
        ; Setup parameters for call to function ZMacSetReq
        MOV       R2,?XSP + 0
        MOV       R3,?XSP + 1
        MOV       R1,#0x52
        LCALL     `??ZMacSetReq::?relay`; Banked call to: ZMacSetReq
        MOV       A,R1
//  357 
//  358     scanReqChannels = TOUCHLINK_SCAN_PRIMARY_CHANNELS;
        MOV       DPTR,#scanReqChannels
        MOV       A,#0x1
        MOVX      @DPTR,A
//  359     numScanReqSent = 0;
        MOV       DPTR,#numScanReqSent
        MOV       A,#0x0
        MOVX      @DPTR,A
//  360 
//  361     // Send out the first Scan Request
//  362     initiatorSendScanReq( TRUE );
        ; Setup parameters for call to function initiatorSendScanReq
        MOV       R1,#0x1
        LCALL     `??initiatorSendScanReq::?relay`; Banked call to: initiatorSendScanReq
//  363 
//  364     return ( ZSuccess );
        MOV       R1,#0x0
        SJMP      ??touchLinkInitiator_StartDevDisc_2
//  365   }
//  366 
//  367   return ( ZFailure );
??touchLinkInitiator_StartDevDisc_0:
        MOV       R1,#0x1
??touchLinkInitiator_StartDevDisc_2:
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV       R7,#0x8
        LJMP      ?BANKED_LEAVE_XDATA
//  368 }
          CFI EndBlock cfiBlock3
//  369 
//  370 /*********************************************************************
//  371  * @fn      bdbTL_Send_IndentifyReq
//  372  *
//  373  * @brief   Call to send out a scan request for factory new procedure
//  374  *
//  375  * @param   
//  376  *
//  377  * @return 
//  378  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  379 void touchLinkInitiator_ResetToFNProcedure( void )
touchLinkInitiator_ResetToFNProcedure:
          CFI Block cfiBlock4 Using cfiCommon0
          CFI Function touchLinkInitiator_ResetToFNProcedure
        CODE
//  380 {
        FUNCALL touchLinkInitiator_ResetToFNProcedure, osal_get_timeoutEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_ResetToFNProcedure, touchLinkInitiator_StartDevDisc
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  381   if ( ( bdbCommissioningProcedureState.bdbCommissioningState == 0 ) || ( osal_get_timeoutEx( bdb_TaskID,BDB_CHANGE_COMMISSIONING_STATE ) == 0 ) )
        MOV       DPTR,#bdbCommissioningProcedureState
        MOVX      A,@DPTR
        JZ        ??touchLinkInitiator_ResetToFNProcedure_0
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV       R2,#0x4
        MOV       R3,#0x0
        MOV       DPTR,#bdb_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_get_timeoutEx::?relay`; Banked call to: osal_get_timeoutEx
        MOV       A,R2
        ORL       A,R3
        ORL       A,R4
        ORL       A,R5
        JNZ       ??touchLinkInitiator_ResetToFNProcedure_1
//  382   {
//  383     touchlinkFNReset = TRUE;
??touchLinkInitiator_ResetToFNProcedure_0:
        MOV       DPTR,#touchlinkFNReset
        MOV       A,#0x1
        MOVX      @DPTR,A
//  384     touchLinkInitiator_StartDevDisc( );
        ; Setup parameters for call to function touchLinkInitiator_StartDevDisc
        LCALL     `??touchLinkInitiator_StartDevDisc::?relay`; Banked call to: touchLinkInitiator_StartDevDisc
        MOV       A,R1
//  385   }
//  386 }
??touchLinkInitiator_ResetToFNProcedure_1:
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
          CFI EndBlock cfiBlock4
//  387 
//  388 /*********************************************************************
//  389  * @fn      touchLinkInitiator_AbortTL
//  390  *
//  391  * @brief   Abort Touch-link device discovery.
//  392  *          Successful execution could be done before Network Start/Join
//  393  *          commands are sent. Until then, since no device parameters
//  394  *          such as network settings are altered, the Touch-Link is
//  395  *          still reversible.
//  396  *
//  397  * @param   none
//  398  *
//  399  * @return  status
//  400  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  401 ZStatus_t touchLinkInitiator_AbortTL( void )
touchLinkInitiator_AbortTL:
          CFI Block cfiBlock5 Using cfiCommon0
          CFI Function touchLinkInitiator_AbortTL
        CODE
//  402 {
        FUNCALL touchLinkInitiator_AbortTL, osal_stop_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_AbortTL, osal_stop_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_AbortTL, osal_stop_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_AbortTL, osal_stop_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_AbortTL, initiatorSetNwkToInitState
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_AbortTL, initiatorClearSelectedTarget
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  403   if ( ( osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_TL_SCAN_BASE_EVT ) == SUCCESS )
//  404        || ( osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_CFG_TARGET_EVT ) == SUCCESS )
//  405        || ( osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_START_RSP_EVT ) == SUCCESS )
//  406        || ( osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_JOIN_RSP_EVT ) == SUCCESS ) )
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#0x20
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
        JZ        ??touchLinkInitiator_AbortTL_0
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#0x40
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
        JZ        ??touchLinkInitiator_AbortTL_0
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#-0x80
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
        JZ        ??touchLinkInitiator_AbortTL_0
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#0x0
        MOV       R3,#0x1
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
        JNZ       ??touchLinkInitiator_AbortTL_1
//  407   {
//  408     initiatorSetNwkToInitState();
??touchLinkInitiator_AbortTL_0:
        ; Setup parameters for call to function initiatorSetNwkToInitState
        LCALL     `??initiatorSetNwkToInitState::?relay`; Banked call to: initiatorSetNwkToInitState
//  409     touchLinkTransID = 0;
        MOV       DPTR,#touchLinkTransID
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
//  410     numScanReqSent = 0;
        MOV       DPTR,#numScanReqSent
        MOV       A,#0x0
        MOVX      @DPTR,A
//  411     initiatorClearSelectedTarget();
        ; Setup parameters for call to function initiatorClearSelectedTarget
        LCALL     `??initiatorClearSelectedTarget::?relay`; Banked call to: initiatorClearSelectedTarget
//  412     selectedTargetNwkAddr = 0;
        MOV       DPTR,#selectedTargetNwkAddr
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
//  413 
//  414     return ( ZSuccess );
        MOV       R1,#0x0
        SJMP      ??touchLinkInitiator_AbortTL_2
//  415   }
//  416 
//  417   return ( ZFailure );
??touchLinkInitiator_AbortTL_1:
        MOV       R1,#0x1
??touchLinkInitiator_AbortTL_2:
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
//  418 }
          CFI EndBlock cfiBlock5
//  419 
//  420 /*********************************************************************
//  421  * @fn          touchLinkInitiator_Init
//  422  *
//  423  * @brief       Initialization function for the TOUCHLINK Initiator task.
//  424  *
//  425  * @param       task_id - TOUCHLINK Initiator task id
//  426  *
//  427  * @return      none
//  428  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  429 void touchLinkInitiator_Init( uint8 task_id )
touchLinkInitiator_Init:
          CFI Block cfiBlock6 Using cfiCommon0
          CFI Function touchLinkInitiator_Init
        CODE
//  430 {
        FUNCALL touchLinkInitiator_Init, touchLink_SetTouchLinkTaskId
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_Init, touchLink_InitVariables
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_Init, initiatorClearSelectedTarget
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_Init, zcl_registerForMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_Init, bdbTL_RegisterInterPANCmdCallbacks
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_Init, ZDO_RegisterForZdoCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV       A,#-0x9
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV       A,R1
        MOV       R6,A
//  431   // Save our own Task ID
//  432   touchLinkInitiator_TaskID = task_id;
        MOV       A,R6
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      @DPTR,A
//  433 
//  434   touchLink_SetTouchLinkTaskId( touchLinkInitiator_TaskID );
        ; Setup parameters for call to function touchLink_SetTouchLinkTaskId
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_SetTouchLinkTaskId::?relay`; Banked call to: touchLink_SetTouchLinkTaskId
//  435 
//  436 
//  437   // Build a broadcast address for the Scan Request
//  438   bcastAddr.addrMode = afAddrBroadcast;
        MOV       DPTR,#bcastAddr + 8
        MOV       A,#0xf
        MOVX      @DPTR,A
//  439   bcastAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR_DEVALL;
        MOV       DPTR,#bcastAddr
        MOV       A,#-0x1
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
//  440   bcastAddr.panId = 0xFFFF;
        MOV       DPTR,#bcastAddr + 10
        MOV       A,#-0x1
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
//  441   bcastAddr.endPoint = STUBAPS_INTER_PAN_EP;
        MOV       DPTR,#bcastAddr + 9
        MOV       A,#-0x2
        MOVX      @DPTR,A
//  442 
//  443   // Initialize TOUCHLINK common variables
//  444   touchLink_InitVariables( TRUE );
        ; Setup parameters for call to function touchLink_InitVariables
        MOV       R1,#0x1
        LCALL     `??touchLink_InitVariables::?relay`; Banked call to: touchLink_InitVariables
//  445 
//  446   savedPollRate = POLL_RATE;
        MOV       DPTR,#savedPollRate
        MOV       A,#-0x18
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x3
        MOVX      @DPTR,A
//  447   savedQueuedPollRate = QUEUED_POLL_RATE;
        MOV       DPTR,#savedQueuedPollRate
        MOV       A,#0x64
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
//  448   savedResponsePollRate = RESPONSE_POLL_RATE;
        MOV       DPTR,#savedResponsePollRate
        MOV       A,#0x64
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
//  449 
//  450   numScanReqSent = 0;
        MOV       DPTR,#numScanReqSent
        MOV       A,#0x0
        MOVX      @DPTR,A
//  451   initiatorClearSelectedTarget();
        ; Setup parameters for call to function initiatorClearSelectedTarget
        LCALL     `??initiatorClearSelectedTarget::?relay`; Banked call to: initiatorClearSelectedTarget
//  452   scanReqChannels = TOUCHLINK_SCAN_PRIMARY_CHANNELS;
        MOV       DPTR,#scanReqChannels
        MOV       A,#0x1
        MOVX      @DPTR,A
//  453 
//  454   initiatorSeqNum = 0;
        MOV       DPTR,#initiatorSeqNum
        MOV       A,#0x0
        MOVX      @DPTR,A
//  455 
//  456   // Register to receive the unprocessed Foundation command/response messages
//  457   zcl_registerForMsg( touchLinkInitiator_TaskID );
        ; Setup parameters for call to function zcl_registerForMsg
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??zcl_registerForMsg::?relay`; Banked call to: zcl_registerForMsg
        MOV       A,R1
//  458 
//  459   // Register for TOUCHLINK Initiator callbacks (for Inter-PAN commands)
//  460   bdbTL_RegisterInterPANCmdCallbacks( &touchLinkInitiator_CmdCBs );
        ; Setup parameters for call to function bdbTL_RegisterInterPANCmdCallbacks
        MOV       R2,#touchLinkInitiator_CmdCBs & 0xff
        MOV       R3,#(touchLinkInitiator_CmdCBs >> 8) & 0xff
        LCALL     `??bdbTL_RegisterInterPANCmdCallbacks::?relay`; Banked call to: bdbTL_RegisterInterPANCmdCallbacks
        MOV       A,R1
//  461 
//  462   // Register for Initiator to receive Leave Confirm
//  463   ZDO_RegisterForZdoCB( ZDO_LEAVE_CNF_CBID, initiatorZdoLeaveCnfCB );
        ; Setup parameters for call to function ZDO_RegisterForZdoCB
        MOV       R2,#`??initiatorZdoLeaveCnfCB::?relay` & 0xff
        MOV       R3,#(`??initiatorZdoLeaveCnfCB::?relay` >> 8) & 0xff
        MOV       R1,#0x5
        LCALL     `??ZDO_RegisterForZdoCB::?relay`; Banked call to: ZDO_RegisterForZdoCB
        MOV       A,R1
//  464 
//  465 #if (ZSTACK_ROUTER_BUILD)
//  466   // Register to process ZDO messages
//  467   ZDO_RegisterForZDOMsg( touchLinkInitiator_TaskID, Mgmt_Permit_Join_req );
//  468   ZDO_RegisterForZDOMsg( touchLinkInitiator_TaskID, Device_annce );
//  469 #endif
//  470 
//  471 }
        MOV       R7,#0x1
        LJMP      ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock6
//  472 
//  473 /*********************************************************************
//  474  * @fn      initiatorSelectNwkParams
//  475  *
//  476  * @brief   Select a unique PAN ID and Extended PAN ID when compared to
//  477  *          the PAN IDs and Extended PAN IDs of the networks detected
//  478  *          on the TOUCHLINK channels. The selected Extended PAN ID must be
//  479  *          a random number (and not equal to our IEEE address).
//  480  *
//  481  * @param   void
//  482  *
//  483  * @return  void
//  484  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  485 void initiatorSelectNwkParams( void )
initiatorSelectNwkParams:
          CFI Block cfiBlock7 Using cfiCommon0
          CFI Function initiatorSelectNwkParams
        CODE
//  486 {
        FUNCALL initiatorSelectNwkParams, touchLink_GetNumGrpIDs
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSelectNwkParams, touchLink_PopGrpIDRange
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSelectNwkParams, touchLink_GenerateRandNum
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSelectNwkParams, osal_rand
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSelectNwkParams, touchLink_PopNwkAddress
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSelectNwkParams, touchLink_SetMacNwkParams
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  487   // Set our group ID range
//  488   touchLink_PopGrpIDRange( touchLink_GetNumGrpIDs(), &touchLinkGrpIDsBegin, &touchLinkGrpIDsEnd );
        ; Setup parameters for call to function touchLink_GetNumGrpIDs
        LCALL     `??touchLink_GetNumGrpIDs::?relay`; Banked call to: touchLink_GetNumGrpIDs
        MOV       A,R1
        MOV       R1,A
        ; Setup parameters for call to function touchLink_PopGrpIDRange
        MOV       R4,#touchLinkGrpIDsEnd & 0xff
        MOV       R5,#(touchLinkGrpIDsEnd >> 8) & 0xff
        MOV       R2,#touchLinkGrpIDsBegin & 0xff
        MOV       R3,#(touchLinkGrpIDsBegin >> 8) & 0xff
        LCALL     `??touchLink_PopGrpIDRange::?relay`; Banked call to: touchLink_PopGrpIDRange
//  489 
//  490   // Select a random Extended PAN ID
//  491   touchLink_GenerateRandNum( _NIB.extendedPANID, Z_EXTADDR_LEN );
        ; Setup parameters for call to function touchLink_GenerateRandNum
        MOV       R1,#0x8
        MOV       R2,#(_NIB + 53) & 0xff
        MOV       R3,#((_NIB + 53) >> 8) & 0xff
        LCALL     `??touchLink_GenerateRandNum::?relay`; Banked call to: touchLink_GenerateRandNum
//  492 
//  493   // Select a random PAN ID
//  494   _NIB.nwkPanId = osal_rand();
        ; Setup parameters for call to function osal_rand
        LCALL     `??osal_rand::?relay`; Banked call to: osal_rand
        MOV       DPTR,#_NIB + 33
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
//  495 
//  496   if ( _NIB.nwkLogicalChannel == 0 )
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        JNZ       ??initiatorSelectNwkParams_0
//  497   {
//  498     if (TOUCHLINK_FIXED_CHANNEL_ENABLE == TRUE )
//  499     {
//  500       // Use the fixed channel defined in bdb_interface
//  501       _NIB.nwkLogicalChannel = TOUCHLINK_FIXED_CHANNEL;
        MOV       DPTR,#_NIB + 22
        MOV       A,#0xb
        MOVX      @DPTR,A
//  502     }
//  503     else
//  504     {
//  505       // Select randomly one of the TouchLink channels as our logical channel
//  506       _NIB.nwkLogicalChannel = touchLink_GetRandPrimaryChannel( );
//  507     }
//  508   }
//  509   
//  510   selectedTargetNwkAddr = 0;
??initiatorSelectNwkParams_0:
        MOV       DPTR,#selectedTargetNwkAddr
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
//  511 
//  512   if ( devState != DEV_INIT )
        MOV       DPTR,#devState
        MOVX      A,@DPTR
        XRL       A,#0x1
        JZ        ??initiatorSelectNwkParams_1
//  513   {
//  514     // Let's assume we're the first initiator
//  515     _NIB.nwkDevAddress = touchLink_PopNwkAddress();
        ; Setup parameters for call to function touchLink_PopNwkAddress
        LCALL     `??touchLink_PopNwkAddress::?relay`; Banked call to: touchLink_PopNwkAddress
        MOV       DPTR,#_NIB + 20
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
//  516   }
//  517 
//  518   // Configure MAC with our network parameters
//  519   touchLink_SetMacNwkParams( _NIB.nwkDevAddress, _NIB.nwkPanId, _NIB.nwkLogicalChannel );
??initiatorSelectNwkParams_1:
        ; Setup parameters for call to function touchLink_SetMacNwkParams
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R4,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R5,A
        MOV       DPTR,#_NIB + 20
        MOVX      A,@DPTR
        MOV       R2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R3,A
        LCALL     `??touchLink_SetMacNwkParams::?relay`; Banked call to: touchLink_SetMacNwkParams
//  520 }
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
          CFI EndBlock cfiBlock7
//  521 
//  522 /*********************************************************************
//  523  * @fn      touchLinkInitiator_RegisterForMsg
//  524  *
//  525  * @brief   Register application task to receive unprocessed messages
//  526  *          received by the initiator endpoint.
//  527  *
//  528  * @param   taskId - task Id of the Application where commands will be sent to
//  529  *
//  530  * @return  ZSuccess if task registration successful
//  531  *********************************************************************/

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  532 ZStatus_t touchLinkInitiator_RegisterForMsg( uint8 taskId )
touchLinkInitiator_RegisterForMsg:
          CFI Block cfiBlock8 Using cfiCommon0
          CFI Function touchLinkInitiator_RegisterForMsg
        CODE
//  533 {
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
        MOV       A,R1
        MOV       R0,A
//  534   if ( initiatorRegisteredMsgAppTaskID == TASK_NO_TASK )
        MOV       DPTR,#initiatorRegisteredMsgAppTaskID
        MOVX      A,@DPTR
        XRL       A,#0xff
        JNZ       ??touchLinkInitiator_RegisterForMsg_0
//  535   {
//  536     initiatorRegisteredMsgAppTaskID = taskId;
        MOV       A,R0
        MOV       DPTR,#initiatorRegisteredMsgAppTaskID
        MOVX      @DPTR,A
//  537     return ( ZSuccess );
        MOV       R1,#0x0
        SJMP      ??touchLinkInitiator_RegisterForMsg_1
//  538   }
//  539   return ( ZFailure );
??touchLinkInitiator_RegisterForMsg_0:
        MOV       R1,#0x1
??touchLinkInitiator_RegisterForMsg_1:
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
//  540 }
          CFI EndBlock cfiBlock8
//  541 
//  542 /*********************************************************************
//  543  * @fn          touchLinkInitiator_event_loop
//  544  *
//  545  * @brief       Event Loop Processor for TOUCHLINK Initiator.
//  546  *
//  547  * @param       task_id - task id
//  548  * @param       events - event bitmap
//  549  *
//  550  * @return      unprocessed events
//  551  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  552 uint16 touchLinkInitiator_event_loop( uint8 task_id, uint16 events )
touchLinkInitiator_event_loop:
          CFI Block cfiBlock9 Using cfiCommon0
          CFI Function touchLinkInitiator_event_loop
        CODE
//  553 {
        FUNCALL touchLinkInitiator_event_loop, osal_msg_receive
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorProcessStateChange
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_msg_send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorSendScanReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorSendScanReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_SetChannel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdbTL_Send_IndentifyReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 108, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 108, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 111, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_reportCommissioningState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdbTL_Send_IndentifyReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 108, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 108, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, sAddrExtCmp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, APSME_GetRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, sAddrExtCmp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_reportCommissioningState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_IsValidSplitFreeRanges
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_reportCommissioningState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLinkInitiator_ResetToFNSelectedTarget
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 111, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorSendNwkStartReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_reportCommissioningState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, nwk_setStateIdle
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_ProcessNwkUpdate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorSendNwkUpdateReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_reportCommissioningState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_reportCommissioningState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, nwk_ExtPANIDValid
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_SetNIB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 111, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_DecryptNwkKey
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 115, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 115, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, ZDSecMgrUpdateTCAddress
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 111, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_reportCommissioningState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 110, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 110, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_DevRejoin
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 111, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, AddrMgrEntryUpdate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 111, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorSetNwkToInitState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_UpdateNV
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_SendLeaveReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_reportCommissioningState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_SendLeaveReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_PerformNetworkDisc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 110, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 110, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_DevRejoin
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_FreeNwkParamList
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorSetNwkToInitState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorClearSelectedTarget
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, ZDApp_StopJoiningCycle
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, NLME_GetExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, ZDP_DeviceAnnce
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 108, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 108, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_nv_write
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 111, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 111, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, nwk_ExtPANIDValid
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_GenerateRandNum
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_GetRandPrimaryChannel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_GerFreeRanges
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_PerformNetworkDisc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, touchLink_SetChannel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, NLME_SetUpdateID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, bdb_Initiator_SendNwkJoinReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorClearSelectedTarget
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_event_loop, initiatorSetNwkToInitState
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 107, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 107, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        REQUIRE ?V8
        REQUIRE ?V9
        REQUIRE ?V10
        REQUIRE ?V11
        MOV       A,#-0x14
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 20)
        ; Saved register size: 20
        ; Auto size: 87
        MOV       A,#-0x57
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       ?V2,R1
        MOV       A,R2
        MOV       R6,A
        MOV       A,R3
        MOV       R7,A
//  554   if ( events & SYS_EVENT_MSG )
        MOV       A,R6
        ANL       A,#0x0
        MOV       R0,A
        MOV       A,R7
        ANL       A,#0x80
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??touchLinkInitiator_event_loop_0
//  555   {
//  556     osal_event_hdr_t *pMsg;
//  557     ZStatus_t stat = ZFailure;
        MOV       ?V3,#0x1
//  558 
//  559     if ( (pMsg = (osal_event_hdr_t *)osal_msg_receive( task_id )) != NULL )
        ; Setup parameters for call to function osal_msg_receive
        MOV       R1,?V2
        LCALL     `??osal_msg_receive::?relay`; Banked call to: osal_msg_receive
        MOV       ?V4,R2
        MOV       ?V5,R3
        MOV       ?V0,?V4
        MOV       ?V1,?V5
        MOV       A,?V0
        ORL       A,?V1
        JZ        ??touchLinkInitiator_event_loop_1
//  560     {
//  561       switch ( pMsg->event )
        MOV       DPL,?V0
        MOV       DPH,?V1
        MOVX      A,@DPTR
        XRL       A,#0xd1
        JNZ       ??touchLinkInitiator_event_loop_2
//  562       {
//  563 
//  564 #if (ZSTACK_ROUTER_BUILD)
//  565         case ZDO_CB_MSG:
//  566           // ZDO sends the message that we registered for
//  567           touchLink_RouterProcessZDOMsg( (zdoIncomingMsg_t *)pMsg );
//  568           stat = ZSuccess;
//  569           break;
//  570 #endif
//  571         case ZDO_STATE_CHANGE:
//  572           initiatorProcessStateChange( (devStates_t)pMsg->status );
        ; Setup parameters for call to function initiatorProcessStateChange
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??initiatorProcessStateChange::?relay`; Banked call to: initiatorProcessStateChange
//  573           stat = ZSuccess;
        MOV       ?V3,#0x0
//  574           break;
//  575 
//  576         default:
//  577           break;
//  578       }
//  579 
//  580       if ( stat == ZSuccess )
??touchLinkInitiator_event_loop_2:
        MOV       A,?V3
        JNZ       ??touchLinkInitiator_event_loop_3
//  581       {
//  582         // Release the OSAL message
//  583         VOID osal_msg_deallocate( (uint8 *)pMsg );
        ; Setup parameters for call to function osal_msg_deallocate
        MOV       R2,?V0
        MOV       R3,?V1
        LCALL     `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
        MOV       A,R1
        SJMP      ??touchLinkInitiator_event_loop_1
//  584       }
//  585       else
//  586       {
//  587         // forward to the application
//  588         osal_msg_send( initiatorRegisteredMsgAppTaskID, (uint8 *)pMsg );
??touchLinkInitiator_event_loop_3:
        ; Setup parameters for call to function osal_msg_send
        MOV       R2,?V0
        MOV       R3,?V1
        MOV       DPTR,#initiatorRegisteredMsgAppTaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_msg_send::?relay`; Banked call to: osal_msg_send
        MOV       A,R1
//  589       }
//  590     }
//  591 
//  592     // return unprocessed events
//  593     return ( events ^ SYS_EVENT_MSG );
??touchLinkInitiator_event_loop_1:
        MOV       A,R6
        XRL       A,#0x0
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x80
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  594   }
//  595 
//  596   if ( events & TOUCHLINK_TL_SCAN_BASE_EVT )
??touchLinkInitiator_event_loop_0:
        MOV       A,R6
        ANL       A,#0x20
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_5 & 0xFFFF
//  597   {
//  598     if ( ( ( scanReqChannels == TOUCHLINK_SCAN_PRIMARY_CHANNELS ) && ( numScanReqSent < TOUCHLINK_INITIATOR_NUM_SCAN_REQ_PRIMARY  ) ) ||
//  599          ( ( scanReqChannels == TOUCHLINK_SCAN_SECONDARY_CHANNELS ) && ( numScanReqSent < TOUCHLINK_INITIATOR_NUM_SCAN_REQ_EXTENDED ) ) )
        MOV       DPTR,#scanReqChannels
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_event_loop_6
        MOV       DPTR,#numScanReqSent
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,#0x8
        JC        ??touchLinkInitiator_event_loop_7
??touchLinkInitiator_event_loop_6:
        MOV       DPTR,#scanReqChannels
        MOVX      A,@DPTR
        XRL       A,#0x2
        JNZ       ??touchLinkInitiator_event_loop_8
        MOV       DPTR,#numScanReqSent
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,#0x14
        JNC       ??touchLinkInitiator_event_loop_8
//  600     {
//  601       // Send another Scan Request on the next channel
//  602       initiatorSendScanReq( FALSE );
??touchLinkInitiator_event_loop_7:
        ; Setup parameters for call to function initiatorSendScanReq
        MOV       R1,#0x0
        LCALL     `??initiatorSendScanReq::?relay`; Banked call to: initiatorSendScanReq
        LJMP      ??touchLinkInitiator_event_loop_9 & 0xFFFF
//  603     }
//  604     else // Channels scan is complete
//  605     {
//  606       if ( ( scanReqChannels == TOUCHLINK_SCAN_PRIMARY_CHANNELS ) && ( bdbAttributes.bdbNodeIsOnANetwork == FALSE ) )
??touchLinkInitiator_event_loop_8:
        MOV       DPTR,#scanReqChannels
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_event_loop_10
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        JNZ       ??touchLinkInitiator_event_loop_10
//  607       {
//  608         // Extended scan is required, lets scan secondary channels
//  609         scanReqChannels = TOUCHLINK_SCAN_SECONDARY_CHANNELS;
        MOV       DPTR,#scanReqChannels
        MOV       A,#0x2
        MOVX      @DPTR,A
//  610 
//  611         // Send another Scan Request on the next channel
//  612         initiatorSendScanReq( FALSE );
        ; Setup parameters for call to function initiatorSendScanReq
        MOV       R1,#0x0
        LCALL     `??initiatorSendScanReq::?relay`; Banked call to: initiatorSendScanReq
        LJMP      ??touchLinkInitiator_event_loop_9 & 0xFFFF
//  613       }
//  614       // See if we've received any Scan Responses back
//  615       else if ( ( selectedTarget.lastRssi != TOUCHLINK_WORST_RSSI )
//  616                && ( selectedTarget.scanRsp.deviceInfo.endpoint != DEV_INFO_INVALID_EP ) )
??touchLinkInitiator_event_loop_10:
        MOV       DPTR,#selectedTarget + 53
        MOVX      A,@DPTR
        XRL       A,#0xba
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_11 & 0xFFFF
        MOV       DPTR,#selectedTarget + 31
        MOVX      A,@DPTR
        XRL       A,#0xfe
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_11 & 0xFFFF
//  617       {
//  618         // Make sure the responder is not a factory new initiator if this device is also 
//  619         // factory new
//  620         if ( ( selectedTarget.scanRsp.touchLinkInitiator == FALSE ) ||
//  621              ( bdbAttributes.bdbNodeIsOnANetwork == TRUE ) )
        MOV       DPTR,#selectedTarget + 7
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        SWAP      A
        ANL       A,#0xf
        ANL       A,#0x1
        MOV       C,0xE0 /* A   */.0
        JNC       ??touchLinkInitiator_event_loop_12
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        XRL       A,#0x1
        JZ        $+5
        LJMP      ??touchLinkInitiator_event_loop_9 & 0xFFFF
//  622         {
//  623           bdbTLIdentifyReq_t req;
//  624 
//  625           // Tune to the channel that the Scan Response was heard on
//  626           touchLink_SetChannel( selectedTarget.rxChannel );
??touchLinkInitiator_event_loop_12:
        ; Setup parameters for call to function touchLink_SetChannel
        MOV       DPTR,#selectedTarget + 52
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_SetChannel::?relay`; Banked call to: touchLink_SetChannel
//  627 
//  628           req.transID = selectedTarget.scanRsp.transID;
        MOV       DPTR,#selectedTarget
        LCALL     ?XLOAD_R0123
        MOV       A,#0x18
        LCALL     ?XSTACK_DISP0_8
        LCALL     ?XSTORE_R0123
//  629           req.IdDuration = BDB_TL_IDENTIFY_TIME;
        MOV       A,#0x1c
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#-0x1
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
//  630           
//  631           if ( touchlinkFNReset == TRUE )
        MOV       DPTR,#touchlinkFNReset
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_event_loop_13
//  632           {
//  633             osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_CFG_TARGET_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x40
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
//  634             return ( events ^ TOUCHLINK_TL_SCAN_BASE_EVT );
        MOV       A,R6
        XRL       A,#0x20
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  635           }
//  636           
//  637           bdbTL_Send_IndentifyReq( TOUCHLINK_INTERNAL_ENDPOINT, &(selectedTarget.srcAddr), &req, initiatorSeqNum++ );
??touchLinkInitiator_event_loop_13:
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_IndentifyReq
        MOV       A,R0
        MOV       ?V0,A
        MOV       R0,#?V0
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 108)
        MOV       A,#0x19
        LCALL     ?XSTACK_DISP102_8
        MOV       R2,#(selectedTarget + 38) & 0xff
        MOV       R3,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_IndentifyReq::?relay`; Banked call to: bdbTL_Send_IndentifyReq
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
//  638 
//  639 #if ZSTACK_ROUTER_BUILD
//  640           uint8 i = 0;
//  641             
//  642           while ( !CHECK_BIT ( selectedTarget.scanRsp.keyBitmask , i ) ) 
//  643           {
//  644             i++;
//  645           }
//  646     
//  647           initiatorNwkParams.keyIndex = i;
//  648           zTouchLinkNwkStartRtr = TRUE;
//  649           // Disabe other TouchLink events
//  650           osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_DISABLE_RX_EVT );
//  651 #endif
//  652           osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_CFG_TARGET_EVT, TOUCHLINK_INITIATOR_IDENTIFY_INTERVAL );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_1f4
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 111)
        MOV       R2,#0x40
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
        SJMP      ??touchLinkInitiator_event_loop_9
//  653         }
//  654         // else wait for touch-link commands from the other initiator
//  655       }
//  656       else
//  657       {
//  658         // We did not manage to select any target
//  659         // Let's just go back to our initial configuration
//  660         osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_DISABLE_RX_EVT );
??touchLinkInitiator_event_loop_11:
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x0
        MOV       R3,#0x2
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
//  661         bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_TL_NO_SCAN_RESPONSE;
        MOV       DPTR,#bdbAttributes + 10
        MOV       A,#0x5
        MOVX      @DPTR,A
//  662         bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, FALSE );
        ; Setup parameters for call to function bdb_reportCommissioningState
        MOV       R2,#0x0
        MOV       R1,#0x2
        LCALL     `??bdb_reportCommissioningState::?relay`; Banked call to: bdb_reportCommissioningState
//  663       }
//  664     }
//  665 
//  666     // return unprocessed events
//  667     return ( events ^ TOUCHLINK_TL_SCAN_BASE_EVT );
??touchLinkInitiator_event_loop_9:
        MOV       A,R6
        XRL       A,#0x20
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  668   }
//  669 
//  670   if ( events & TOUCHLINK_CFG_TARGET_EVT )
??touchLinkInitiator_event_loop_5:
        MOV       A,R6
        ANL       A,#0x40
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_14 & 0xFFFF
//  671   {
//  672     ZStatus_t status = ZFailure;
        MOV       ?V0,#0x1
//  673 
//  674     bdbTLIdentifyReq_t req;
//  675 
//  676     req.transID = selectedTarget.scanRsp.transID;
        MOV       DPTR,#selectedTarget
        LCALL     ?XLOAD_R0123
        MOV       A,#0x12
        LCALL     ?XSTACK_DISP0_8
        LCALL     ?XSTORE_R0123
//  677     req.IdDuration = 0x00;
        MOV       A,#0x16
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
//  678     uint8 tcExtAddr[Z_EXTADDR_LEN];
//  679     uint8 DistributedSecurityNwkAddress[Z_EXTADDR_LEN] = { 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF };
        MOV       DPTR,#`?<Constant {255, 255, 255, 255, 255, 255, 255,`
        MOV       A,#0x47
        LCALL     ?XSTACK_DISP102_8
        MOV       A,#0x8
        LCALL     ?MOVE_LONG8_XDATA_XDATA
//  680         
//  681     if ( zTouchLinkNwkStartRtr == FALSE )
        MOV       DPTR,#zTouchLinkNwkStartRtr
        MOVX      A,@DPTR
        JNZ       ??touchLinkInitiator_event_loop_15
//  682     {
//  683       // Send an Identify stop Request
//  684       bdbTL_Send_IndentifyReq( TOUCHLINK_INTERNAL_ENDPOINT, &(selectedTarget.srcAddr), &req, initiatorSeqNum++ );
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_IndentifyReq
        MOV       A,R0
        MOV       ?V1,A
        MOV       R0,#?V1
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 108)
        MOV       A,#0x13
        LCALL     ?XSTACK_DISP102_8
        MOV       R2,#(selectedTarget + 38) & 0xff
        MOV       R3,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_IndentifyReq::?relay`; Banked call to: bdbTL_Send_IndentifyReq
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
//  685     }
//  686     
//  687    // See if the target is part of our network
//  688     if ( !TOUCHLINK_SAME_NWK( selectedTarget.scanRsp.PANID, selectedTarget.scanRsp.extendedPANID ) )
??touchLinkInitiator_event_loop_15:
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#selectedTarget + 25
        MOVX      A,@DPTR
        XRL       A,R0
        JNZ       ??touchLinkInitiator_event_loop_16
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,R1
??touchLinkInitiator_event_loop_16:
        JNZ       ??touchLinkInitiator_event_loop_17
        ; Setup parameters for call to function sAddrExtCmp
        MOV       R4,#(selectedTarget + 15) & 0xff
        MOV       R5,#((selectedTarget + 15) >> 8) & 0xff
        MOV       R2,#(_NIB + 53) & 0xff
        MOV       R3,#((_NIB + 53) >> 8) & 0xff
        LCALL     `??sAddrExtCmp::?relay`; Banked call to: sAddrExtCmp
        MOV       A,R1
        JZ        $+5
        LJMP      ??touchLinkInitiator_event_loop_18 & 0xFFFF
//  689     {
//  690       // If the local device is not the trust center, always return TRUE
//  691       status = APSME_GetRequest( apsTrustCenterAddress, 0, tcExtAddr );
??touchLinkInitiator_event_loop_17:
        ; Setup parameters for call to function APSME_GetRequest
        MOV       A,#0x4f
        LCALL     ?XSTACK_DISP102_8
        MOV       R2,#0x0
        MOV       R3,#0x0
        MOV       R1,#-0x55
        LCALL     `??APSME_GetRequest::?relay`; Banked call to: APSME_GetRequest
        MOV       A,R1
        MOV       ?V0,A
//  692         
//  693       // Notify BDB state machine
//  694       if ( bdbAttributes.bdbNodeIsOnANetwork == TRUE )
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_event_loop_19
//  695       {
//  696         if ( ( status == ZSuccess ) && ( !osal_ExtAddrEqual( DistributedSecurityNwkAddress, tcExtAddr ) ) )
        MOV       A,?V0
        JNZ       ??touchLinkInitiator_event_loop_19
        ; Setup parameters for call to function sAddrExtCmp
        MOV       A,#0x4f
        LCALL     ?XSTACK_DISP102_8
        MOV       A,#0x47
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??sAddrExtCmp::?relay`; Banked call to: sAddrExtCmp
        MOV       A,R1
        JNZ       ??touchLinkInitiator_event_loop_19
//  697         {
//  698           bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_TL_NOT_PERMITTED;
        MOV       DPTR,#bdbAttributes + 10
        MOV       A,#0x6
        MOVX      @DPTR,A
//  699           bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, FALSE );
        ; Setup parameters for call to function bdb_reportCommissioningState
        MOV       R2,#0x0
        MOV       R1,#0x2
        LCALL     `??bdb_reportCommissioningState::?relay`; Banked call to: bdb_reportCommissioningState
//  700           return ( events ^ TOUCHLINK_CFG_TARGET_EVT );
        MOV       A,R6
        XRL       A,#0x40
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  701         }
//  702       }
//  703             
//  704       // verify address ranges split possible if required
//  705       if ( !touchLink_IsValidSplitFreeRanges( selectedTarget.scanRsp.totalGrpIDs ) )
??touchLinkInitiator_event_loop_19:
        ; Setup parameters for call to function touchLink_IsValidSplitFreeRanges
        MOV       DPTR,#selectedTarget + 30
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_IsValidSplitFreeRanges::?relay`; Banked call to: touchLink_IsValidSplitFreeRanges
        MOV       A,R1
        JNZ       ??touchLinkInitiator_event_loop_20
//  706       {
//  707         bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_TL_NOT_AA_CAPABLE;
        MOV       DPTR,#bdbAttributes + 10
        MOV       A,#0x4
        MOVX      @DPTR,A
//  708         bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, FALSE );
        ; Setup parameters for call to function bdb_reportCommissioningState
        MOV       R2,#0x0
        MOV       R1,#0x2
        LCALL     `??bdb_reportCommissioningState::?relay`; Banked call to: bdb_reportCommissioningState
//  709         return ( events ^ TOUCHLINK_CFG_TARGET_EVT );
        MOV       A,R6
        XRL       A,#0x40
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  710       }
//  711       
//  712       if ( touchlinkFNReset == TRUE )
??touchLinkInitiator_event_loop_20:
        MOV       DPTR,#touchlinkFNReset
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_event_loop_21
//  713       {
//  714         touchlinkFNReset = FALSE;
        MOV       DPTR,#touchlinkFNReset
        MOV       A,#0x0
        MOVX      @DPTR,A
//  715         touchLinkInitiator_ResetToFNSelectedTarget( );
        ; Setup parameters for call to function touchLinkInitiator_ResetToFNSelectedTarget
        LCALL     `??touchLinkInitiator_ResetToFNSelectedTarget::?`; Banked call to: touchLinkInitiator_ResetToFNSelectedTarget
        MOV       A,R1
//  716         osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_DISABLE_RX_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x0
        MOV       R3,#0x2
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
//  717         
//  718         return ( events ^ TOUCHLINK_CFG_TARGET_EVT );
        MOV       A,R6
        XRL       A,#0x40
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  719       }
//  720         
//  721       if ( bdbAttributes.bdbNodeIsOnANetwork == TRUE )
??touchLinkInitiator_event_loop_21:
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_event_loop_22
//  722       {
//  723         // Ask the target to join our network
//  724         osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_NWK_FORMATION_SUCCESS_EVT, 50);
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_32
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 111)
        MOV       R2,#0x0
        MOV       R3,#0x20
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
//  725         zTouchLinkNwkStartRtr = FALSE;
        MOV       DPTR,#zTouchLinkNwkStartRtr
        MOV       A,#0x0
        MOVX      @DPTR,A
//  726         return ( events ^ TOUCHLINK_CFG_TARGET_EVT );
        MOV       A,R6
        XRL       A,#0x40
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  727       }
//  728       else if ( ZSTACK_ROUTER_BUILD == TRUE )
//  729       {
//  730         // Tune to the channel that the Scan Response was heard on
//  731         touchLink_SetChannel( selectedTarget.rxChannel );
//  732         
//  733         // Try to form a new network
//  734         osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_NWK_RTR_START_EVT);
//  735         return ( events ^ TOUCHLINK_CFG_TARGET_EVT );
//  736       }
//  737       else if ( ZSTACK_ROUTER_BUILD == FALSE )
//  738       {
//  739         if ( selectedTarget.scanRsp.zLogicalType == ZG_DEVICETYPE_ROUTER )
??touchLinkInitiator_event_loop_22:
        MOV       DPTR,#selectedTarget + 5
        MOVX      A,@DPTR
        ANL       A,#0x3
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,R0
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_event_loop_23
//  740         {
//  741           if ( bdbAttributes.bdbNodeIsOnANetwork == FALSE )
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        JNZ       ??touchLinkInitiator_event_loop_24
//  742           {
//  743             _NIB.nwkDevAddress = APL_FREE_NWK_ADDR_RANGE_BEGIN;
        MOV       DPTR,#_NIB + 20
        MOV       A,#0x1
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
//  744           }
//  745           
//  746           // Must be the first light; ask the light to start the network
//  747           status = initiatorSendNwkStartReq( &(selectedTarget.scanRsp) );
??touchLinkInitiator_event_loop_24:
        ; Setup parameters for call to function initiatorSendNwkStartReq
        MOV       R2,#selectedTarget & 0xff
        MOV       R3,#(selectedTarget >> 8) & 0xff
        LCALL     `??initiatorSendNwkStartReq::?relay`; Banked call to: initiatorSendNwkStartReq
        MOV       A,R1
        MOV       ?V0,A
        LJMP      ??touchLinkInitiator_event_loop_25 & 0xFFFF
//  748         }
//  749         else
//  750         {
//  751           // Notify the BDB state machine 
//  752           bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_NO_NETWORK;
??touchLinkInitiator_event_loop_23:
        MOV       DPTR,#bdbAttributes + 10
        MOV       A,#0x2
        MOVX      @DPTR,A
//  753           bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, FALSE );
        ; Setup parameters for call to function bdb_reportCommissioningState
        MOV       R2,#0x0
        MOV       R1,#0x2
        LCALL     `??bdb_reportCommissioningState::?relay`; Banked call to: bdb_reportCommissioningState
//  754           return ( events ^ TOUCHLINK_CFG_TARGET_EVT );
        MOV       A,R6
        XRL       A,#0x40
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  755         }
//  756       }
//  757     }
//  758     
//  759     else if ( _NIB.nwkUpdateId != selectedTarget.scanRsp.nwkUpdateId )
??touchLinkInitiator_event_loop_18:
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       DPTR,#selectedTarget + 23
        MOVX      A,@DPTR
        XRL       A,R0
        JZ        ??touchLinkInitiator_event_loop_26
//  760     {
//  761       // Set NWK task to run
//  762       nwk_setStateIdle( TRUE );
        ; Setup parameters for call to function nwk_setStateIdle
        MOV       R1,#0x1
        LCALL     `??nwk_setStateIdle::?relay`; Banked call to: nwk_setStateIdle
//  763       
//  764       // Target is already part of our network
//  765       if ( selectedTarget.scanRsp.nwkUpdateId > _NIB.nwkUpdateId )
        MOV       DPTR,#selectedTarget + 23
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,R0
        JNC       ??touchLinkInitiator_event_loop_27
//  766       {
//  767         // Update our network update id and logical channel
//  768         touchLink_ProcessNwkUpdate( selectedTarget.scanRsp.nwkUpdateId, selectedTarget.scanRsp.logicalChannel );
        ; Setup parameters for call to function touchLink_ProcessNwkUpdate
        MOV       DPTR,#selectedTarget + 24
        MOVX      A,@DPTR
        MOV       R2,A
        MOV       DPTR,#selectedTarget + 23
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_ProcessNwkUpdate::?relay`; Banked call to: touchLink_ProcessNwkUpdate
//  769 
//  770         // We're done here
//  771         status = ZSuccess;
        MOV       ?V0,#0x0
        SJMP      ??touchLinkInitiator_event_loop_28
//  772       }
//  773       else if ( selectedTarget.scanRsp.nwkUpdateId < _NIB.nwkUpdateId )
??touchLinkInitiator_event_loop_27:
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       DPTR,#selectedTarget + 23
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,R0
        JNC       ??touchLinkInitiator_event_loop_28
//  774       {
//  775         // Inform the target to update its network update id and logical channel
//  776         initiatorSendNwkUpdateReq( &(selectedTarget.scanRsp) ); // there's no corresponding response!
        ; Setup parameters for call to function initiatorSendNwkUpdateReq
        MOV       R2,#selectedTarget & 0xff
        MOV       R3,#(selectedTarget >> 8) & 0xff
        LCALL     `??initiatorSendNwkUpdateReq::?relay`; Banked call to: initiatorSendNwkUpdateReq
        MOV       A,R1
//  777 
//  778         // Notify the application about this device
//  779         osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_NOTIFY_APP_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x0
        MOV       R3,#0x8
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
//  780       }
//  781       
//  782       bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_SUCCESS;
??touchLinkInitiator_event_loop_28:
        MOV       DPTR,#bdbAttributes + 10
        MOV       A,#0x0
        MOVX      @DPTR,A
//  783       bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, TRUE );
        ; Setup parameters for call to function bdb_reportCommissioningState
        MOV       R2,#0x1
        MOV       R1,#0x2
        LCALL     `??bdb_reportCommissioningState::?relay`; Banked call to: bdb_reportCommissioningState
//  784       return ( events ^ TOUCHLINK_CFG_TARGET_EVT );
        MOV       A,R6
        XRL       A,#0x40
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  785     }
//  786     
//  787     //we are touchlinking to a light in our network, just send application the device info
//  788     else if ( selectedTarget.scanRsp.touchLinkInitiator == FALSE )
??touchLinkInitiator_event_loop_26:
        MOV       DPTR,#selectedTarget + 7
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        SWAP      A
        ANL       A,#0xf
        ANL       A,#0x1
        MOV       C,0xE0 /* A   */.0
        JC        ??touchLinkInitiator_event_loop_25
//  789     {
//  790       epInfoRec_t rec;
//  791       rec.nwkAddr = selectedTarget.scanRsp.nwkAddr;
        MOV       DPTR,#selectedTarget + 27
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0xa
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  792       rec.endpoint = selectedTarget.scanRsp.deviceInfo.endpoint;
        MOV       DPTR,#selectedTarget + 31
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0xc
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
//  793       rec.profileID = selectedTarget.scanRsp.deviceInfo.profileID;
        MOV       DPTR,#selectedTarget + 32
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0xd
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  794       rec.deviceID = selectedTarget.scanRsp.deviceInfo.deviceID;
        MOV       DPTR,#selectedTarget + 34
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0xf
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  795       rec.version = selectedTarget.scanRsp.deviceInfo.version;
        MOV       DPTR,#selectedTarget + 36
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x11
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
//  796       // Notify the application
//  797       if ( pfnNotifyAppCB )
        MOV       DPTR,#pfnNotifyAppCB
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??touchLinkInitiator_event_loop_29
//  798       {
//  799         (*pfnNotifyAppCB)( &rec );
        ; Setup parameters for indirect call
        MOV       A,#0xa
        LCALL     ?XSTACK_DISP101_8
        MOV       DPTR,#pfnNotifyAppCB
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       DPH,A
        MOV       DPL,R0
        LCALL     ?CALL_IND
        MOV       A,R1
//  800       }
//  801       bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_SUCCESS;
??touchLinkInitiator_event_loop_29:
        MOV       DPTR,#bdbAttributes + 10
        MOV       A,#0x0
        MOVX      @DPTR,A
//  802       bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, TRUE );
        ; Setup parameters for call to function bdb_reportCommissioningState
        MOV       R2,#0x1
        MOV       R1,#0x2
        LCALL     `??bdb_reportCommissioningState::?relay`; Banked call to: bdb_reportCommissioningState
//  803     }
//  804 
//  805     // return unprocessed events
//  806     return ( events ^ TOUCHLINK_CFG_TARGET_EVT );
??touchLinkInitiator_event_loop_25:
        MOV       A,R6
        XRL       A,#0x40
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  807   }
//  808 
//  809   if ( events & TOUCHLINK_W4_NWK_START_RSP_EVT )
??touchLinkInitiator_event_loop_14:
        MOV       A,R6
        ANL       A,#0x80
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_30 & 0xFFFF
//  810   {
//  811     bdbTLNwkStartRsp_t *pRsp = &(rxRsp.nwkStartRsp);
        MOV       ?V0,#rxRsp & 0xff
        MOV       ?V1,#(rxRsp >> 8) & 0xff
//  812 
//  813     // Look if we have a valid response
//  814     if ( ( pRsp->status == TOUCHLINK_NETWORK_START_RSP_STATUS_SUCCESS )
//  815        && ( ( nwk_ExtPANIDValid( pRsp->extendedPANID ) ) && ( touchLink_IsValidTransID( pRsp->transID ) ) ) )
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        JZ        $+5
        LJMP      ??touchLinkInitiator_event_loop_31 & 0xFFFF
        ; Setup parameters for call to function nwk_ExtPANIDValid
        MOV       A,?V0
        ADD       A,#0x5
        MOV       R2,A
        CLR       A
        ADDC      A,?V1
        MOV       R3,A
        LCALL     `??nwk_ExtPANIDValid::?relay`; Banked call to: nwk_ExtPANIDValid
        MOV       A,R1
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_31 & 0xFFFF
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,?V0
        MOV       DPH,?V1
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_31 & 0xFFFF
//  816     {
//  817       // Copy the new network parameters to NIB
//  818       touchLink_SetNIB( ( ZSTACK_ROUTER_BUILD ? NWK_ROUTER : NWK_REJOINING ),
//  819                   _NIB.nwkDevAddress, pRsp->extendedPANID,
//  820                   pRsp->logicalChannel, pRsp->panId, pRsp->nwkUpdateId );
        ; Setup parameters for call to function touchLink_SetNIB
        MOV       A,?V0
        ADD       A,#0xd
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       ?V3,A
        MOV       R0,#?V3
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 108)
        MOV       A,?V0
        ADD       A,#0xf
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        LCALL     ?PUSH_XSTACK8_X_TWO
          CFI CFA_XSP16 add(XSP16, 110)
        MOV       A,?V0
        ADD       A,#0xe
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       ?V3,A
        MOV       R0,#?V3
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 111)
        MOV       A,?V0
        ADD       A,#0x5
        MOV       R4,A
        CLR       A
        ADDC      A,?V1
        MOV       R5,A
        MOV       DPTR,#_NIB + 20
        MOVX      A,@DPTR
        MOV       R2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R3,A
        MOV       R1,#0x9
        LCALL     `??touchLink_SetNIB::?relay`; Banked call to: touchLink_SetNIB
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
//  821 
//  822       // Apply the received network key
//  823       touchLink_DecryptNwkKey( encKeySent, keyIndexSent, pRsp->transID, responseIDSent );
        ; Setup parameters for call to function touchLink_DecryptNwkKey
        MOV       DPTR,#responseIDSent
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 111)
        MOV       DPL,?V0
        MOV       DPH,?V1
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 115)
        MOV       DPTR,#keyIndexSent
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       R2,#encKeySent & 0xff
        MOV       R3,#(encKeySent >> 8) & 0xff
        LCALL     `??touchLink_DecryptNwkKey::?relay`; Banked call to: touchLink_DecryptNwkKey
        MOV       A,#0x8
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
//  824 
//  825       // This is not a usual Trust Center protected network
//  826       ZDSecMgrUpdateTCAddress( NULL );
        ; Setup parameters for call to function ZDSecMgrUpdateTCAddress
        MOV       R2,#0x0
        MOV       R3,#0x0
        LCALL     `??ZDSecMgrUpdateTCAddress::?relay`; Banked call to: ZDSecMgrUpdateTCAddress
//  827 
//  828       // Notify the application about this device
//  829       osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_NOTIFY_APP_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x0
        MOV       R3,#0x8
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
//  830 
//  831       // Wait at least BDBCTL_MIN_STARTUP_DELAY_TIME seconds to allow the
//  832       // target to start the network correctly. Join the target afterwards.
//  833       osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_START_NWK_EVT, BDBCTL_MIN_STARTUP_DELAY_TIME );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_7d0
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 111)
        MOV       R2,#0x4
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
        SJMP      ??touchLinkInitiator_event_loop_32
//  834     }
//  835     else
//  836     {
//  837       // Notify the BDB state machine 
//  838       bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_NO_NETWORK;
??touchLinkInitiator_event_loop_31:
        MOV       DPTR,#bdbAttributes + 10
        MOV       A,#0x2
        MOVX      @DPTR,A
//  839       bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, FALSE );        
        ; Setup parameters for call to function bdb_reportCommissioningState
        MOV       R2,#0x0
        MOV       R1,#0x2
        LCALL     `??bdb_reportCommissioningState::?relay`; Banked call to: bdb_reportCommissioningState
//  840     }
//  841 
//  842     // return unprocessed events
//  843     return ( events ^ TOUCHLINK_W4_NWK_START_RSP_EVT );
??touchLinkInitiator_event_loop_32:
        MOV       A,R6
        XRL       A,#0x80
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  844   }
//  845 
//  846   if ( events & TOUCHLINK_START_NWK_EVT )
??touchLinkInitiator_event_loop_30:
        MOV       A,R6
        ANL       A,#0x4
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_33 & 0xFFFF
//  847   {
//  848     // Rejoins without NWK scan
//  849 
//  850     bdbTLNwkStartRsp_t *pRsp = &(rxRsp.nwkStartRsp);
        MOV       ?V0,#rxRsp & 0xff
        MOV       ?V1,#(rxRsp >> 8) & 0xff
//  851     bdbTLNwkRejoin_t rejoinInf;
//  852     
//  853     rejoinInf.panId = pRsp->panId;
        MOV       A,?V0
        ADD       A,#0xf
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x36
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  854     rejoinInf.logicalChannel = pRsp->logicalChannel;
        MOV       A,?V0
        ADD       A,#0xe
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x35
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
//  855     osal_memcpy( rejoinInf.extendedPANID, pRsp->extendedPANID, Z_EXTADDR_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV       A,?V0
        ADD       A,#0x5
        MOV       ?V4,A
        CLR       A
        ADDC      A,?V1
        MOV       ?V5,A
        MOV       ?V6,#0x0
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 110)
        MOV       R4,#0x8
        MOV       R5,#0x0
        MOV       A,#0x2f
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV       A,#0x3
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
//  856     rejoinInf.nwkAddr = selectedTargetNwkAddr;
        MOV       DPTR,#selectedTargetNwkAddr
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x38
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  857     rejoinInf.nwkUpdateId = pRsp->nwkUpdateId;
        MOV       A,?V0
        ADD       A,#0xd
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x34
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
//  858       
//  859     touchLink_DevRejoin( &rejoinInf );
        ; Setup parameters for call to function touchLink_DevRejoin
        MOV       A,#0x2c
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??touchLink_DevRejoin::?relay`; Banked call to: touchLink_DevRejoin
//  860 
//  861     // return unprocessed events
//  862     return ( events ^ TOUCHLINK_START_NWK_EVT );
        MOV       A,R6
        XRL       A,#0x4
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  863   }
//  864 
//  865   if ( events & TOUCHLINK_W4_NWK_JOIN_RSP_EVT )
??touchLinkInitiator_event_loop_33:
        MOV       A,R6
        ANL       A,#0x0
        MOV       R0,A
        MOV       A,R7
        ANL       A,#0x1
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_34 & 0xFFFF
//  866   {
//  867     bdbTLNwkJoinRsp_t *pRsp = &(rxRsp.nwkJoinRsp);
        MOV       ?V0,#rxRsp & 0xff
        MOV       ?V1,#(rxRsp >> 8) & 0xff
//  868 
//  869     if ( pRsp->status == TOUCHLINK_NETWORK_JOIN_RSP_STATUS_SUCCESS )
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        JZ        $+5
        LJMP      ??touchLinkInitiator_event_loop_35 & 0xFFFF
//  870     {
//  871       // Wait at least BDBCTL_MIN_STARTUP_DELAY_TIME seconds to allow the
//  872       // target to start operating on the network correctly. Notify the
//  873       // application afterwards.
//  874       osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_NOTIFY_APP_EVT,
//  875                           BDBCTL_MIN_STARTUP_DELAY_TIME );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_7d0
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 111)
        MOV       R2,#0x0
        MOV       R3,#0x8
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
//  876       
//  877       // Establish bind links
//  878       if ( pRespondentHead != NULL )
        MOV       DPTR,#pRespondentHead
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??touchLinkInitiator_event_loop_36
//  879       {
//  880         AddrMgrEntry_t entry;
//  881 
//  882         // add the device's address information
//  883         entry.user    = ADDRMGR_USER_BINDING;
        MOV       A,#0x3a
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#0x4
        MOVX      @DPTR,A
//  884         entry.nwkAddr = selectedTargetNwkAddr;
        MOV       DPTR,#selectedTargetNwkAddr
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x3b
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  885         osal_cpyExtAddr( entry.extAddr, selectedTargetIEEEAddr );
        ; Setup parameters for call to function sAddrExtCpy
        MOV       R4,#selectedTargetIEEEAddr & 0xff
        MOV       R5,#(selectedTargetIEEEAddr >> 8) & 0xff
        MOV       A,#0x3d
        LCALL     ?XSTACK_DISP0_8
        MOV       R2,DPL
        MOV       R3,DPH
        LCALL     `??sAddrExtCpy::?relay`; Banked call to: sAddrExtCpy
//  886         AddrMgrEntryUpdate( &entry );
        ; Setup parameters for call to function AddrMgrEntryUpdate
        MOV       A,#0x3a
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??AddrMgrEntryUpdate::?relay`; Banked call to: AddrMgrEntryUpdate
        MOV       A,R1
//  887         osal_start_timerEx( bdb_TaskID, BDB_RESPONDENT_PROCESS_TIMEOUT, SIMPLEDESC_RESPONSE_TIMEOUT );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#zgPollRate
        MOV       R0,#?V8
        LCALL     ?L_MOV_X
        MOV       DPTR,#__Constant_3
        MOV       R0,#?V4
        LCALL     ?L_MOV_X
        MOV       R0,#?V8
        MOV       R1,#?V4
        LCALL     ?L_MUL
        MOV       R0,#?V8
        LCALL     ?PUSH_XSTACK_I_FOUR
          CFI CFA_XSP16 add(XSP16, 111)
        MOV       R2,#0x0
        MOV       R3,#0x40
        MOV       DPTR,#bdb_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
//  888       }
//  889       
//  890       // We're done with touch-link procedure here
//  891       initiatorSetNwkToInitState();
??touchLinkInitiator_event_loop_36:
        ; Setup parameters for call to function initiatorSetNwkToInitState
        LCALL     `??initiatorSetNwkToInitState::?relay`; Banked call to: initiatorSetNwkToInitState
//  892       //bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_SUCCESS;
//  893       //bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, TRUE );
//  894 
//  895       touchLink_UpdateNV( TOUCHLINK_UPDATE_NV_RANGES );
        ; Setup parameters for call to function touchLink_UpdateNV
        MOV       R1,#0x2
        LCALL     `??touchLink_UpdateNV::?relay`; Banked call to: touchLink_UpdateNV
//  896 
//  897       if ( ( POLL_RATE == 0 ) && ( selectedTarget.scanRsp.zLogicalType == ZG_DEVICETYPE_ENDDEVICE ) )
        SJMP      ??touchLinkInitiator_event_loop_37
//  898       {
//  899         //allow to respond to TOUCHLINK commission utility commands after TL
//  900         NLME_SetPollRate( TOUCHLINK_INITIATOR_TEMP_POST_TL_POLL_RATE );
//  901         //polling should reset when TL life time expires
//  902       }
//  903     }
//  904     else 
//  905     {
//  906       touchLink_SendLeaveReq( );
??touchLinkInitiator_event_loop_35:
        ; Setup parameters for call to function touchLink_SendLeaveReq
        LCALL     `??touchLink_SendLeaveReq::?relay`; Banked call to: touchLink_SendLeaveReq
        MOV       A,R1
//  907       bdbAttributes.bdbCommissioningStatus = BDB_COMMISSIONING_TL_TARGET_FAILURE;
        MOV       DPTR,#bdbAttributes + 10
        MOV       A,#0x3
        MOVX      @DPTR,A
//  908       bdb_reportCommissioningState( BDB_COMMISSIONING_STATE_TL, FALSE );
        ; Setup parameters for call to function bdb_reportCommissioningState
        MOV       R2,#0x0
        MOV       R1,#0x2
        LCALL     `??bdb_reportCommissioningState::?relay`; Banked call to: bdb_reportCommissioningState
//  909     }
//  910 
//  911     // return unprocessed events
//  912     return ( events ^ TOUCHLINK_W4_NWK_JOIN_RSP_EVT );
??touchLinkInitiator_event_loop_37:
        MOV       A,R6
        XRL       A,#0x0
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x1
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  913   }
//  914 
//  915   if ( events & TOUCHLINK_NWK_JOIN_IND_EVT )
??touchLinkInitiator_event_loop_34:
        MOV       A,R6
        ANL       A,#0x2
        JZ        ??touchLinkInitiator_event_loop_38
//  916   {
//  917     // If not factory new, perform a Leave on our old network
//  918     if ( ( bdbAttributes.bdbNodeIsOnANetwork == TRUE ) && ( touchLink_SendLeaveReq( ) == ZSuccess ) )
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLinkInitiator_event_loop_39
        ; Setup parameters for call to function touchLink_SendLeaveReq
        LCALL     `??touchLink_SendLeaveReq::?relay`; Banked call to: touchLink_SendLeaveReq
        MOV       A,R1
        JNZ       ??touchLinkInitiator_event_loop_39
//  919     {
//  920       // Wait for Leave confirmation before joining the new network
//  921       touchLinkLeaveInitiated = TOUCHLINK_LEAVE_TO_JOIN_NWK;
        MOV       DPTR,#touchLinkLeaveInitiated
        MOV       A,#0x1
        MOVX      @DPTR,A
        SJMP      ??touchLinkInitiator_event_loop_40
//  922     }
//  923     else
//  924     {
//  925 #if ( ZSTACK_ROUTER_BUILD )
//  926       // Notify our task to join this network
//  927       osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_JOIN_NWK_ATTEMPT_EVT );
//  928 #else
//  929       bdbTLNwkParams_t *pParams = &(joinReq.nwkParams);
??touchLinkInitiator_event_loop_39:
        MOV       ?V0,#(joinReq + 4) & 0xff
        MOV       ?V1,#((joinReq + 4) >> 8) & 0xff
//  930       
//  931       // Notify our task to join this network
//  932       // Perform Network Discovery to verify our new network parameters uniqeness
//  933       touchLink_PerformNetworkDisc( (uint32)1 << pParams->logicalChannel );
        ; Setup parameters for call to function touchLink_PerformNetworkDisc
        MOV       ?V4,#0x1
        MOV       ?V5,#0x0
        MOV       ?V6,#0x0
        MOV       ?V7,#0x0
        MOV       A,?V0
        ADD       A,#0x19
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,#?V4
        LCALL     ?L_SHL
        MOV       R2,?V4
        MOV       R3,?V5
        MOV       R4,?V6
        MOV       R5,?V7
        LCALL     `??touchLink_PerformNetworkDisc::?relay`; Banked call to: touchLink_PerformNetworkDisc
//  934 #endif
//  935     }
//  936 
//  937     // return unprocessed events
//  938     return ( events ^ TOUCHLINK_NWK_JOIN_IND_EVT );
??touchLinkInitiator_event_loop_40:
        MOV       A,R6
        XRL       A,#0x2
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  939   }
//  940 
//  941   if ( events & TOUCHLINK_JOIN_NWK_ATTEMPT_EVT )
??touchLinkInitiator_event_loop_38:
        MOV       A,R6
        ANL       A,#0x8
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_41 & 0xFFFF
//  942   {
//  943     // Join the network
//  944 #if ( ZSTACK_ROUTER_BUILD )
//  945     initiatorJoinNwk();
//  946 #else
//  947     bdbTLNwkParams_t *pParams = &(joinReq.nwkParams);
        MOV       ?V0,#(joinReq + 4) & 0xff
        MOV       ?V1,#((joinReq + 4) >> 8) & 0xff
//  948     
//  949     bdbTLNwkRejoin_t rejoinInf;
//  950          
//  951     rejoinInf.panId = pParams->panId;
        MOV       A,?V0
        ADD       A,#0x1a
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x28
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  952     rejoinInf.logicalChannel = pParams->logicalChannel;
        MOV       A,?V0
        ADD       A,#0x19
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x27
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
//  953     osal_memcpy( rejoinInf.extendedPANID, pParams->extendedPANID, Z_EXTADDR_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV       ?V4,?V0
        MOV       ?V5,?V1
        MOV       ?V6,#0x0
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 110)
        MOV       R4,#0x8
        MOV       R5,#0x0
        MOV       A,#0x21
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV       A,#0x3
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
//  954     rejoinInf.nwkAddr = pDiscoveredNwkParamList->chosenRouter;
        MOV       DPTR,#pDiscoveredNwkParamList
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        XCH       A,R0
        ADD       A,#0xd
        MOV       DPL,A
        XCH       A,R0
        ADDC      A,#0x0
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x2a
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
//  955     rejoinInf.nwkUpdateId = joinReq.nwkUpdateId;
        MOV       DPTR,#joinReq + 46
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x26
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
//  956       
//  957     touchLink_DevRejoin( &rejoinInf );
        ; Setup parameters for call to function touchLink_DevRejoin
        MOV       A,#0x1e
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??touchLink_DevRejoin::?relay`; Banked call to: touchLink_DevRejoin
//  958 #endif
//  959     touchLink_FreeNwkParamList();
        ; Setup parameters for call to function touchLink_FreeNwkParamList
        LCALL     `??touchLink_FreeNwkParamList::?relay`; Banked call to: touchLink_FreeNwkParamList
//  960 
//  961     // return unprocessed events
//  962     return ( events ^ TOUCHLINK_JOIN_NWK_ATTEMPT_EVT );
        MOV       A,R6
        XRL       A,#0x8
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  963   }
//  964 
//  965   if ( events & TOUCHLINK_DISABLE_RX_EVT )
??touchLinkInitiator_event_loop_41:
        MOV       A,R6
        ANL       A,#0x0
        MOV       R0,A
        MOV       A,R7
        ANL       A,#0x2
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??touchLinkInitiator_event_loop_42
//  966   {
//  967     // We're not asked to join a network
//  968     initiatorSetNwkToInitState();
        ; Setup parameters for call to function initiatorSetNwkToInitState
        LCALL     `??initiatorSetNwkToInitState::?relay`; Banked call to: initiatorSetNwkToInitState
//  969 
//  970     scanReqChannels = TOUCHLINK_SCAN_PRIMARY_CHANNELS;
        MOV       DPTR,#scanReqChannels
        MOV       A,#0x1
        MOVX      @DPTR,A
//  971     numScanReqSent = 0;
        MOV       DPTR,#numScanReqSent
        MOV       A,#0x0
        MOVX      @DPTR,A
//  972     // Reset selected target
//  973     if ( zTouchLinkNwkStartRtr == FALSE )
        MOV       DPTR,#zTouchLinkNwkStartRtr
        MOVX      A,@DPTR
        JNZ       ??touchLinkInitiator_event_loop_43
//  974     {
//  975       initiatorClearSelectedTarget();
        ; Setup parameters for call to function initiatorClearSelectedTarget
        LCALL     `??initiatorClearSelectedTarget::?relay`; Banked call to: initiatorClearSelectedTarget
//  976     }
//  977 
//  978     // return unprocessed events
//  979     return ( events ^ TOUCHLINK_DISABLE_RX_EVT );
??touchLinkInitiator_event_loop_43:
        MOV       A,R6
        XRL       A,#0x0
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x2
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  980   }
//  981 
//  982   if ( events & TOUCHLINK_W4_REJOIN_EVT )
??touchLinkInitiator_event_loop_42:
        MOV       A,R6
        ANL       A,#0x0
        MOV       R0,A
        MOV       A,R7
        ANL       A,#0x4
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??touchLinkInitiator_event_loop_44
//  983   {
//  984     // Stop joining cycle
//  985     ZDApp_StopJoiningCycle();
        ; Setup parameters for call to function ZDApp_StopJoiningCycle
        LCALL     `??ZDApp_StopJoiningCycle::?relay`; Banked call to: ZDApp_StopJoiningCycle
        MOV       A,R1
//  986 
//  987     // return unprocessed events
//  988     return ( events ^ TOUCHLINK_W4_REJOIN_EVT );
        MOV       A,R6
        XRL       A,#0x0
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x4
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
//  989   }
//  990 
//  991   if ( events & TOUCHLINK_NOTIFY_APP_EVT )
??touchLinkInitiator_event_loop_44:
        MOV       A,R6
        ANL       A,#0x0
        MOV       R0,A
        MOV       A,R7
        ANL       A,#0x8
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_45 & 0xFFFF
//  992   {
//  993     ZDP_DeviceAnnce( NLME_GetShortAddr(), NLME_GetExtAddr(),
//  994                      ZDO_Config_Node_Descriptor.CapabilityFlags, 0 );
        ; Setup parameters for call to function NLME_GetExtAddr
        LCALL     `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
        MOV       ?V4,R2
        MOV       ?V5,R3
        MOV       ?V0,?V4
        MOV       ?V1,?V5
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL     `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
        MOV       ?V4,R2
        MOV       ?V5,R3
        MOV       R2,?V4
        MOV       R3,?V5
        ; Setup parameters for call to function ZDP_DeviceAnnce
        MOV       ?V3,#0x0
        MOV       R0,#?V3
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 108)
        MOV       DPTR,#ZDO_Config_Node_Descriptor + 2
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       R4,?V0
        MOV       R5,?V1
        LCALL     `??ZDP_DeviceAnnce::?relay`; Banked call to: ZDP_DeviceAnnce
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
//  995     
//  996     if ( selectedTarget.lastRssi > TOUCHLINK_WORST_RSSI )
        MOV       DPTR,#selectedTarget + 53
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,#-0x45
        MOV       C,0xD0 /* PSW */.2
        XRL       A,PSW
        RLC       A
        JC        ??touchLinkInitiator_event_loop_46
//  997     {
//  998       epInfoRec_t rec;
//  999       rec.nwkAddr = selectedTarget.newNwkAddr; // newly assigned network address
        MOV       DPTR,#selectedTarget + 50
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x2
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1000       rec.endpoint = selectedTarget.scanRsp.deviceInfo.endpoint;
        MOV       DPTR,#selectedTarget + 31
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1001       rec.profileID = selectedTarget.scanRsp.deviceInfo.profileID;
        MOV       DPTR,#selectedTarget + 32
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x5
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1002       rec.deviceID = selectedTarget.scanRsp.deviceInfo.deviceID;
        MOV       DPTR,#selectedTarget + 34
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x7
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1003       rec.version = selectedTarget.scanRsp.deviceInfo.version;
        MOV       DPTR,#selectedTarget + 36
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x9
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1004       // Notify the application
// 1005       if ( pfnNotifyAppCB )
        MOV       DPTR,#pfnNotifyAppCB
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??touchLinkInitiator_event_loop_46
// 1006       {
// 1007         (*pfnNotifyAppCB)( &rec );
        ; Setup parameters for indirect call
        MOV       A,#0x2
        LCALL     ?XSTACK_DISP101_8
        MOV       DPTR,#pfnNotifyAppCB
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       DPH,A
        MOV       DPL,R0
        LCALL     ?CALL_IND
        MOV       A,R1
// 1008       }
// 1009     }
// 1010     // return unprocessed events
// 1011     return ( events ^ TOUCHLINK_NOTIFY_APP_EVT );
??touchLinkInitiator_event_loop_46:
        MOV       A,R6
        XRL       A,#0x0
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x8
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
// 1012   }
// 1013   
// 1014   if ( events & TOUCHLINK_NWK_RTR_START_EVT )
??touchLinkInitiator_event_loop_45:
        MOV       A,R6
        ANL       A,#0x0
        MOV       R0,A
        MOV       A,R7
        ANL       A,#0x10
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       $+5
        LJMP      ??touchLinkInitiator_event_loop_47 & 0xFFFF
// 1015   {
// 1016     uint16 nwkAddr = INVALID_NODE_ADDR;
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        MOV       A,#-0x2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
// 1017     
// 1018     osal_nv_write( ZCD_NV_NIB, osal_offsetof( nwkIB_t, nwkDevAddress ),
// 1019                    sizeof( uint16), &nwkAddr );
        ; Setup parameters for call to function osal_nv_write
        MOV       R0,?XSP + 0
        MOV       R1,?XSP + 1
        MOV       ?V0,R0
        MOV       ?V1,R1
        MOV       R0,#?V0
        LCALL     ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 109)
        MOV       ?V0,#0x2
        MOV       ?V1,#0x0
        MOV       R0,#?V0
        LCALL     ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 111)
        MOV       R4,#0x14
        MOV       R5,#0x0
        MOV       R2,#0x21
        MOV       R3,#0x0
        LCALL     `??osal_nv_write::?relay`; Banked call to: osal_nv_write
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 107)
        MOV       A,R1
// 1020     
// 1021     // If the PAN Id, Extended PAN Id or Logical Channel are zero then
// 1022     // determine each of these parameters
// 1023     if ( !nwk_ExtPANIDValid( initiatorNwkParams.extendedPANID ) )
        ; Setup parameters for call to function nwk_ExtPANIDValid
        MOV       R2,#initiatorNwkParams & 0xff
        MOV       R3,#(initiatorNwkParams >> 8) & 0xff
        LCALL     `??nwk_ExtPANIDValid::?relay`; Banked call to: nwk_ExtPANIDValid
        MOV       A,R1
        JNZ       ??touchLinkInitiator_event_loop_48
// 1024     {
// 1025       touchLink_GenerateRandNum( initiatorNwkParams.extendedPANID, Z_EXTADDR_LEN );
        ; Setup parameters for call to function touchLink_GenerateRandNum
        MOV       R1,#0x8
        MOV       R2,#initiatorNwkParams & 0xff
        MOV       R3,#(initiatorNwkParams >> 8) & 0xff
        LCALL     `??touchLink_GenerateRandNum::?relay`; Banked call to: touchLink_GenerateRandNum
// 1026     }
// 1027 
// 1028     if ( initiatorNwkParams.panId == 0 )
??touchLinkInitiator_event_loop_48:
        MOV       DPTR,#initiatorNwkParams + 26
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       ??touchLinkInitiator_event_loop_49
// 1029     {
// 1030       initiatorNwkParams.panId = osal_rand();
        ; Setup parameters for call to function osal_rand
        LCALL     `??osal_rand::?relay`; Banked call to: osal_rand
        MOV       DPTR,#initiatorNwkParams + 26
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
// 1031     }
// 1032 
// 1033     if ( initiatorNwkParams.logicalChannel == 0 )
??touchLinkInitiator_event_loop_49:
        MOV       DPTR,#initiatorNwkParams + 25
        MOVX      A,@DPTR
        JNZ       ??touchLinkInitiator_event_loop_50
// 1034     {
// 1035       initiatorNwkParams.logicalChannel = touchLink_GetRandPrimaryChannel();
        ; Setup parameters for call to function touchLink_GetRandPrimaryChannel
        LCALL     `??touchLink_GetRandPrimaryChannel::?relay`; Banked call to: touchLink_GetRandPrimaryChannel
        MOV       A,R1
        MOV       DPTR,#initiatorNwkParams + 25
        MOVX      @DPTR,A
// 1036     }
// 1037 
// 1038     if ( selectedTarget.scanRsp.touchLinkAddressAssignment)
??touchLinkInitiator_event_loop_50:
        MOV       DPTR,#selectedTarget + 7
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        CLR       C
        RRC       A
        ANL       A,#0x1
        MOV       C,0xE0 /* A   */.0
        JNC       ??touchLinkInitiator_event_loop_51
// 1039     {
// 1040       touchLink_GerFreeRanges( &initiatorNwkParams );
        ; Setup parameters for call to function touchLink_GerFreeRanges
        MOV       R2,#initiatorNwkParams & 0xff
        MOV       R3,#(initiatorNwkParams >> 8) & 0xff
        LCALL     `??touchLink_GerFreeRanges::?relay`; Banked call to: touchLink_GerFreeRanges
// 1041     }
// 1042 
// 1043     // Perform Network Discovery to verify our new network parameters uniqeness
// 1044     touchLink_PerformNetworkDisc( (uint32)1 << initiatorNwkParams.logicalChannel );
??touchLinkInitiator_event_loop_51:
        ; Setup parameters for call to function touchLink_PerformNetworkDisc
        MOV       ?V4,#0x1
        MOV       ?V5,#0x0
        MOV       ?V6,#0x0
        MOV       ?V7,#0x0
        MOV       DPTR,#initiatorNwkParams + 25
        MOVX      A,@DPTR
        MOV       R0,#?V4
        LCALL     ?L_SHL
        MOV       R2,?V4
        MOV       R3,?V5
        MOV       R4,?V6
        MOV       R5,?V7
        LCALL     `??touchLink_PerformNetworkDisc::?relay`; Banked call to: touchLink_PerformNetworkDisc
// 1045 
// 1046     // return unprocessed events
// 1047     return ( events ^ TOUCHLINK_NWK_RTR_START_EVT );
        MOV       A,R6
        XRL       A,#0x0
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x10
        MOV       R3,A
        LJMP      ??touchLinkInitiator_event_loop_4 & 0xFFFF
// 1048   }
// 1049   
// 1050   if ( events & TOUCHLINK_NWK_FORMATION_SUCCESS_EVT )
??touchLinkInitiator_event_loop_47:
        MOV       A,R6
        ANL       A,#0x0
        MOV       R0,A
        MOV       A,R7
        ANL       A,#0x20
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??touchLinkInitiator_event_loop_52
// 1051   {
// 1052     if( bdbCommissioningProcedureState.bdbCommissioningState == BDB_COMMISSIONING_STATE_TL )
        MOV       DPTR,#bdbCommissioningProcedureState
        MOVX      A,@DPTR
        XRL       A,#0x2
        JNZ       ??touchLinkInitiator_event_loop_53
// 1053     {
// 1054       bdbTLNwkJoinRsp_t *pRsp = &(rxRsp.nwkJoinRsp);
        MOV       ?V0,#rxRsp & 0xff
        MOV       ?V1,#(rxRsp >> 8) & 0xff
// 1055       pRsp->status = TOUCHLINK_NETWORK_JOIN_RSP_STATUS_FAILURE;
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,#0x1
        MOVX      @DPTR,A
// 1056       
// 1057       // Tune to the channel that the Scan Response was heard on
// 1058       touchLink_SetChannel( selectedTarget.rxChannel );
        ; Setup parameters for call to function touchLink_SetChannel
        MOV       DPTR,#selectedTarget + 52
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_SetChannel::?relay`; Banked call to: touchLink_SetChannel
// 1059       
// 1060       if ( _NIB.nwkUpdateId <= selectedTarget.scanRsp.nwkUpdateId )
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       DPTR,#selectedTarget + 23
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,R0
        JC        ??touchLinkInitiator_event_loop_54
// 1061       {
// 1062         NLME_SetUpdateID( selectedTarget.scanRsp.nwkUpdateId );
        ; Setup parameters for call to function NLME_SetUpdateID
        MOV       DPTR,#selectedTarget + 23
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??NLME_SetUpdateID::?relay`; Banked call to: NLME_SetUpdateID
// 1063       }
// 1064       // Ask the target to join our network
// 1065       bdb_Initiator_SendNwkJoinReq( );
??touchLinkInitiator_event_loop_54:
        ; Setup parameters for call to function bdb_Initiator_SendNwkJoinReq
        LCALL     `??bdb_Initiator_SendNwkJoinReq::?relay`; Banked call to: bdb_Initiator_SendNwkJoinReq
        MOV       A,R1
// 1066       zTouchLinkNwkStartRtr = FALSE;
        MOV       DPTR,#zTouchLinkNwkStartRtr
        MOV       A,#0x0
        MOVX      @DPTR,A
// 1067     }
// 1068     return ( events ^ TOUCHLINK_NWK_FORMATION_SUCCESS_EVT );
??touchLinkInitiator_event_loop_53:
        MOV       A,R6
        XRL       A,#0x0
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x20
        MOV       R3,A
        SJMP      ??touchLinkInitiator_event_loop_4
// 1069   }
// 1070 
// 1071   if ( events & TOUCHLINK_NWK_DISC_CNF_EVT )
??touchLinkInitiator_event_loop_52:
        MOV       A,R6
        MOV       C,0xE0 /* A   */.0
        JNC       ??touchLinkInitiator_event_loop_55
// 1072   {
// 1073 #if ZSTACK_ROUTER_BUILD
// 1074     if ( bdbAttributes.bdbNodeIsOnANetwork == FALSE )
// 1075     {
// 1076       initiatorNwkParams.nwkAddr = APL_FREE_NWK_ADDR_RANGE_BEGIN;
// 1077     }
// 1078     // Copy in the encrypted network key
// 1079     touchLink_EncryptNwkKey( initiatorNwkParams.nwkKey, initiatorNwkParams.keyIndex, touchLinkTransID, touchLinkResponseID );
// 1080     // Start operating on the new network
// 1081     touchLinkStartRtr( &initiatorNwkParams, touchLinkTransID );
// 1082 #else
// 1083     // Join to the chosen network
// 1084     osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_JOIN_NWK_ATTEMPT_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x8
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
// 1085 #endif
// 1086     // return unprocessed events
// 1087     return ( events ^ TOUCHLINK_NWK_DISC_CNF_EVT );
        MOV       A,R6
        XRL       A,#0x1
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        SJMP      ??touchLinkInitiator_event_loop_4
// 1088   }
// 1089 
// 1090   if ( events & TOUCHLINK_TRANS_LIFETIME_EXPIRED_EVT )
??touchLinkInitiator_event_loop_55:
        MOV       A,R6
        ANL       A,#0x10
        JZ        ??touchLinkInitiator_event_loop_56
// 1091   {
// 1092     touchLinkTransID = 0;
        MOV       DPTR,#touchLinkTransID
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
// 1093     initiatorClearSelectedTarget();
        ; Setup parameters for call to function initiatorClearSelectedTarget
        LCALL     `??initiatorClearSelectedTarget::?relay`; Banked call to: initiatorClearSelectedTarget
// 1094     initiatorSetNwkToInitState();
        ; Setup parameters for call to function initiatorSetNwkToInitState
        LCALL     `??initiatorSetNwkToInitState::?relay`; Banked call to: initiatorSetNwkToInitState
// 1095 
// 1096     // return unprocessed events
// 1097     return ( events ^ TOUCHLINK_TRANS_LIFETIME_EXPIRED_EVT );
        MOV       A,R6
        XRL       A,#0x10
        MOV       R2,A
        MOV       A,R7
        XRL       A,#0x0
        MOV       R3,A
        SJMP      ??touchLinkInitiator_event_loop_4
// 1098   }
// 1099 
// 1100   // If reach here, the events are unknown
// 1101   // Discard or make more handlers
// 1102   return 0;
??touchLinkInitiator_event_loop_56:
        MOV       R2,#0x0
        MOV       R3,#0x0
??touchLinkInitiator_event_loop_4:
        MOV       A,#0x57
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
        MOV       R7,#0xc
        LJMP      ?BANKED_LEAVE_XDATA
// 1103 }
          CFI EndBlock cfiBlock9
// 1104 
// 1105 /*********************************************************************
// 1106  * @fn      touchLinkInitiator_ChannelChange
// 1107  *
// 1108  * @brief   Change channel to supprot Frequency agility.
// 1109  *
// 1110  * @param   targetChannel - channel to
// 1111  *
// 1112  * @return  status
// 1113  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1114 ZStatus_t touchLinkInitiator_ChannelChange( uint8 targetChannel )
touchLinkInitiator_ChannelChange:
          CFI Block cfiBlock10 Using cfiCommon0
          CFI Function touchLinkInitiator_ChannelChange
        CODE
// 1115 {
        FUNCALL touchLinkInitiator_ChannelChange, NLME_SetUpdateID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_ChannelChange, ZDP_MgmtNwkUpdateReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 31, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 31, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV       A,#-0x10
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 9
        MOV       A,#-0x9
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 25)
        MOV       A,R1
        MOV       R6,A
// 1116     uint32 channelMask;
// 1117     zAddrType_t dstAddr = {0};
        MOV       DPTR,#`?<Constant {{0}}>`
        MOV       R4,?XSP + 0
        MOV       R5,?XSP + 1
        MOV       A,#0x9
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1118     if ( ( targetChannel < 11 ) || targetChannel > 26 )
        MOV       A,R6
        CLR       C
        SUBB      A,#0xb
        JC        ??touchLinkInitiator_ChannelChange_0
        MOV       A,R6
        CLR       C
        SUBB      A,#0x1b
        JC        ??touchLinkInitiator_ChannelChange_1
// 1119     {
// 1120       if (TOUCHLINK_PRIMARY_CHANNEL (_NIB.nwkLogicalChannel))
??touchLinkInitiator_ChannelChange_0:
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        XRL       A,#0xb
        JZ        ??touchLinkInitiator_ChannelChange_2
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        XRL       A,#0xf
        JZ        ??touchLinkInitiator_ChannelChange_2
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        XRL       A,#0x14
        JZ        ??touchLinkInitiator_ChannelChange_2
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        XRL       A,#0x19
        JNZ       ??touchLinkInitiator_ChannelChange_3
// 1121       {
// 1122         switch (_NIB.nwkLogicalChannel)
??touchLinkInitiator_ChannelChange_2:
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        ADD       A,#-0xb
        JZ        ??touchLinkInitiator_ChannelChange_4
        ADD       A,#-0x4
        JZ        ??touchLinkInitiator_ChannelChange_5
        ADD       A,#-0x5
        JZ        ??touchLinkInitiator_ChannelChange_6
        ADD       A,#-0x5
        JZ        ??touchLinkInitiator_ChannelChange_7
        SJMP      ??touchLinkInitiator_ChannelChange_1
// 1123         {
// 1124         case TOUCHLINK_FIRST_CHANNEL:
// 1125           targetChannel = TOUCHLINK_SECOND_CHANNEL;
??touchLinkInitiator_ChannelChange_4:
        MOV       R6,#0xf
// 1126           break;
        SJMP      ??touchLinkInitiator_ChannelChange_1
// 1127         case TOUCHLINK_SECOND_CHANNEL:
// 1128           targetChannel = TOUCHLINK_THIRD_CHANNEL;
??touchLinkInitiator_ChannelChange_5:
        MOV       R6,#0x14
// 1129           break;
        SJMP      ??touchLinkInitiator_ChannelChange_1
// 1130         case TOUCHLINK_THIRD_CHANNEL:
// 1131           targetChannel = TOUCHLINK_FOURTH_CHANNEL;
??touchLinkInitiator_ChannelChange_6:
        MOV       R6,#0x19
// 1132           break;
        SJMP      ??touchLinkInitiator_ChannelChange_1
// 1133         case TOUCHLINK_FOURTH_CHANNEL:
// 1134           targetChannel = TOUCHLINK_FIRST_CHANNEL;
??touchLinkInitiator_ChannelChange_7:
        MOV       R6,#0xb
// 1135         }
        SJMP      ??touchLinkInitiator_ChannelChange_1
// 1136       }
// 1137       else
// 1138       {
// 1139         targetChannel = _NIB.nwkLogicalChannel + 1;
??touchLinkInitiator_ChannelChange_3:
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        ADD       A,#0x1
        MOV       R6,A
// 1140         if ( _NIB.nwkLogicalChannel > 26 )
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,#0x1b
        JC        ??touchLinkInitiator_ChannelChange_1
// 1141           targetChannel = 11;
        MOV       R6,#0xb
// 1142       }
// 1143     }
// 1144 
// 1145     dstAddr.addrMode = AddrBroadcast;
??touchLinkInitiator_ChannelChange_1:
        MOV       A,#0x8
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#0xf
        MOVX      @DPTR,A
// 1146     dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR_DEVRXON;
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        MOV       A,#-0x3
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
// 1147     channelMask = (uint32)1 << targetChannel;
        MOV       ?V4,#0x1
        MOV       ?V5,#0x0
        MOV       ?V6,#0x0
        MOV       ?V7,#0x0
        MOV       A,R6
        MOV       R0,#?V4
        LCALL     ?L_SHL
        MOV       ?V0,?V4
        MOV       ?V1,?V5
        MOV       ?V2,?V6
        MOV       ?V3,?V7
// 1148 
// 1149     // Increment the nwkUpdateId parameter and set the updateID in the beacon
// 1150     NLME_SetUpdateID(_NIB.nwkUpdateId + 1);
        ; Setup parameters for call to function NLME_SetUpdateID
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        ADD       A,#0x1
        MOV       R1,A
        LCALL     `??NLME_SetUpdateID::?relay`; Banked call to: NLME_SetUpdateID
// 1151 
// 1152     ZDP_MgmtNwkUpdateReq( &dstAddr, channelMask, 0xfe, 0, _NIB.nwkUpdateId, 0 );
        ; Setup parameters for call to function ZDP_MgmtNwkUpdateReq
        CLR       A
        MOV       ?V4,A
        MOV       ?V5,A
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 27)
        MOV       R0,#?V0
        LCALL     ?PUSH_XSTACK_I_FOUR
          CFI CFA_XSP16 add(XSP16, 31)
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        MOV       R5,A
        MOV       R4,#0x0
        MOV       R1,#-0x2
        MOV       A,#0x6
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??ZDP_MgmtNwkUpdateReq::?relay`; Banked call to: ZDP_MgmtNwkUpdateReq
        MOV       A,#0x6
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 25)
        MOV       A,R1
// 1153 
// 1154     return ZSuccess;
        MOV       R1,#0x0
        MOV       A,#0x9
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV       R7,#0x8
        LJMP      ?BANKED_LEAVE_XDATA
// 1155 }
          CFI EndBlock cfiBlock10

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {{0}}>`:
        DATA16
        DW 0
        DB 0, 0, 0, 0, 0, 0
        DB 0
// 1156 
// 1157 /*********************************************************************
// 1158  * @fn      touchLinkSampleRemote_SendEPInfo
// 1159  *
// 1160  * @brief   Send Endpoint info command.
// 1161  *
// 1162  * @param   srcEP - source endpoint
// 1163  * @param   dstAddr - destination address
// 1164  * @param   seqNum - transaction sequnece number
// 1165  *
// 1166  * @return  ZStatus_t
// 1167  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1168 ZStatus_t touchLinkInitiator_SendEPInfo( uint8 srcEP, afAddrType_t *dstAddr, uint8 seqNum)
touchLinkInitiator_SendEPInfo:
          CFI Block cfiBlock11 Using cfiCommon0
          CFI Function touchLinkInitiator_SendEPInfo
        CODE
// 1169 {
        FUNCALL touchLinkInitiator_SendEPInfo, touchLink_GetSubDeviceInfo
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 35, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_SendEPInfo, NLME_GetExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 35, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_SendEPInfo, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 35, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_SendEPInfo, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 35, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 35, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_SendEPInfo, bdbTL_Send_EndpointInfo
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 37, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 37, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        MOV       A,#-0xc
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 23
        MOV       A,#-0x17
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 35)
        MOV       ?V0,R1
        MOV       A,R2
        MOV       R6,A
        MOV       A,R3
        MOV       R7,A
        MOV       ?V1,R4
// 1170     bdbTLEndpointInfo_t bdbTLEndpointInfoCmd;
// 1171     bdbTLDeviceInfo_t  bdbTLDeviceInfo;
// 1172       //send Epinfo cmd
// 1173     touchLink_GetSubDeviceInfo( 0, &bdbTLDeviceInfo );
        ; Setup parameters for call to function touchLink_GetSubDeviceInfo
        MOV       R2,?XSP + 0
        MOV       R3,?XSP + 1
        MOV       R1,#0x0
        LCALL     `??touchLink_GetSubDeviceInfo::?relay`; Banked call to: touchLink_GetSubDeviceInfo
// 1174     bdbTLEndpointInfoCmd.endpoint = bdbTLDeviceInfo.endpoint;
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x11
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1175     bdbTLEndpointInfoCmd.profileID = bdbTLDeviceInfo.profileID;
        MOV       A,#0x1
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x12
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1176     bdbTLEndpointInfoCmd.deviceID = bdbTLDeviceInfo.deviceID;
        MOV       A,#0x3
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,#0x14
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1177     bdbTLEndpointInfoCmd.version = bdbTLDeviceInfo.version;
        MOV       A,#0x5
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,#0x16
        LCALL     ?XSTACK_DISP0_8
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1178 
// 1179     osal_cpyExtAddr( bdbTLEndpointInfoCmd.ieeeAddr, NLME_GetExtAddr() );
        ; Setup parameters for call to function NLME_GetExtAddr
        LCALL     `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
        MOV       ?V2,R2
        MOV       ?V3,R3
        MOV       R4,?V2
        MOV       R5,?V3
        ; Setup parameters for call to function sAddrExtCpy
        MOV       A,#0x7
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??sAddrExtCpy::?relay`; Banked call to: sAddrExtCpy
// 1180     bdbTLEndpointInfoCmd.nwkAddr = NLME_GetShortAddr();
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL     `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
        MOV       A,#0xf
        LCALL     ?XSTACK_DISP0_8
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
// 1181 
// 1182     dstAddr->panId = _NIB.nwkPanId;
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1183     return bdbTL_Send_EndpointInfo( srcEP, dstAddr, &bdbTLEndpointInfoCmd,
// 1184                                           0, seqNum );
        ; Setup parameters for call to function bdbTL_Send_EndpointInfo
        MOV       A,?V1
        MOV       ?V2,A
        MOV       R0,#?V2
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 36)
        MOV       ?V2,#0x0
        MOV       R0,#?V2
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 37)
        MOV       A,#0x9
        LCALL     ?XSTACK_DISP102_8
        MOV       A,R6
        MOV       R2,A
        MOV       A,R7
        MOV       R3,A
        MOV       R1,?V0
        LCALL     `??bdbTL_Send_EndpointInfo::?relay`; Banked call to: bdbTL_Send_EndpointInfo
        MOV       A,#0x2
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 35)
        MOV       A,#0x17
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV       R7,#0x4
        LJMP      ?BANKED_LEAVE_XDATA
// 1185 }
          CFI EndBlock cfiBlock11
// 1186 
// 1187 /*********************************************************************
// 1188  * @fn      touchLinkInitiator_ResetToFNSelectedTarget
// 1189  *
// 1190  * @brief   Send Reset to Factory New Request command to the selected
// 1191  *          target of the current Touch-Link transaction.
// 1192  *          Note - this function should be called within no later than
// 1193  *          BDBCTL_INTER_PAN_TRANS_ID_LIFETIME ms from the Scan Request.
// 1194  *
// 1195  * @param   none
// 1196  *
// 1197  * @return  status - failure is returned due to invalid selected target or
// 1198  *          expired Touch-Link transaction.
// 1199  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1200 ZStatus_t touchLinkInitiator_ResetToFNSelectedTarget( void )
touchLinkInitiator_ResetToFNSelectedTarget:
          CFI Block cfiBlock12 Using cfiCommon0
          CFI Function touchLinkInitiator_ResetToFNSelectedTarget
        CODE
// 1201 {
        FUNCALL touchLinkInitiator_ResetToFNSelectedTarget, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_ResetToFNSelectedTarget, touchLink_SetChannel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLinkInitiator_ResetToFNSelectedTarget, bdbTL_Send_ResetToFNReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        MOV       A,#-0x9
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 4
        MOV       A,#-0x4
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 13)
// 1202   bdbTLResetToFNReq_t req;
// 1203   req.transID = touchLinkTransID;
        MOV       DPTR,#touchLinkTransID
        LCALL     ?XLOAD_R0123
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        LCALL     ?XSTORE_R0123
// 1204 
// 1205   // Cancel further touch-link commissioning (if called during identify interval)
// 1206   osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_CFG_TARGET_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#0x40
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
// 1207 
// 1208   touchLink_SetChannel( selectedTarget.rxChannel );
        ; Setup parameters for call to function touchLink_SetChannel
        MOV       DPTR,#selectedTarget + 52
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_SetChannel::?relay`; Banked call to: touchLink_SetChannel
// 1209   return bdbTL_Send_ResetToFNReq( TOUCHLINK_INTERNAL_ENDPOINT, &(selectedTarget.srcAddr), &req, initiatorSeqNum++ );
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_ResetToFNReq
        MOV       A,R0
        MOV       ?V0,A
        MOV       R0,#?V0
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 14)
        MOV       A,#0x1
        LCALL     ?XSTACK_DISP102_8
        MOV       R2,#(selectedTarget + 38) & 0xff
        MOV       R3,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_ResetToFNReq::?relay`; Banked call to: bdbTL_Send_ResetToFNReq
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 13)
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 9)
        MOV       R7,#0x1
        LJMP      ?BANKED_LEAVE_XDATA
// 1210 }
          CFI EndBlock cfiBlock12
// 1211 
// 1212 /*********************************************************************
// 1213  * @fn      touchLink_InitiatorSendScanRsp
// 1214  *
// 1215  * @brief   Send out a Scan Response command.
// 1216  *
// 1217  * @param   srcEP - sender's endpoint
// 1218  * @param   dstAddr - pointer to destination address struct
// 1219  * @param   transID - received transaction id
// 1220  * @param   seqNum - received sequence number
// 1221  *
// 1222  * @return  ZStatus_t
// 1223  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1224 static ZStatus_t touchLink_InitiatorSendScanRsp( uint8 srcEP, afAddrType_t *dstAddr, uint32 transID, uint8 seqNum )
touchLink_InitiatorSendScanRsp:
          CFI Block cfiBlock13 Using cfiCommon0
          CFI Function touchLink_InitiatorSendScanRsp
        CODE
// 1225 {
        FUNCALL touchLink_InitiatorSendScanRsp, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, osal_memset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, touchLink_IsValidSplitFreeRanges
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, touchLink_GetNwkKeyBitmask
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, touchLink_GetNumSubDevices
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, touchLink_GetSubDeviceInfo
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, touchLink_GetNumGrpIDs
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, bdbTL_Send_ScanRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL touchLink_InitiatorSendScanRsp, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        REQUIRE ?V8
        REQUIRE ?V9
        REQUIRE ?V10
        REQUIRE ?V11
        REQUIRE ?V12
        REQUIRE ?V13
        REQUIRE ?V14
        MOV       A,#-0x17
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V14 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V13 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-22)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-23)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 23)
        ; Saved register size: 23
        ; Auto size: 2
        MOV       A,#-0x2
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 25)
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
        MOV       ?V13,R1
        MOV       ?V14,R4
        MOV       A,#0x19
        LCALL     ?XSTACK_DISP0_8
        MOV       R0,#?V4
        LCALL     ?L_MOV_X
// 1226   ZStatus_t status = ZSuccess;
        MOV       ?V12,#0x0
// 1227 
// 1228   // Make sure we respond only once during a Device Discovery
// 1229   if ( touchLinkLastAcceptedTransID != transID )
        MOV       DPTR,#touchLinkLastAcceptedTransID
        MOV       R0,#?V4
        LCALL     ?L_EQ_X
        JNZ       $+5
        LJMP      ??touchLink_InitiatorSendScanRsp_0 & 0xFFFF
// 1230   {
// 1231     bdbTLScanRsp_t *pRsp;    
// 1232 
// 1233     pRsp = (bdbTLScanRsp_t *)osal_mem_alloc( sizeof( bdbTLScanRsp_t ) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV       R2,#0x26
        MOV       R3,#0x0
        LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       R6,?V0
        MOV       R7,?V1
// 1234     if ( pRsp )
        MOV       A,R6
        ORL       A,R7
        JNZ       $+5
        LJMP      ??touchLink_InitiatorSendScanRsp_1 & 0xFFFF
// 1235     {
// 1236       osal_memset( pRsp, 0, sizeof( bdbTLScanRsp_t ) );
        ; Setup parameters for call to function osal_memset
        MOV       R4,#0x26
        MOV       R5,#0x0
        MOV       R1,#0x0
        MOV       A,R6
        MOV       R2,A
        MOV       A,R7
        MOV       R3,A
        LCALL     `??osal_memset::?relay`; Banked call to: osal_memset
// 1237 
// 1238       // Save transaction id
// 1239       touchLinkLastAcceptedTransID = transID;
        MOV       DPTR,#touchLinkLastAcceptedTransID
        MOV       R0,#?V4
        LCALL     ?L_MOV_TO_X
// 1240       osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_TRANS_LIFETIME_EXPIRED_EVT,
// 1241                           BDBCTL_INTER_PAN_TRANS_ID_LIFETIME );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_1f40
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 29)
        MOV       R2,#0x10
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 25)
        MOV       A,R1
// 1242 
// 1243       pRsp->transID = transID;
        MOV       DPL,R6
        MOV       DPH,R7
        MOV       R0,#?V4
        LCALL     ?L_MOV_TO_X
// 1244       pRsp->rssiCorrection = TOUCHLINK_RSSI_CORRECTION;
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
// 1245       pRsp->zLogicalType = zgDeviceLogicalType;
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xfc
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xff
        MOV       R1,A
        MOV       DPTR,#zgDeviceLogicalType
        MOVX      A,@DPTR
        MOV       R2,A
        MOV       R3,#0x0
        MOV       A,R2
        ANL       A,#0x3
        MOV       R2,A
        MOV       A,R3
        ANL       A,#0x0
        MOV       R3,A
        MOV       A,R0
        ORL       A,R2
        MOV       R0,A
        MOV       A,R1
        ORL       A,R3
        MOV       R1,A
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1246       pRsp->touchLinkAddressAssignment = touchLink_IsValidSplitFreeRanges( 0 );
        ; Setup parameters for call to function touchLink_IsValidSplitFreeRanges
        MOV       R1,#0x0
        LCALL     `??touchLink_IsValidSplitFreeRanges::?relay`; Banked call to: touchLink_IsValidSplitFreeRanges
        MOV       A,R1
        MOV       R0,A
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xfd
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xff
        MOVX      @DPTR,A
        MOV       A,R0
        MOV       C,0xE0 /* A   */.0
        CLR       A
        RLC       A
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        ADD       A,R0
        MOV       R0,A
        MOV       A,R1
        RLC       A
        MOV       R1,A
        MOV       A,R0
        ANL       A,#0x2
        MOV       R0,A
        MOV       A,R1
        ANL       A,#0x0
        MOV       R1,A
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,R1
        MOVX      @DPTR,A
// 1247       pRsp->touchLinkInitiator = TRUE;
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x10
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x0
        MOVX      @DPTR,A
// 1248       pRsp->touchLinkProfileInterop = TRUE;
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x80
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x0
        MOVX      @DPTR,A
// 1249 
// 1250       if ( ZDO_Config_Node_Descriptor.CapabilityFlags & CAPINFO_RCVR_ON_IDLE )
        MOV       DPTR,#ZDO_Config_Node_Descriptor + 2
        MOVX      A,@DPTR
        MOV       C,0xE0 /* A   */.3
        JNC       ??touchLink_InitiatorSendScanRsp_2
// 1251       {
// 1252         pRsp->zRxOnWhenIdle = TRUE;
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x4
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x0
        MOVX      @DPTR,A
// 1253       }
// 1254 
// 1255       pRsp->touchLinklinkPriority = FALSE;
??touchLink_InitiatorSendScanRsp_2:
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xdf
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xff
        MOVX      @DPTR,A
// 1256       pRsp->keyBitmask = touchLink_GetNwkKeyBitmask();
        ; Setup parameters for call to function touchLink_GetNwkKeyBitmask
        LCALL     `??touchLink_GetNwkKeyBitmask::?relay`; Banked call to: touchLink_GetNwkKeyBitmask
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
// 1257 
// 1258       // Generate a new Response ID
// 1259       touchLinkResponseID = ( ((uint32)osal_rand()) << 16 ) + osal_rand();
        ; Setup parameters for call to function osal_rand
        LCALL     `??osal_rand::?relay`; Banked call to: osal_rand
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       ?V8,?V0
        MOV       ?V9,?V1
        CLR       A
        MOV       ?V10,A
        MOV       ?V11,A
        MOV       A,#0x10
        MOV       R0,#?V8
        LCALL     ?L_SHL
        ; Setup parameters for call to function osal_rand
        LCALL     `??osal_rand::?relay`; Banked call to: osal_rand
        MOV       ?V0,R2
        MOV       ?V1,R3
        CLR       A
        MOV       ?V2,A
        MOV       ?V3,A
        MOV       R0,#?V8
        MOV       R1,#?V0
        LCALL     ?L_ADD
        MOV       ?V0,?V8
        MOV       ?V1,?V9
        MOV       ?V2,?V10
        MOV       ?V3,?V11
        MOV       DPTR,#touchLinkResponseID
        MOV       R0,#?V0
        LCALL     ?L_MOV_TO_X
// 1260       pRsp->responseID = touchLinkResponseID;
        MOV       DPTR,#touchLinkResponseID
        LCALL     ?XLOAD_R0123
        MOV       A,R6
        ADD       A,#0xb
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        LCALL     ?XSTORE_R0123
// 1261 
// 1262       pRsp->touchLinkFactoryNew = !bdbAttributes.bdbNodeIsOnANetwork;
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        JNZ       ??touchLink_InitiatorSendScanRsp_3
        SETB      B.0
        SJMP      ??touchLink_InitiatorSendScanRsp_4
??touchLink_InitiatorSendScanRsp_3:
        CLR       B.0
??touchLink_InitiatorSendScanRsp_4:
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xfe
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xff
        MOVX      @DPTR,A
        MOV       C,B.0
        CLR       A
        RLC       A
        MOV       R0,A
        MOV       R1,#0x0
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,R1
        MOVX      @DPTR,A
// 1263       if ( pRsp->touchLinkFactoryNew )
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x1
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,R0
        MOV       C,0xE0 /* A   */.0
        JNC       ??touchLink_InitiatorSendScanRsp_5
// 1264       {
// 1265         pRsp->nwkAddr = 0xFFFF;
        MOV       A,R6
        ADD       A,#0x1b
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOV       A,#-0x1
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
// 1266         pRsp->nwkUpdateId = 0;
        MOV       A,R6
        ADD       A,#0x17
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOV       A,#0x0
        MOVX      @DPTR,A
        SJMP      ??touchLink_InitiatorSendScanRsp_6
// 1267       }
// 1268       else
// 1269       {
// 1270         pRsp->nwkAddr = _NIB.nwkDevAddress;
??touchLink_InitiatorSendScanRsp_5:
        MOV       DPTR,#_NIB + 20
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R6
        ADD       A,#0x1b
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1271         pRsp->nwkUpdateId = _NIB.nwkUpdateId;
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,R6
        ADD       A,#0x17
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1272       }
// 1273       pRsp->PANID = _NIB.nwkPanId;
??touchLink_InitiatorSendScanRsp_6:
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R6
        ADD       A,#0x19
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1274       pRsp->logicalChannel = _NIB.nwkLogicalChannel;
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,R6
        ADD       A,#0x18
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1275       osal_cpyExtAddr( pRsp->extendedPANID, _NIB.extendedPANID );
        ; Setup parameters for call to function sAddrExtCpy
        MOV       R4,#(_NIB + 53) & 0xff
        MOV       R5,#((_NIB + 53) >> 8) & 0xff
        MOV       A,R6
        ADD       A,#0xf
        MOV       R2,A
        CLR       A
        ADDC      A,R7
        MOV       R3,A
        LCALL     `??sAddrExtCpy::?relay`; Banked call to: sAddrExtCpy
// 1276 
// 1277       pRsp->numSubDevices = touchLink_GetNumSubDevices( 0 );
        ; Setup parameters for call to function touchLink_GetNumSubDevices
        MOV       R1,#0x0
        LCALL     `??touchLink_GetNumSubDevices::?relay`; Banked call to: touchLink_GetNumSubDevices
        MOV       A,R1
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,R6
        ADD       A,#0x1d
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1278       if ( pRsp->numSubDevices == 1 )
        MOV       A,R6
        ADD       A,#0x1d
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??touchLink_InitiatorSendScanRsp_7
// 1279       {
// 1280         touchLink_GetSubDeviceInfo( 0, &(pRsp->deviceInfo) );
        ; Setup parameters for call to function touchLink_GetSubDeviceInfo
        MOV       A,R6
        ADD       A,#0x1f
        MOV       R2,A
        CLR       A
        ADDC      A,R7
        MOV       R3,A
        MOV       R1,#0x0
        LCALL     `??touchLink_GetSubDeviceInfo::?relay`; Banked call to: touchLink_GetSubDeviceInfo
// 1281       }
// 1282 
// 1283       pRsp->totalGrpIDs = touchLink_GetNumGrpIDs();
??touchLink_InitiatorSendScanRsp_7:
        ; Setup parameters for call to function touchLink_GetNumGrpIDs
        LCALL     `??touchLink_GetNumGrpIDs::?relay`; Banked call to: touchLink_GetNumGrpIDs
        MOV       A,R1
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,R6
        ADD       A,#0x1e
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1284 
// 1285       // Send a response back
// 1286       status = bdbTL_Send_ScanRsp( srcEP, dstAddr, pRsp, seqNum );
        ; Setup parameters for call to function bdbTL_Send_ScanRsp
        MOV       A,?V14
        MOV       ?V0,A
        MOV       R0,#?V0
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 26)
        MOV       A,R6
        MOV       R4,A
        MOV       A,R7
        MOV       R5,A
        MOV       A,#0x1
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        MOV       R2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R3,A
        MOV       R1,?V13
        LCALL     `??bdbTL_Send_ScanRsp::?relay`; Banked call to: bdbTL_Send_ScanRsp
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 25)
        MOV       A,R1
        MOV       ?V12,A
// 1287 
// 1288       osal_mem_free( pRsp );
        ; Setup parameters for call to function osal_mem_free
        MOV       A,R6
        MOV       R2,A
        MOV       A,R7
        MOV       R3,A
        LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
        SJMP      ??touchLink_InitiatorSendScanRsp_0
// 1289     }
// 1290     else
// 1291     {
// 1292       status = ZMemError;
??touchLink_InitiatorSendScanRsp_1:
        MOV       ?V12,#0x10
// 1293     }
// 1294   }
// 1295 
// 1296   return ( status );
??touchLink_InitiatorSendScanRsp_0:
        MOV       R1,?V12
        MOV       A,#0x2
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 23)
        MOV       R7,#0xf
        LJMP      ?BANKED_LEAVE_XDATA
// 1297 }
          CFI EndBlock cfiBlock13
// 1298 
// 1299 /*********************************************************************
// 1300  * @fn      bdb_Initiator_SendNwkJoinReq
// 1301  *
// 1302  * @brief   Send out a Network Join Router or End Device Request command.
// 1303  *          using the selected Target.
// 1304  *
// 1305  * @param   -
// 1306  *
// 1307  * @return  ZStatus_t
// 1308  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1309 ZStatus_t bdb_Initiator_SendNwkJoinReq( void )
bdb_Initiator_SendNwkJoinReq:
          CFI Block cfiBlock14 Using cfiCommon0
          CFI Function bdb_Initiator_SendNwkJoinReq
        CODE
// 1310 {
        FUNCALL bdb_Initiator_SendNwkJoinReq, nwk_setStateIdle
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL bdb_Initiator_SendNwkJoinReq, initiatorSendNwkJoinReq
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1311   // Set NWK task to idle
// 1312   nwk_setStateIdle( TRUE );
        ; Setup parameters for call to function nwk_setStateIdle
        MOV       R1,#0x1
        LCALL     `??nwk_setStateIdle::?relay`; Banked call to: nwk_setStateIdle
// 1313   return initiatorSendNwkJoinReq( &(selectedTarget.scanRsp) );
        ; Setup parameters for call to function initiatorSendNwkJoinReq
        MOV       R2,#selectedTarget & 0xff
        MOV       R3,#(selectedTarget >> 8) & 0xff
        LCALL     `??initiatorSendNwkJoinReq::?relay`; Banked call to: initiatorSendNwkJoinReq
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
// 1314 }  
          CFI EndBlock cfiBlock14
// 1315 
// 1316 #if (ZSTACK_ROUTER_BUILD)
// 1317 /*********************************************************************
// 1318  * @fn      touchLinkInitiator_PermitJoin
// 1319  *
// 1320  * @brief   Set the router permit join flag, to allow or deny classical
// 1321  *          commissioning by other ZigBee devices.
// 1322  *
// 1323  * @param   duration - enable up to aplcMaxPermitJoinDuration seconds,
// 1324  *                     0 to disable
// 1325  *
// 1326  * @return  status
// 1327  */
// 1328 ZStatus_t touchLinkInitiator_PermitJoin( uint8 duration )
// 1329 {
// 1330   return touchLink_PermitJoin( duration );
// 1331 }  
// 1332 #endif //(ZSTACK_ROUTER_BUILD)
// 1333 
// 1334 /*********************************************************************
// 1335  * LOCAL FUNCTIONS
// 1336  */
// 1337 
// 1338 /*********************************************************************
// 1339  * @fn      initiatorScanReqCB
// 1340  *
// 1341  * @brief   This callback is called to process a Scan Request command.
// 1342  *
// 1343  * @param   srcAddr - sender's address
// 1344  * @param   pReq - parsed command
// 1345  * @param   seqNum - command sequence number
// 1346  *
// 1347  * @return  ZStatus_t
// 1348  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1349 static ZStatus_t initiatorScanReqCB( afAddrType_t *srcAddr, bdbTLScanReq_t *pReq, uint8 seqNum )
initiatorScanReqCB:
          CFI Block cfiBlock15 Using cfiCommon0
          CFI Function initiatorScanReqCB
        CODE
// 1350 {
        FUNCALL initiatorScanReqCB, touchLink_GetMsgRssi
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanReqCB, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanReqCB, osal_get_timeoutEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanReqCB, touchLink_InitiatorSendScanRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 31, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 31, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanReqCB, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        MOV       A,#-0xf
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 12
        MOV       A,#-0xc
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 27)
        MOV       ?V2,R2
        MOV       ?V3,R3
        MOV       A,R4
        MOV       R6,A
        MOV       A,R5
        MOV       R7,A
        MOV       ?V1,R1
// 1351   int8 rssi;
// 1352   rssi = touchLink_GetMsgRssi();
        ; Setup parameters for call to function touchLink_GetMsgRssi
        LCALL     `??touchLink_GetMsgRssi::?relay`; Banked call to: touchLink_GetMsgRssi
        MOV       A,R1
        MOV       ?V0,A
// 1353   if( ( rssi > TOUCHLINK_WORST_RSSI ) && ( pReq->touchLinkInitiator == TRUE ) )
        MOV       A,?V0
        CLR       C
        SUBB      A,#-0x45
        MOV       C,0xD0 /* PSW */.2
        XRL       A,PSW
        RLC       A
        JNC       $+5
        LJMP      ??initiatorScanReqCB_0 & 0xFFFF
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        SWAP      A
        ANL       A,#0xf
        ANL       A,#0x1
        MOV       C,0xE0 /* A   */.0
        JC        $+5
        LJMP      ??initiatorScanReqCB_0 & 0xFFFF
// 1354   {
// 1355     // response to the originator, but switch to dst PAN 0xFFFF
// 1356     afAddrType_t dstAddr;
// 1357     osal_memcpy(&dstAddr, srcAddr, sizeof(afAddrType_t));
        ; Setup parameters for call to function osal_memcpy
        MOV       ?V4,?V2
        MOV       ?V5,?V3
        MOV       ?V6,#0x0
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 30)
        MOV       R4,#0xc
        MOV       R5,#0x0
        MOV       A,#0x3
        LCALL     ?XSTACK_DISP101_8
        LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV       A,#0x3
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 27)
// 1358     dstAddr.panId = 0xFFFF;
        MOV       A,#0xa
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#-0x1
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
// 1359 
// 1360     // If we are factory new and revice a Scan Request from other factory new
// 1361     // device then drop the request.
// 1362     if ( ( pReq->touchLinkFactoryNew == TRUE ) && ( bdbAttributes.bdbNodeIsOnANetwork == FALSE ) )
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x1
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,R0
        MOV       C,0xE0 /* A   */.0
        JNC       ??initiatorScanReqCB_1
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        JNZ       ??initiatorScanReqCB_1
// 1363     {
// 1364       return ( ZSuccess );
        MOV       R1,#0x0
        SJMP      ??initiatorScanReqCB_2
// 1365     }
// 1366     // If, during its scan, a non factory new initiator receives another scan
// 1367     // request inter-PAN command frame from a factory new target, it shall be ignored.
// 1368     if ( ( pReq->touchLinkFactoryNew == TRUE ) && ( bdbAttributes.bdbNodeIsOnANetwork == TRUE ) &&
// 1369          osal_get_timeoutEx( touchLinkInitiator_TaskID, TOUCHLINK_TL_SCAN_BASE_EVT ) )
??initiatorScanReqCB_1:
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x1
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,R0
        MOV       C,0xE0 /* A   */.0
        JNC       ??initiatorScanReqCB_3
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??initiatorScanReqCB_3
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV       R2,#0x20
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_get_timeoutEx::?relay`; Banked call to: osal_get_timeoutEx
        MOV       A,R2
        ORL       A,R3
        ORL       A,R4
        ORL       A,R5
        JZ        ??initiatorScanReqCB_3
// 1370     {
// 1371       return ( ZSuccess );
        MOV       R1,#0x0
        SJMP      ??initiatorScanReqCB_2
// 1372     }
// 1373 
// 1374     // Send a Scan Response back
// 1375     if ( touchLink_InitiatorSendScanRsp( TOUCHLINK_INTERNAL_ENDPOINT, &dstAddr, pReq->transID, seqNum ) == ZSuccess )
??initiatorScanReqCB_3:
        ; Setup parameters for call to function touchLink_InitiatorSendScanRsp
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 31)
        MOV       R4,?V1
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP101_8
        MOV       R1,#0xd
        LCALL     `??touchLink_InitiatorSendScanRsp::?relay`; Banked call to: touchLink_InitiatorSendScanRsp
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 27)
        MOV       A,R1
        JNZ       ??initiatorScanReqCB_0
// 1376     {
// 1377       // If we're a factory new initiator and are in the middle of a Device
// 1378       // Discovery, stop the procedure and wait for subsequent configuration
// 1379       // information from the non-factory new initiator that we just responded to.
// 1380       if ( ( bdbAttributes.bdbNodeIsOnANetwork == FALSE ) && !pReq->touchLinkFactoryNew )
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        JNZ       ??initiatorScanReqCB_0
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x1
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,R0
        MOV       C,0xE0 /* A   */.0
        JC        ??initiatorScanReqCB_0
// 1381       {
// 1382         osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_TL_SCAN_BASE_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#0x20
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
// 1383       }
// 1384     }
// 1385   }
// 1386 
// 1387   return ( ZSuccess );
??initiatorScanReqCB_0:
        MOV       R1,#0x0
??initiatorScanReqCB_2:
        MOV       A,#0xc
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV       R7,#0x7
        LJMP      ?BANKED_LEAVE_XDATA
// 1388 }
          CFI EndBlock cfiBlock15
// 1389 
// 1390 /*********************************************************************
// 1391  * @fn      initiatorDeviceInfoReqCB
// 1392  *
// 1393  * @brief   This callback is called to process a Device Information
// 1394  *          Request command.
// 1395  *
// 1396  * @param   srcAddr - sender's address
// 1397  * @param   pReq - parsed command
// 1398  * @param   seqNum - command sequence number
// 1399  *
// 1400  * @return  ZStatus_t
// 1401  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1402 static ZStatus_t initiatorDeviceInfoReqCB( afAddrType_t *srcAddr, bdbTLDeviceInfoReq_t *pReq, uint8 seqNum )
initiatorDeviceInfoReqCB:
          CFI Block cfiBlock16 Using cfiCommon0
          CFI Function initiatorDeviceInfoReqCB
        CODE
// 1403 {
        FUNCALL initiatorDeviceInfoReqCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorDeviceInfoReqCB, touchLink_SendDeviceInfoRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        MOV       A,#-0xb
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 0
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       A,R4
        MOV       R6,A
        MOV       A,R5
        MOV       R7,A
        MOV       ?V2,R1
// 1404   if ( touchLink_IsValidTransID( pReq->transID ) == FALSE )
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JNZ       ??initiatorDeviceInfoReqCB_0
// 1405   {
// 1406     return ( ZFailure );
        MOV       R1,#0x1
        SJMP      ??initiatorDeviceInfoReqCB_1
// 1407   }
// 1408   return ( touchLink_SendDeviceInfoRsp( TOUCHLINK_INTERNAL_ENDPOINT, srcAddr,
// 1409                                   pReq->startIndex, pReq->transID, seqNum ) );
??initiatorDeviceInfoReqCB_0:
        ; Setup parameters for call to function touchLink_SendDeviceInfoRsp
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 15)
        MOV       R5,?V2
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R4,A
        MOV       R2,?V0
        MOV       R3,?V1
        MOV       R1,#0xd
        LCALL     `??touchLink_SendDeviceInfoRsp::?relay`; Banked call to: touchLink_SendDeviceInfoRsp
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 11)
??initiatorDeviceInfoReqCB_1:
        MOV       R7,#0x3
        LJMP      ?BANKED_LEAVE_XDATA
// 1410 }
          CFI EndBlock cfiBlock16
// 1411 
// 1412 /*********************************************************************
// 1413  * @fn      initiatorIdentifyReqCB
// 1414  *
// 1415  * @brief   This callback is called to process an Identify Request command.
// 1416  *
// 1417  * @param   srcAddr - sender's address
// 1418  * @param   pReq - parsed command
// 1419  *
// 1420  * @return  ZStatus_t
// 1421  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1422 static ZStatus_t initiatorIdentifyReqCB( afAddrType_t *srcAddr, bdbTLIdentifyReq_t *pReq )
initiatorIdentifyReqCB:
          CFI Block cfiBlock17 Using cfiCommon0
          CFI Function initiatorIdentifyReqCB
        CODE
// 1423 {
        FUNCALL initiatorIdentifyReqCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorIdentifyReqCB, bdb_setEpDescListToActiveEndpoint
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorIdentifyReqCB, bdb_ZclIdentifyCmdInd
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV       A,#-0x10
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV       A,R2
        MOV       R6,A
        MOV       A,R3
        MOV       R7,A
        MOV       ?V0,R4
        MOV       ?V1,R5
// 1424   if ( touchLink_IsValidTransID( pReq->transID ) == FALSE )
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,?V0
        MOV       DPH,?V1
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JNZ       ??initiatorIdentifyReqCB_0
// 1425   {
// 1426     return ( ZFailure );
        MOV       R1,#0x1
        SJMP      ??initiatorIdentifyReqCB_1
// 1427   }
// 1428 
// 1429   uint16 identifyTime;
// 1430   endPointDesc_t * bdb_CurrEpDescriptor;
// 1431   
// 1432   // Values of the Identify Duration field:
// 1433   // - Exit identify mode: 0x0000
// 1434   // - Length of time to remain in identify mode: 0x0001-0xfffe
// 1435   // - Remain in identify mode for a default time known by the receiver: 0xffff
// 1436   if ( pReq->IdDuration == 0xffff )
??initiatorIdentifyReqCB_0:
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,#0xff
        JNZ       ??initiatorIdentifyReqCB_2
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,#0xff
??initiatorIdentifyReqCB_2:
        JNZ       ??initiatorIdentifyReqCB_3
// 1437   {
// 1438     identifyTime = TOUCHLINK_DEFAULT_IDENTIFY_TIME;
        MOV       ?V2,#0x3
        MOV       ?V3,#0x0
        SJMP      ??initiatorIdentifyReqCB_4
// 1439   }
// 1440   else
// 1441   {
// 1442     identifyTime = pReq->IdDuration;
??initiatorIdentifyReqCB_3:
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V3,A
// 1443   }
// 1444 
// 1445   bdb_CurrEpDescriptor = bdb_setEpDescListToActiveEndpoint( );
??initiatorIdentifyReqCB_4:
        ; Setup parameters for call to function bdb_setEpDescListToActiveEndpoint
        LCALL     `??bdb_setEpDescListToActiveEndpoint::?relay`; Banked call to: bdb_setEpDescListToActiveEndpoint
        MOV       ?V6,R2
        MOV       ?V7,R3
        MOV       ?V4,?V6
        MOV       ?V5,?V7
// 1446   
// 1447   bdb_ZclIdentifyCmdInd( identifyTime, bdb_CurrEpDescriptor->endPoint );
        ; Setup parameters for call to function bdb_ZclIdentifyCmdInd
        MOV       DPL,?V4
        MOV       DPH,?V5
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       R2,?V2
        MOV       R3,?V3
        LCALL     `??bdb_ZclIdentifyCmdInd::?relay`; Banked call to: bdb_ZclIdentifyCmdInd
// 1448 
// 1449   return ( ZSuccess );
        MOV       R1,#0x0
??initiatorIdentifyReqCB_1:
        MOV       R7,#0x8
        LJMP      ?BANKED_LEAVE_XDATA
// 1450 }
          CFI EndBlock cfiBlock17
// 1451 
// 1452 /*********************************************************************
// 1453  * @fn      initiatorNwkJoinReqCB
// 1454  *
// 1455  * @brief   This callback is called to process Network Join
// 1456  *          Request and Network Join End Device Request commands.
// 1457  *
// 1458  * @param   srcAddr - sender's address
// 1459  * @param   pReq - parsed command
// 1460  * @param   seqNum - command sequence number
// 1461  *
// 1462  * @return  ZStatus_t
// 1463  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1464 static ZStatus_t initiatorNwkJoinReqCB( afAddrType_t *srcAddr, bdbTLNwkJoinReq_t *pReq, uint8 seqNum )
initiatorNwkJoinReqCB:
          CFI Block cfiBlock18 Using cfiCommon0
          CFI Function initiatorNwkJoinReqCB
        CODE
// 1465 {
        FUNCALL initiatorNwkJoinReqCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, nwk_ExtPANIDValid
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, bdb_setNodeIsOnANetwork
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, touchLink_DecryptNwkKey
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, ZDSecMgrUpdateTCAddress
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, NLME_InitNV
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, touchLink_SetNIB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, touchLink_SetChannel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, touchLink_SetMacNwkParams
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinReqCB, bdbTL_Send_NwkJoinRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        MOV       A,#-0xd
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 13)
        ; Saved register size: 13
        ; Auto size: 17
        MOV       A,#-0x11
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
        MOV       ?V2,R2
        MOV       ?V3,R3
        MOV       A,R4
        MOV       R6,A
        MOV       A,R5
        MOV       R7,A
        MOV       ?V1,R1
// 1466   bdbTLNwkJoinRsp_t rsp;
// 1467   afAddrType_t dstAddr;
// 1468   nwk_states_t nwkState;
// 1469 
// 1470   if ( touchLink_IsValidTransID( pReq->transID ) == FALSE )
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JNZ       ??initiatorNwkJoinReqCB_0
// 1471   {
// 1472     return ( ZFailure );
        MOV       R1,#0x1
        LJMP      ??initiatorNwkJoinReqCB_1 & 0xFFFF
// 1473   }
// 1474 
// 1475   rsp.transID = pReq->transID;
??initiatorNwkJoinReqCB_0:
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R0123
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        LCALL     ?XSTORE_R0123
// 1476 
// 1477   if ( nwk_ExtPANIDValid( pReq->nwkParams.extendedPANID ) )
        ; Setup parameters for call to function nwk_ExtPANIDValid
        MOV       A,R6
        ADD       A,#0x4
        MOV       R2,A
        CLR       A
        ADDC      A,R7
        MOV       R3,A
        LCALL     `??nwk_ExtPANIDValid::?relay`; Banked call to: nwk_ExtPANIDValid
        MOV       A,R1
        JNZ       $+5
        LJMP      ??initiatorNwkJoinReqCB_2 & 0xFFFF
// 1478     //NOTE: additional nwk params verification may be added here, e.g. ranges.
// 1479   {
// 1480 #if ( ZSTACK_ROUTER_BUILD )
// 1481     nwkState = NWK_ROUTER;
// 1482 #else
// 1483     // Save the request for later
// 1484     joinReq = *pReq;
        MOV       DPL,R6
        MOV       DPH,R7
        MOV       R4,#joinReq & 0xff
        MOV       R5,#(joinReq >> 8) & 0xff
        MOV       A,#0x2f
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1485     nwkState = NWK_ENDDEVICE;
        MOV       ?V0,#0x4
// 1486 #endif
// 1487 
// 1488     // Notify our task to join the new network
// 1489     osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_NWK_JOIN_IND_EVT, BDBCTL_MIN_STARTUP_DELAY_TIME );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_7d0
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 34)
        MOV       R2,#0x2
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
        MOV       A,R1
// 1490 
// 1491     osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_DISABLE_RX_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#0x0
        MOV       R3,#0x2
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
// 1492     osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_CFG_TARGET_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#0x40
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
// 1493 
// 1494     rsp.status = TOUCHLINK_NETWORK_JOIN_RSP_STATUS_SUCCESS;
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#0x0
        MOVX      @DPTR,A
// 1495     
// 1496     bdb_setNodeIsOnANetwork(TRUE);
        ; Setup parameters for call to function bdb_setNodeIsOnANetwork
        MOV       R1,#0x1
        LCALL     `??bdb_setNodeIsOnANetwork::?relay`; Banked call to: bdb_setNodeIsOnANetwork
// 1497     
// 1498     // Apply the received network key
// 1499     touchLink_DecryptNwkKey( pReq->nwkParams.nwkKey, pReq->nwkParams.keyIndex, pReq->transID, touchLinkResponseID );
        ; Setup parameters for call to function touchLink_DecryptNwkKey
        MOV       DPTR,#touchLinkResponseID
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 34)
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 38)
        MOV       A,R6
        ADD       A,#0xc
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R6
        ADD       A,#0xd
        MOV       R2,A
        CLR       A
        ADDC      A,R7
        MOV       R3,A
        LCALL     `??touchLink_DecryptNwkKey::?relay`; Banked call to: touchLink_DecryptNwkKey
        MOV       A,#0x8
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
// 1500 
// 1501     // This is not a usual Trust Center protected network
// 1502     ZDSecMgrUpdateTCAddress( NULL );
        ; Setup parameters for call to function ZDSecMgrUpdateTCAddress
        MOV       R2,#0x0
        MOV       R3,#0x0
        LCALL     `??ZDSecMgrUpdateTCAddress::?relay`; Banked call to: ZDSecMgrUpdateTCAddress
// 1503     
// 1504     // Configure MAC with our network parameters
// 1505     NLME_InitNV();
        ; Setup parameters for call to function NLME_InitNV
        LCALL     `??NLME_InitNV::?relay`; Banked call to: NLME_InitNV
        MOV       A,R1
// 1506     touchLink_SetNIB( nwkState, pReq->nwkParams.nwkAddr, pReq->nwkParams.extendedPANID,
// 1507                  _NIB.nwkLogicalChannel, pReq->nwkParams.panId, pReq->nwkParams.panId );
        ; Setup parameters for call to function touchLink_SetNIB
        MOV       A,R6
        ADD       A,#0x1e
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        MOV       ?V4,A
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 31)
        MOV       A,R6
        ADD       A,#0x1e
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        LCALL     ?PUSH_XSTACK8_X_TWO
          CFI CFA_XSP16 add(XSP16, 33)
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        MOV       ?V4,A
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 34)
        MOV       A,R6
        ADD       A,#0x4
        MOV       R4,A
        CLR       A
        ADDC      A,R7
        MOV       R5,A
        MOV       A,R6
        ADD       A,#0x20
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R3,A
        MOV       R1,?V0
        LCALL     `??touchLink_SetNIB::?relay`; Banked call to: touchLink_SetNIB
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
// 1508     
// 1509     touchLink_SetChannel( _NIB.nwkLogicalChannel );
        ; Setup parameters for call to function touchLink_SetChannel
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_SetChannel::?relay`; Banked call to: touchLink_SetChannel
// 1510     touchLink_SetMacNwkParams( _NIB.nwkDevAddress, _NIB.nwkPanId, _NIB.nwkLogicalChannel );
        ; Setup parameters for call to function touchLink_SetMacNwkParams
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R4,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R5,A
        MOV       DPTR,#_NIB + 20
        MOVX      A,@DPTR
        MOV       R2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R3,A
        LCALL     `??touchLink_SetMacNwkParams::?relay`; Banked call to: touchLink_SetMacNwkParams
        SJMP      ??initiatorNwkJoinReqCB_3
// 1511   }
// 1512   else
// 1513   {
// 1514     rsp.status = TOUCHLINK_NETWORK_JOIN_RSP_STATUS_FAILURE;
??initiatorNwkJoinReqCB_2:
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#0x1
        MOVX      @DPTR,A
// 1515   }
// 1516 
// 1517   dstAddr = *srcAddr;
??initiatorNwkJoinReqCB_3:
        MOV       DPL,?V2
        MOV       DPH,?V3
        MOV       A,#0x5
        LCALL     ?XSTACK_DISP102_8
        MOV       A,#0xc
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1518   dstAddr.panId = 0xFFFF;
        MOV       A,#0xf
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#-0x1
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
// 1519 
// 1520   // Send a response back
// 1521 #if ( ZSTACK_ROUTER_BUILD )
// 1522   bdbTL_Send_NwkJoinRtrRsp( TOUCHLINK_INTERNAL_ENDPOINT, &dstAddr, &rsp, seqNum );
// 1523 #else
// 1524   bdbTL_Send_NwkJoinEDRsp( TOUCHLINK_INTERNAL_ENDPOINT, &dstAddr, &rsp, seqNum );
        ; Setup parameters for call to function bdbTL_Send_NwkJoinRsp
        MOV       A,?V1
        MOV       ?V4,A
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 31)
        MOV       ?V4,#0x15
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 32)
        MOV       A,#0x2
        LCALL     ?XSTACK_DISP102_8
        MOV       A,#0x7
        LCALL     ?XSTACK_DISP101_8
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_NwkJoinRsp::?relay`; Banked call to: bdbTL_Send_NwkJoinRsp
        MOV       A,#0x2
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
        MOV       A,R1
// 1525 #endif
// 1526 
// 1527   return ( ZSuccess );
        MOV       R1,#0x0
??initiatorNwkJoinReqCB_1:
        MOV       A,#0x11
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 13)
        MOV       R7,#0x5
        LJMP      ?BANKED_LEAVE_XDATA
// 1528 }
          CFI EndBlock cfiBlock18
// 1529 
// 1530 /*********************************************************************
// 1531  * @fn      initiatorNwkUpdateReqCB
// 1532  *
// 1533  * @brief   This callback is called to process a Network Update Request
// 1534  *          command.
// 1535  *
// 1536  * @param   srcAddr - sender's address
// 1537  * @param   pReq - parsed command
// 1538  *
// 1539  * @return  ZStatus_t
// 1540  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1541 static ZStatus_t initiatorNwkUpdateReqCB( afAddrType_t *srcAddr, bdbTLNwkUpdateReq_t *pReq )
initiatorNwkUpdateReqCB:
          CFI Block cfiBlock19 Using cfiCommon0
          CFI Function initiatorNwkUpdateReqCB
        CODE
// 1542 {
        FUNCALL initiatorNwkUpdateReqCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkUpdateReqCB, sAddrExtCmp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkUpdateReqCB, touchLink_NewNwkUpdateId
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkUpdateReqCB, touchLink_ProcessNwkUpdate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        MOV       A,#-0xb
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 0
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       A,R4
        MOV       R6,A
        MOV       A,R5
        MOV       R7,A
// 1543   if ( touchLink_IsValidTransID( pReq->transID ) == FALSE )
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JNZ       ??initiatorNwkUpdateReqCB_0
// 1544   {
// 1545     return ( ZFailure );
        MOV       R1,#0x1
        SJMP      ??initiatorNwkUpdateReqCB_1
// 1546   }
// 1547   // Discard the request if the Extended PAN ID and PAN ID are not
// 1548   // identical with our corresponding stored values
// 1549   if ( TOUCHLINK_SAME_NWK( pReq->PANID, pReq->extendedPANID ) )
??initiatorNwkUpdateReqCB_0:
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R6
        ADD       A,#0xe
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        XRL       A,R0
        JNZ       ??initiatorNwkUpdateReqCB_2
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,R1
??initiatorNwkUpdateReqCB_2:
        JNZ       ??initiatorNwkUpdateReqCB_3
        ; Setup parameters for call to function sAddrExtCmp
        MOV       A,R6
        ADD       A,#0x4
        MOV       R4,A
        CLR       A
        ADDC      A,R7
        MOV       R5,A
        MOV       R2,#(_NIB + 53) & 0xff
        MOV       R3,#((_NIB + 53) >> 8) & 0xff
        LCALL     `??sAddrExtCmp::?relay`; Banked call to: sAddrExtCmp
        MOV       A,R1
        JZ        ??initiatorNwkUpdateReqCB_3
// 1550   {
// 1551     uint8 newUpdateId = touchLink_NewNwkUpdateId( pReq->nwkUpdateId, _NIB.nwkUpdateId);
        ; Setup parameters for call to function touchLink_NewNwkUpdateId
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        MOV       R2,A
        MOV       A,R6
        ADD       A,#0xc
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_NewNwkUpdateId::?relay`; Banked call to: touchLink_NewNwkUpdateId
        MOV       A,R1
        MOV       ?V2,A
// 1552     if ( _NIB.nwkUpdateId != newUpdateId )
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        XRL       A,?V2
        JZ        ??initiatorNwkUpdateReqCB_3
// 1553     {
// 1554       // Update the network update id and logical channel
// 1555       touchLink_ProcessNwkUpdate( pReq->nwkUpdateId, pReq->logicalChannel );
        ; Setup parameters for call to function touchLink_ProcessNwkUpdate
        MOV       A,R6
        ADD       A,#0xd
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R2,A
        MOV       A,R6
        ADD       A,#0xc
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_ProcessNwkUpdate::?relay`; Banked call to: touchLink_ProcessNwkUpdate
// 1556     }
// 1557   }
// 1558 
// 1559   return ( ZSuccess );
??initiatorNwkUpdateReqCB_3:
        MOV       R1,#0x0
??initiatorNwkUpdateReqCB_1:
        MOV       R7,#0x3
        LJMP      ?BANKED_LEAVE_XDATA
// 1560 }
          CFI EndBlock cfiBlock19
// 1561 
// 1562 /*********************************************************************
// 1563  * @fn      initiatorScanRspCB
// 1564  *
// 1565  * @brief   This callback is called to process a Scan Response command.
// 1566  *
// 1567  * @param   srcAddr - sender's address
// 1568  * @param   pRsp - parsed command
// 1569  *
// 1570  * @return  ZStatus_t
// 1571  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1572 static ZStatus_t initiatorScanRspCB( afAddrType_t *srcAddr, bdbTLScanRsp_t *pRsp )
initiatorScanRspCB:
          CFI Block cfiBlock20 Using cfiCommon0
          CFI Function initiatorScanRspCB
        CODE
// 1573 {
        FUNCALL initiatorScanRspCB, osal_get_timeoutEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanRspCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanRspCB, touchLink_GetNwkKeyBitmask
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanRspCB, touchLink_GetMsgRssi
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanRspCB, printf
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanRspCB, ZMacGetReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanRspCB, bdbTL_Send_DeviceInfoReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorScanRspCB, bdb_AddRespondentNode
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV       A,#-0x10
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 5
        MOV       A,#-0x5
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        MOV       ?V2,R2
        MOV       ?V3,R3
        MOV       A,R4
        MOV       R6,A
        MOV       A,R5
        MOV       R7,A
// 1574   bdbFindingBindingRespondent_t *pCurr;
// 1575   
// 1576 //  printf("%d\n", touchLink_GetNwkKeyBitmask() );
// 1577 //  printf("%d\n", pRsp->keyBitmask );
// 1578 //  printf("%d\n", ( pRsp->keyBitmask & touchLink_GetNwkKeyBitmask() ) );
// 1579   
// 1580   if ( osal_get_timeoutEx( touchLinkInitiator_TaskID, TOUCHLINK_TL_SCAN_BASE_EVT )
// 1581        && ( touchLink_IsValidTransID( pRsp->transID ) )
// 1582        && ( pRsp->keyBitmask & touchLink_GetNwkKeyBitmask() ) )
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV       R2,#0x20
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_get_timeoutEx::?relay`; Banked call to: osal_get_timeoutEx
        MOV       A,R2
        ORL       A,R3
        ORL       A,R4
        ORL       A,R5
        JNZ       $+5
        LJMP      ??initiatorScanRspCB_0 & 0xFFFF
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JNZ       $+5
        LJMP      ??initiatorScanRspCB_0 & 0xFFFF
        ; Setup parameters for call to function touchLink_GetNwkKeyBitmask
        LCALL     `??touchLink_GetNwkKeyBitmask::?relay`; Banked call to: touchLink_GetNwkKeyBitmask
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       R0,?V0
        MOV       R1,?V1
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,R0
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,R1
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       $+5
        LJMP      ??initiatorScanRspCB_0 & 0xFFFF
// 1583   {
// 1584 
// 1585     uint8 selectThisTarget = FALSE;
        MOV       ?V0,#0x0
// 1586     int8 rssi = touchLink_GetMsgRssi();
        ; Setup parameters for call to function touchLink_GetMsgRssi
        LCALL     `??touchLink_GetMsgRssi::?relay`; Banked call to: touchLink_GetMsgRssi
        MOV       A,R1
        MOV       ?V1,A
// 1587     if ( pfnSelectDiscDevCB != NULL )
        MOV       DPTR,#pfnSelectDiscDevCB
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??initiatorScanRspCB_1
// 1588     {
// 1589       selectThisTarget = pfnSelectDiscDevCB( pRsp, rssi );
        ; Setup parameters for indirect call
        MOV       R1,?V1
        MOV       A,R6
        MOV       R2,A
        MOV       A,R7
        MOV       R3,A
        MOV       DPTR,#pfnSelectDiscDevCB
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       DPH,A
        MOV       DPL,R0
        LCALL     ?CALL_IND
        MOV       A,R1
        MOV       ?V0,A
        SJMP      ??initiatorScanRspCB_2
// 1590     }
// 1591     // Default selection - according to RSSI
// 1592     else if ( rssi > TOUCHLINK_WORST_RSSI )
??initiatorScanRspCB_1:
        MOV       A,?V1
        CLR       C
        SUBB      A,#-0x45
        MOV       C,0xD0 /* PSW */.2
        XRL       A,PSW
        RLC       A
        JC        ??initiatorScanRspCB_2
// 1593     {
// 1594       if ( ( rssi + pRsp->rssiCorrection ) > selectedTarget.lastRssi )
        MOV       DPTR,#selectedTarget + 53
        MOVX      A,@DPTR
        MOV       R2,A
        RLC       A
        SUBB      A,0xE0 /* A   */
        MOV       R3,A
        MOV       A,?V1
        MOV       R0,A
        RLC       A
        SUBB      A,0xE0 /* A   */
        MOV       R1,A
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R4,A
        MOV       R5,#0x0
        MOV       A,R0
        ADD       A,R4
        MOV       R0,A
        MOV       A,R1
        ADDC      A,R5
        MOV       R1,A
        CLR       C
        MOV       A,R2
        SUBB      A,R0
        MOV       A,R3
        SUBB      A,R1
        MOV       C,0xD0 /* PSW */.2
        XRL       A,PSW
        RLC       A
        JNC       ??initiatorScanRspCB_2
// 1595       {
// 1596         // Better RSSI, select this target
// 1597         selectThisTarget = TRUE;
        MOV       ?V0,#0x1
// 1598       }
// 1599     }
// 1600     
// 1601     if ( selectThisTarget )
??initiatorScanRspCB_2:
        MOV       A,?V0
        JNZ       $+5
        LJMP      ??initiatorScanRspCB_3 & 0xFFFF
// 1602     {
// 1603       selectedTarget.scanRsp = *pRsp;
        MOV       DPL,R6
        MOV       DPH,R7
        MOV       R4,#selectedTarget & 0xff
        MOV       R5,#(selectedTarget >> 8) & 0xff
        MOV       A,#0x26
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1604       selectedTarget.lastRssi = rssi;
        MOV       A,?V1
        MOV       DPTR,#selectedTarget + 53
        MOVX      @DPTR,A
// 1605       selectedTarget.srcAddr = *srcAddr;
        MOV       DPL,?V2
        MOV       DPH,?V3
        MOV       R4,#(selectedTarget + 38) & 0xff
        MOV       R5,#((selectedTarget + 38) >> 8) & 0xff
        MOV       A,#0xc
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1606       selectedTarget.srcAddr.panId = 0xFFFF;
        MOV       DPTR,#selectedTarget + 48
        MOV       A,#-0x1
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#-0x1
        MOVX      @DPTR,A
// 1607       touchLinkResponseID = pRsp->responseID;
        MOV       A,R6
        ADD       A,#0xb
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        LCALL     ?XLOAD_R0123
        MOV       DPTR,#touchLinkResponseID
        LCALL     ?XSTORE_R0123
// 1608       touchLinkTransID = pRsp->transID;
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R0123
        MOV       DPTR,#touchLinkTransID
        LCALL     ?XSTORE_R0123
// 1609       printf("%d\n", pRsp->logicalChannel );
        ; Setup parameters for call to function printf
        MOV       A,R6
        ADD       A,#0x18
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       ?V6,A
        MOV       ?V7,#0x0
        MOV       R0,#?V6
        LCALL     ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 23)
        MOV       R2,#`?<Constant "%d\\n">` & 0xff
        MOV       R3,#(`?<Constant "%d\\n">` >> 8) & 0xff
        LCALL     `??printf::?relay`; Banked call to: printf
        MOV       A,#0x2
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
// 1610 
// 1611       // Remember channel we heard back this scan response on
// 1612       ZMacGetReq( ZMacChannel, &(selectedTarget.rxChannel));
        ; Setup parameters for call to function ZMacGetReq
        MOV       R2,#(selectedTarget + 52) & 0xff
        MOV       R3,#((selectedTarget + 52) >> 8) & 0xff
        MOV       R1,#-0x1f
        LCALL     `??ZMacGetReq::?relay`; Banked call to: ZMacGetReq
        MOV       A,R1
// 1613 
// 1614       if ( pRsp->numSubDevices > 1 )
        MOV       A,R6
        ADD       A,#0x1d
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,#0x2
        JC        ??initiatorScanRspCB_4
// 1615       {
// 1616         selectedTarget.scanRsp.deviceInfo.endpoint = DEV_INFO_INVALID_EP;
        MOV       DPTR,#selectedTarget + 31
        MOV       A,#-0x2
        MOVX      @DPTR,A
// 1617 
// 1618         bdbTLDeviceInfoReq_t devInfoReq;
// 1619         devInfoReq.transID = pRsp->transID;
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R0123
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        LCALL     ?XSTORE_R0123
// 1620         devInfoReq.startIndex = 0;
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#0x0
        MOVX      @DPTR,A
// 1621 
// 1622         return bdbTL_Send_DeviceInfoReq( TOUCHLINK_INTERNAL_ENDPOINT, srcAddr,
// 1623                                     &devInfoReq, initiatorSeqNum++ );
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_DeviceInfoReq
        MOV       A,R0
        MOV       ?V6,A
        MOV       R0,#?V6
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 22)
        MOV       A,#0x1
        LCALL     ?XSTACK_DISP102_8
        MOV       R2,?V2
        MOV       R3,?V3
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_DeviceInfoReq::?relay`; Banked call to: bdbTL_Send_DeviceInfoReq
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        SJMP      ??initiatorScanRspCB_5
// 1624       }
// 1625         
// 1626       // add new node to the list
// 1627       pCurr = bdb_AddRespondentNode( &pRespondentHead, NULL );
??initiatorScanRspCB_4:
        ; Setup parameters for call to function bdb_AddRespondentNode
        MOV       R4,#0x0
        MOV       R5,#0x0
        MOV       R2,#pRespondentHead & 0xff
        MOV       R3,#(pRespondentHead >> 8) & 0xff
        LCALL     `??bdb_AddRespondentNode::?relay`; Banked call to: bdb_AddRespondentNode
        MOV       ?V6,R2
        MOV       ?V7,R3
        MOV       ?V4,?V6
        MOV       ?V5,?V7
// 1628       
// 1629       if ( pCurr != NULL )
        MOV       A,?V4
        ORL       A,?V5
        JZ        ??initiatorScanRspCB_3
// 1630       {
// 1631         pCurr->data.endPoint = pRsp->deviceInfo.endpoint;
        MOV       A,R6
        ADD       A,#0x1f
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       DPL,?V4
        MOV       DPH,?V5
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1632         pCurr->data.panId = srcAddr->panId;
        MOV       DPL,?V2
        MOV       DPH,?V3
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPL,?V4
        MOV       DPH,?V5
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1633       }
// 1634     }
// 1635     return ( ZSuccess );
??initiatorScanRspCB_3:
        MOV       R1,#0x0
        SJMP      ??initiatorScanRspCB_5
// 1636   }
// 1637 
// 1638   return ( ZFailure );
??initiatorScanRspCB_0:
        MOV       R1,#0x1
??initiatorScanRspCB_5:
        MOV       A,#0x5
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV       R7,#0x8
        LJMP      ?BANKED_LEAVE_XDATA
// 1639 }
          CFI EndBlock cfiBlock20
// 1640 
// 1641 /*********************************************************************
// 1642  * @fn      initiatorDeviceInfoRspCB
// 1643  *
// 1644  * @brief   This callback is called to process a Device Information
// 1645  *          Response command.
// 1646  *          If sub-device is selected, selectedTarget data is updated.
// 1647  *
// 1648  * @param   srcAddr - sender's address
// 1649  * @param   pRsp - parsed command
// 1650  *
// 1651  * @return  ZStatus_t
// 1652  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1653 static ZStatus_t initiatorDeviceInfoRspCB( afAddrType_t *srcAddr, bdbTLDeviceInfoRsp_t *pRsp )
initiatorDeviceInfoRspCB:
          CFI Block cfiBlock21 Using cfiCommon0
          CFI Function initiatorDeviceInfoRspCB
        CODE
// 1654 {
        FUNCALL initiatorDeviceInfoRspCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 54, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorDeviceInfoRspCB, bdb_AddRespondentNode
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 54, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorDeviceInfoRspCB, osal_memset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 54, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorDeviceInfoRspCB, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 54, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorDeviceInfoRspCB, initiatorClearSelectedTarget
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 54, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorDeviceInfoRspCB, bdb_zclRespondentListClean
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 54, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 54, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV       A,#-0x10
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 38
        MOV       A,#-0x26
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 54)
        MOV       ?V4,R2
        MOV       ?V5,R3
        MOV       A,R4
        MOV       R6,A
        MOV       A,R5
        MOV       R7,A
// 1655   bdbFindingBindingRespondent_t *pCurr;
// 1656   
// 1657   if ( touchLink_IsValidTransID( pRsp->transID )
// 1658        && ( srcAddr->addr.shortAddr == selectedTarget.srcAddr.addr.shortAddr ) )
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JNZ       $+5
        LJMP      ??initiatorDeviceInfoRspCB_0 & 0xFFFF
        MOV       DPL,?V4
        MOV       DPH,?V5
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#selectedTarget + 38
        MOVX      A,@DPTR
        XRL       A,R0
        JNZ       ??initiatorDeviceInfoRspCB_1
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,R1
??initiatorDeviceInfoRspCB_1:
        JZ        $+5
        LJMP      ??initiatorDeviceInfoRspCB_0 & 0xFFFF
// 1659   {
// 1660     uint8 i;
// 1661     uint8 selectedIdx = pRsp->cnt;
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V1,A
// 1662     bdbTLScanRsp_t tmpInfo = selectedTarget.scanRsp;
        MOV       DPTR,#selectedTarget
        MOV       R4,?XSP + 0
        MOV       R5,?XSP + 1
        MOV       A,#0x26
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1663 
// 1664     for ( i = 0; i < pRsp->cnt; ++i )
        MOV       ?V0,#0x0
??initiatorDeviceInfoRspCB_2:
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,?V0
        CLR       C
        SUBB      A,R0
        JC        $+5
        LJMP      ??initiatorDeviceInfoRspCB_3 & 0xFFFF
// 1665     {
// 1666       if ( pfnSelectDiscDevCB != NULL )
        MOV       DPTR,#pfnSelectDiscDevCB
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JZ        ??initiatorDeviceInfoRspCB_4
// 1667       {
// 1668         tmpInfo.deviceInfo = pRsp->devInfoRec[i].deviceInfo;
        MOV       A,?V0
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        MOV       B,#0x10
        MUL       AB
        XCH       A,R0
        MOV       R2,B
        MOV       B,#0x0
        MUL       AB
        ADD       A,R2
        MOV       R2,A
        MOV       B,#0x10
        MOV       A,R1
        MUL       AB
        ADD       A,R2
        MOV       R1,A
        MOV       A,R6
        ADD       A,R0
        MOV       R0,A
        MOV       A,R7
        ADDC      A,R1
        MOV       R1,A
        MOV       A,R0
        ADD       A,#0xf
        MOV       DPL,A
        CLR       A
        ADDC      A,R1
        MOV       DPH,A
        PUSH      DPL
          CFI CFA_SP SP+-1
        PUSH      DPH
          CFI CFA_SP SP+-2
        MOV       A,#0x1f
        LCALL     ?XSTACK_DISP0_8
        MOV       R4,DPL
        MOV       R5,DPH
        POP       DPH
          CFI CFA_SP SP+-1
        POP       DPL
          CFI CFA_SP SP+0
        MOV       A,#0x7
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1669         if ( pfnSelectDiscDevCB( &tmpInfo, selectedTarget.lastRssi ) )
        ; Setup parameters for indirect call
        MOV       DPTR,#selectedTarget + 53
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       R2,?XSP + 0
        MOV       R3,?XSP + 1
        MOV       DPTR,#pfnSelectDiscDevCB
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       DPH,A
        MOV       DPL,R0
        LCALL     ?CALL_IND
        MOV       A,R1
        JZ        ??initiatorDeviceInfoRspCB_5
// 1670         {
// 1671           selectedIdx = i;
        MOV       ?V1,?V0
        SJMP      ??initiatorDeviceInfoRspCB_5
// 1672           // no break here to allow cycling through all sub-devices
// 1673         }
// 1674       }
// 1675       else
// 1676       {
// 1677         if ( ( pRsp->devInfoRec[i].deviceInfo.profileID == TOUCHLINK_PROFILE_ID ) ||
// 1678              ( pRsp->devInfoRec[i].deviceInfo.profileID == Z3_PROFILE_ID ) )
??initiatorDeviceInfoRspCB_4:
        MOV       A,?V0
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        MOV       B,#0x10
        MUL       AB
        XCH       A,R0
        MOV       R2,B
        MOV       B,#0x0
        MUL       AB
        ADD       A,R2
        MOV       R2,A
        MOV       B,#0x10
        MOV       A,R1
        MUL       AB
        ADD       A,R2
        MOV       R1,A
        MOV       A,R6
        ADD       A,R0
        MOV       R0,A
        MOV       A,R7
        ADDC      A,R1
        MOV       R1,A
        MOV       A,R0
        ADD       A,#0x10
        MOV       DPL,A
        CLR       A
        ADDC      A,R1
        MOV       DPH,A
        MOVX      A,@DPTR
        XRL       A,#0x5e
        JNZ       ??initiatorDeviceInfoRspCB_6
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,#0xc0
??initiatorDeviceInfoRspCB_6:
        JZ        ??initiatorDeviceInfoRspCB_7
        MOV       A,?V0
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        MOV       B,#0x10
        MUL       AB
        XCH       A,R0
        MOV       R2,B
        MOV       B,#0x0
        MUL       AB
        ADD       A,R2
        MOV       R2,A
        MOV       B,#0x10
        MOV       A,R1
        MUL       AB
        ADD       A,R2
        MOV       R1,A
        MOV       A,R6
        ADD       A,R0
        MOV       R0,A
        MOV       A,R7
        ADDC      A,R1
        MOV       R1,A
        MOV       A,R0
        ADD       A,#0x10
        MOV       DPL,A
        CLR       A
        ADDC      A,R1
        MOV       DPH,A
        MOVX      A,@DPTR
        XRL       A,#0x4
        JNZ       ??initiatorDeviceInfoRspCB_8
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,#0x1
??initiatorDeviceInfoRspCB_8:
        JNZ       ??initiatorDeviceInfoRspCB_5
// 1679         {
// 1680           selectedIdx = i;
??initiatorDeviceInfoRspCB_7:
        MOV       ?V1,?V0
// 1681           break; // first match
        SJMP      ??initiatorDeviceInfoRspCB_3
// 1682         }
// 1683       }
// 1684     }
??initiatorDeviceInfoRspCB_5:
        INC       ?V0
        LJMP      ??initiatorDeviceInfoRspCB_2 & 0xFFFF
// 1685     if ( selectedIdx < pRsp->cnt )
??initiatorDeviceInfoRspCB_3:
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,?V1
        CLR       C
        SUBB      A,R0
        JC        $+5
        LJMP      ??initiatorDeviceInfoRspCB_9 & 0xFFFF
// 1686     {
// 1687       // NOTE - the original scan response device info is overwritten with the
// 1688       // selected sub-device info, to complete the data required for the application.
// 1689       selectedTarget.scanRsp.deviceInfo = pRsp->devInfoRec[selectedIdx].deviceInfo;
        MOV       A,?V1
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        MOV       B,#0x10
        MUL       AB
        XCH       A,R0
        MOV       R2,B
        MOV       B,#0x0
        MUL       AB
        ADD       A,R2
        MOV       R2,A
        MOV       B,#0x10
        MOV       A,R1
        MUL       AB
        ADD       A,R2
        MOV       R1,A
        MOV       A,R6
        ADD       A,R0
        MOV       R0,A
        MOV       A,R7
        ADDC      A,R1
        MOV       R1,A
        MOV       A,R0
        ADD       A,#0xf
        MOV       DPL,A
        CLR       A
        ADDC      A,R1
        MOV       DPH,A
        MOV       R4,#(selectedTarget + 31) & 0xff
        MOV       R5,#((selectedTarget + 31) >> 8) & 0xff
        MOV       A,#0x7
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1690       
// 1691       for ( i = 0; i < pRsp->cnt; ++i )
        MOV       ?V0,#0x0
??initiatorDeviceInfoRspCB_10:
        MOV       DPL,R6
        MOV       DPH,R7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,?V0
        CLR       C
        SUBB      A,R0
        JC        $+5
        LJMP      ??initiatorDeviceInfoRspCB_11 & 0xFFFF
// 1692       {
// 1693         if ( ( pRsp->devInfoRec[i].deviceInfo.profileID == TOUCHLINK_PROFILE_ID ) ||
// 1694              ( pRsp->devInfoRec[i].deviceInfo.profileID == Z3_PROFILE_ID ) )
        MOV       A,?V0
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        MOV       B,#0x10
        MUL       AB
        XCH       A,R0
        MOV       R2,B
        MOV       B,#0x0
        MUL       AB
        ADD       A,R2
        MOV       R2,A
        MOV       B,#0x10
        MOV       A,R1
        MUL       AB
        ADD       A,R2
        MOV       R1,A
        MOV       A,R6
        ADD       A,R0
        MOV       R0,A
        MOV       A,R7
        ADDC      A,R1
        MOV       R1,A
        MOV       A,R0
        ADD       A,#0x10
        MOV       DPL,A
        CLR       A
        ADDC      A,R1
        MOV       DPH,A
        MOVX      A,@DPTR
        XRL       A,#0x5e
        JNZ       ??initiatorDeviceInfoRspCB_12
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,#0xc0
??initiatorDeviceInfoRspCB_12:
        JZ        ??initiatorDeviceInfoRspCB_13
        MOV       A,?V0
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        MOV       B,#0x10
        MUL       AB
        XCH       A,R0
        MOV       R2,B
        MOV       B,#0x0
        MUL       AB
        ADD       A,R2
        MOV       R2,A
        MOV       B,#0x10
        MOV       A,R1
        MUL       AB
        ADD       A,R2
        MOV       R1,A
        MOV       A,R6
        ADD       A,R0
        MOV       R0,A
        MOV       A,R7
        ADDC      A,R1
        MOV       R1,A
        MOV       A,R0
        ADD       A,#0x10
        MOV       DPL,A
        CLR       A
        ADDC      A,R1
        MOV       DPH,A
        MOVX      A,@DPTR
        XRL       A,#0x4
        JNZ       ??initiatorDeviceInfoRspCB_14
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,#0x1
??initiatorDeviceInfoRspCB_14:
        JZ        $+5
        LJMP      ??initiatorDeviceInfoRspCB_15 & 0xFFFF
// 1695         {
// 1696           // add new node to the list
// 1697           pCurr = bdb_AddRespondentNode( &pRespondentHead, NULL );
??initiatorDeviceInfoRspCB_13:
        ; Setup parameters for call to function bdb_AddRespondentNode
        MOV       R4,#0x0
        MOV       R5,#0x0
        MOV       R2,#pRespondentHead & 0xff
        MOV       R3,#(pRespondentHead >> 8) & 0xff
        LCALL     `??bdb_AddRespondentNode::?relay`; Banked call to: bdb_AddRespondentNode
        MOV       ?V6,R2
        MOV       ?V7,R3
        MOV       ?V2,?V6
        MOV       ?V3,?V7
// 1698           
// 1699           if ( pCurr != NULL )
        MOV       A,?V2
        ORL       A,?V3
        JNZ       $+5
        LJMP      ??initiatorDeviceInfoRspCB_15 & 0xFFFF
// 1700           {
// 1701             osal_memset(pCurr, 0x00, sizeof(bdbFindingBindingRespondent_t));
        ; Setup parameters for call to function osal_memset
        MOV       R4,#0x11
        MOV       R5,#0x0
        MOV       R1,#0x0
        MOV       R2,?V2
        MOV       R3,?V3
        LCALL     `??osal_memset::?relay`; Banked call to: osal_memset
// 1702             pCurr->data.endPoint = pRsp->devInfoRec[i].deviceInfo.endpoint;
        MOV       A,?V0
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        MOV       B,#0x10
        MUL       AB
        XCH       A,R0
        MOV       R2,B
        MOV       B,#0x0
        MUL       AB
        ADD       A,R2
        MOV       R2,A
        MOV       B,#0x10
        MOV       A,R1
        MUL       AB
        ADD       A,R2
        MOV       R1,A
        MOV       A,R6
        ADD       A,R0
        MOV       R0,A
        MOV       A,R7
        ADDC      A,R1
        MOV       R1,A
        MOV       A,R0
        ADD       A,#0xf
        MOV       DPL,A
        CLR       A
        ADDC      A,R1
        MOV       DPH,A
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       DPL,?V2
        MOV       DPH,?V3
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 1703             pCurr->data.panId = srcAddr->panId;
        MOV       DPL,?V4
        MOV       DPH,?V5
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPL,?V2
        MOV       DPH,?V3
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 1704             osal_cpyExtAddr(selectedTargetIEEEAddr, pRsp->devInfoRec[i].ieeeAddr);
        ; Setup parameters for call to function sAddrExtCpy
        MOV       A,?V0
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        MOV       B,#0x10
        MUL       AB
        XCH       A,R0
        MOV       R2,B
        MOV       B,#0x0
        MUL       AB
        ADD       A,R2
        MOV       R2,A
        MOV       B,#0x10
        MOV       A,R1
        MUL       AB
        ADD       A,R2
        MOV       R1,A
        MOV       A,R6
        ADD       A,R0
        MOV       R0,A
        MOV       A,R7
        ADDC      A,R1
        MOV       R1,A
        MOV       A,R0
        ADD       A,#0x7
        MOV       R4,A
        CLR       A
        ADDC      A,R1
        MOV       R5,A
        MOV       R2,#selectedTargetIEEEAddr & 0xff
        MOV       R3,#(selectedTargetIEEEAddr >> 8) & 0xff
        LCALL     `??sAddrExtCpy::?relay`; Banked call to: sAddrExtCpy
// 1705           }
// 1706         }
// 1707       }
??initiatorDeviceInfoRspCB_15:
        INC       ?V0
        LJMP      ??initiatorDeviceInfoRspCB_10 & 0xFFFF
// 1708     }
// 1709     else
// 1710     {
// 1711       // no sub-device of the currently selected device was selected.
// 1712       // clear selection
// 1713       initiatorClearSelectedTarget();
??initiatorDeviceInfoRspCB_9:
        ; Setup parameters for call to function initiatorClearSelectedTarget
        LCALL     `??initiatorClearSelectedTarget::?relay`; Banked call to: initiatorClearSelectedTarget
// 1714       bdb_zclRespondentListClean( &pRespondentHead );
        ; Setup parameters for call to function bdb_zclRespondentListClean
        MOV       R2,#pRespondentHead & 0xff
        MOV       R3,#(pRespondentHead >> 8) & 0xff
        LCALL     `??bdb_zclRespondentListClean::?relay`; Banked call to: bdb_zclRespondentListClean
// 1715     }
// 1716     return ( ZSuccess );
??initiatorDeviceInfoRspCB_11:
        MOV       R1,#0x0
        SJMP      ??initiatorDeviceInfoRspCB_16
// 1717   }
// 1718   return ( ZFailure );
??initiatorDeviceInfoRspCB_0:
        MOV       R1,#0x1
??initiatorDeviceInfoRspCB_16:
        MOV       A,#0x26
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV       R7,#0x8
        LJMP      ?BANKED_LEAVE_XDATA
// 1719 }
          CFI EndBlock cfiBlock21
// 1720 
// 1721 /*********************************************************************
// 1722  * @fn      initiatorNwkStartRspCB
// 1723  *
// 1724  * @brief   This callback is called to process a Network Start Response command.
// 1725  *
// 1726  * @param   srcAddr - sender's address
// 1727  * @param   pRsp - parsed command
// 1728  *
// 1729  * @return  ZStatus_t
// 1730  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1731 static ZStatus_t initiatorNwkStartRspCB( afAddrType_t *srcAddr, bdbTLNwkStartRsp_t *pRsp )
initiatorNwkStartRspCB:
          CFI Block cfiBlock22 Using cfiCommon0
          CFI Function initiatorNwkStartRspCB
        CODE
// 1732 {
        FUNCALL initiatorNwkStartRspCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkStartRspCB, osal_get_timeoutEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkStartRspCB, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV       A,#-0xa
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV       A,R2
        MOV       R6,A
        MOV       A,R3
        MOV       R7,A
        MOV       ?V0,R4
        MOV       ?V1,R5
// 1733   if ( touchLink_IsValidTransID( pRsp->transID ) == FALSE )
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,?V0
        MOV       DPH,?V1
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JNZ       ??initiatorNwkStartRspCB_0
// 1734   {
// 1735     return ( ZFailure );
        MOV       R1,#0x1
        SJMP      ??initiatorNwkStartRspCB_1
// 1736   }
// 1737   // Make sure we didn't timeout waiting for this response
// 1738   if ( osal_get_timeoutEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_START_RSP_EVT ) )
??initiatorNwkStartRspCB_0:
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV       R2,#-0x80
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_get_timeoutEx::?relay`; Banked call to: osal_get_timeoutEx
        MOV       A,R2
        ORL       A,R3
        ORL       A,R4
        ORL       A,R5
        JZ        ??initiatorNwkStartRspCB_2
// 1739   {
// 1740     // Save the Network Start Response for later
// 1741     rxRsp.nwkStartRsp = *pRsp;
        MOV       DPL,?V0
        MOV       DPH,?V1
        MOV       R4,#rxRsp & 0xff
        MOV       R5,#(rxRsp >> 8) & 0xff
        MOV       A,#0x11
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1742 
// 1743     // No need to wait longer
// 1744     osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_START_RSP_EVT );  
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#-0x80
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
// 1745   }
// 1746 
// 1747   return ( ZSuccess );
??initiatorNwkStartRspCB_2:
        MOV       R1,#0x0
??initiatorNwkStartRspCB_1:
        MOV       R7,#0x2
        LJMP      ?BANKED_LEAVE_XDATA
// 1748 }
          CFI EndBlock cfiBlock22
// 1749 
// 1750 /*********************************************************************
// 1751  * @fn      initiatorNwkJoinRtrRspCB
// 1752  *
// 1753  * @brief   This callback is called to process a Network Join Router
// 1754  *          Response command.
// 1755  *
// 1756  * @param   srcAddr - sender's address
// 1757  * @param   pRsp - parsed command
// 1758  *
// 1759  * @return  ZStatus_t
// 1760  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1761 static ZStatus_t initiatorNwkJoinRtrRspCB( afAddrType_t *srcAddr, bdbTLNwkJoinRsp_t *pRsp )
initiatorNwkJoinRtrRspCB:
          CFI Block cfiBlock23 Using cfiCommon0
          CFI Function initiatorNwkJoinRtrRspCB
        CODE
// 1762 {
        FUNCALL initiatorNwkJoinRtrRspCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinRtrRspCB, osal_memcmp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinRtrRspCB, osal_get_timeoutEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinRtrRspCB, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        MOV       A,#-0xf
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 0
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       A,R4
        MOV       R6,A
        MOV       A,R5
        MOV       R7,A
// 1763   if ( ( touchLink_IsValidTransID( pRsp->transID ) == FALSE ) || 
// 1764      ( ( srcAddr->addrMode != afAddr64Bit ) || ( !osal_memcmp( selectedTarget.srcAddr.addr.extAddr, srcAddr->addr.extAddr, Z_EXTADDR_LEN ) ) ) )
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JZ        ??initiatorNwkJoinRtrRspCB_0
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,#0x3
        JNZ       ??initiatorNwkJoinRtrRspCB_0
        ; Setup parameters for call to function osal_memcmp
        MOV       ?V4,?V0
        MOV       ?V5,?V1
        MOV       ?V6,#0x0
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 18)
        MOV       R4,#0x8
        MOV       R5,#0x0
        MOV       R1,#(selectedTarget + 38) & 0xff
        MOV       R2,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R3,#0x0
        LCALL     `??osal_memcmp::?relay`; Banked call to: osal_memcmp
        MOV       A,#0x3
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV       A,R1
        JNZ       ??initiatorNwkJoinRtrRspCB_1
// 1765   {
// 1766     return ( ZFailure );
??initiatorNwkJoinRtrRspCB_0:
        MOV       R1,#0x1
        SJMP      ??initiatorNwkJoinRtrRspCB_2
// 1767   }
// 1768   
// 1769   // Make sure we didn't timeout waiting for this response
// 1770   if ( osal_get_timeoutEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_JOIN_RSP_EVT ) )
??initiatorNwkJoinRtrRspCB_1:
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV       R2,#0x0
        MOV       R3,#0x1
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_get_timeoutEx::?relay`; Banked call to: osal_get_timeoutEx
        MOV       A,R2
        ORL       A,R3
        ORL       A,R4
        ORL       A,R5
        JZ        ??initiatorNwkJoinRtrRspCB_3
// 1771   {
// 1772     // Save the Network Start Response for later
// 1773     rxRsp.nwkJoinRsp = *pRsp;
        MOV       DPL,R6
        MOV       DPH,R7
        MOV       R4,#rxRsp & 0xff
        MOV       R5,#(rxRsp >> 8) & 0xff
        MOV       A,#0x5
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1774 
// 1775     // No need to wait longer
// 1776     osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_JOIN_RSP_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x0
        MOV       R3,#0x1
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
// 1777   }
// 1778 
// 1779   return ( ZSuccess );
??initiatorNwkJoinRtrRspCB_3:
        MOV       R1,#0x0
??initiatorNwkJoinRtrRspCB_2:
        MOV       R7,#0x7
        LJMP      ?BANKED_LEAVE_XDATA
// 1780 }
          CFI EndBlock cfiBlock23
// 1781 
// 1782 /*********************************************************************
// 1783  * @fn      initiatorNwkJoinEDRspCB
// 1784  *
// 1785  * @brief   This callback is called to process a Network Join End Device
// 1786  *          Response command.
// 1787  *
// 1788  * @param   srcAddr - sender's address
// 1789  * @param   pRsp - parsed command
// 1790  *
// 1791  * @return  ZStatus_t
// 1792  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1793 static ZStatus_t initiatorNwkJoinEDRspCB( afAddrType_t *srcAddr, bdbTLNwkJoinRsp_t *pRsp )
initiatorNwkJoinEDRspCB:
          CFI Block cfiBlock24 Using cfiCommon0
          CFI Function initiatorNwkJoinEDRspCB
        CODE
// 1794 {
        FUNCALL initiatorNwkJoinEDRspCB, touchLink_IsValidTransID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinEDRspCB, osal_memcmp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinEDRspCB, osal_get_timeoutEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorNwkJoinEDRspCB, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        MOV       A,#-0xf
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 0
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       A,R4
        MOV       R6,A
        MOV       A,R5
        MOV       R7,A
// 1795   if ( ( touchLink_IsValidTransID( pRsp->transID ) == FALSE ) || 
// 1796      ( ( srcAddr->addrMode != afAddr64Bit ) || ( !osal_memcmp( selectedTarget.srcAddr.addr.extAddr, srcAddr->addr.extAddr, Z_EXTADDR_LEN ) ) ) )
        ; Setup parameters for call to function touchLink_IsValidTransID
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XLOAD_R2345
        LCALL     `??touchLink_IsValidTransID::?relay`; Banked call to: touchLink_IsValidTransID
        MOV       A,R1
        JZ        ??initiatorNwkJoinEDRspCB_0
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,#0x3
        JNZ       ??initiatorNwkJoinEDRspCB_0
        ; Setup parameters for call to function osal_memcmp
        MOV       ?V4,?V0
        MOV       ?V5,?V1
        MOV       ?V6,#0x0
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 18)
        MOV       R4,#0x8
        MOV       R5,#0x0
        MOV       R1,#(selectedTarget + 38) & 0xff
        MOV       R2,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R3,#0x0
        LCALL     `??osal_memcmp::?relay`; Banked call to: osal_memcmp
        MOV       A,#0x3
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV       A,R1
        JNZ       ??initiatorNwkJoinEDRspCB_1
// 1797   {
// 1798     return ( ZFailure );
??initiatorNwkJoinEDRspCB_0:
        MOV       R1,#0x1
        SJMP      ??initiatorNwkJoinEDRspCB_2
// 1799   }
// 1800   
// 1801   // Make sure we didn't timeout waiting for this response
// 1802   if ( osal_get_timeoutEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_JOIN_RSP_EVT ) )
??initiatorNwkJoinEDRspCB_1:
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV       R2,#0x0
        MOV       R3,#0x1
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_get_timeoutEx::?relay`; Banked call to: osal_get_timeoutEx
        MOV       A,R2
        ORL       A,R3
        ORL       A,R4
        ORL       A,R5
        JZ        ??initiatorNwkJoinEDRspCB_3
// 1803   {
// 1804     // Save the Network Start Response for later
// 1805     rxRsp.nwkJoinRsp = *pRsp;
        MOV       DPL,R6
        MOV       DPH,R7
        MOV       R4,#rxRsp & 0xff
        MOV       R5,#(rxRsp >> 8) & 0xff
        MOV       A,#0x5
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 1806 
// 1807     // No need to wait longer
// 1808     osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_JOIN_RSP_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x0
        MOV       R3,#0x1
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
        SJMP      ??initiatorNwkJoinEDRspCB_4
// 1809 
// 1810   }
// 1811   else
// 1812   {
// 1813     rxRsp.nwkJoinRsp.status = TOUCHLINK_NETWORK_JOIN_RSP_STATUS_FAILURE;
??initiatorNwkJoinEDRspCB_3:
        MOV       DPTR,#rxRsp + 4
        MOV       A,#0x1
        MOVX      @DPTR,A
// 1814   }
// 1815 
// 1816   return ( ZSuccess );
??initiatorNwkJoinEDRspCB_4:
        MOV       R1,#0x0
??initiatorNwkJoinEDRspCB_2:
        MOV       R7,#0x7
        LJMP      ?BANKED_LEAVE_XDATA
// 1817 }
          CFI EndBlock cfiBlock24
// 1818 
// 1819 /******************************************************************************
// 1820  * @fn      initiatorZdoLeaveCnfCB
// 1821  *
// 1822  * @brief   This callback is called to process a Leave Confirmation message.
// 1823  *
// 1824  *          Note: this callback function returns a pointer if it has handled
// 1825  *                the confirmation message and no further action should be
// 1826  *                taken with it. It returns NULL if it has not handled the
// 1827  *                confirmation message and normal processing should take place.
// 1828  *
// 1829  * @param   pParam - received message
// 1830  *
// 1831  * @return  Pointer if message processed. NULL, otherwise.
// 1832  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1833 static void *initiatorZdoLeaveCnfCB( void *pParam )
initiatorZdoLeaveCnfCB:
          CFI Block cfiBlock25 Using cfiCommon0
          CFI Function initiatorZdoLeaveCnfCB
        CODE
// 1834 {
        FUNCALL initiatorZdoLeaveCnfCB, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV       A,#-0x9
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV       A,R2
        MOV       R6,A
        MOV       A,R3
        MOV       R7,A
// 1835   (void)pParam;
// 1836 
// 1837   // Did we initiate the leave?
// 1838   if ( touchLinkLeaveInitiated == FALSE )
        MOV       DPTR,#touchLinkLeaveInitiated
        MOVX      A,@DPTR
        JNZ       ??initiatorZdoLeaveCnfCB_0
// 1839   {
// 1840     return ( NULL );
        MOV       R2,#0x0
        MOV       R3,#0x0
        SJMP      ??initiatorZdoLeaveCnfCB_1
// 1841   }
// 1842 
// 1843   if ( touchLinkLeaveInitiated == TOUCHLINK_LEAVE_TO_JOIN_NWK )
??initiatorZdoLeaveCnfCB_0:
        MOV       DPTR,#touchLinkLeaveInitiated
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??initiatorZdoLeaveCnfCB_2
// 1844   {
// 1845     // Notify our task to join the new network
// 1846     osal_set_event( touchLinkInitiator_TaskID, TOUCHLINK_JOIN_NWK_ATTEMPT_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x8
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
// 1847   }
// 1848 
// 1849   return ( (void *)&touchLinkLeaveInitiated );
??initiatorZdoLeaveCnfCB_2:
        MOV       R2,#touchLinkLeaveInitiated & 0xff
        MOV       R3,#(touchLinkLeaveInitiated >> 8) & 0xff
??initiatorZdoLeaveCnfCB_1:
        MOV       R7,#0x1
        LJMP      ?BANKED_LEAVE_XDATA
// 1850 }
          CFI EndBlock cfiBlock25
// 1851 
// 1852 /*********************************************************************
// 1853  * @fn      initiatorProcessStateChange
// 1854  *
// 1855  * @brief   Process ZDO device state change
// 1856  *
// 1857  * @param   state - The device's network state
// 1858  *
// 1859  * @return  none
// 1860  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1861 static void initiatorProcessStateChange( devStates_t state )
initiatorProcessStateChange:
          CFI Block cfiBlock26 Using cfiCommon0
          CFI Function initiatorProcessStateChange
        CODE
// 1862 {
        FUNCALL initiatorProcessStateChange, touchLink_UpdateNV
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorProcessStateChange, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorProcessStateChange, osal_get_timeoutEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorProcessStateChange, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV       A,#-0x9
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV       A,R1
        MOV       R6,A
// 1863   if ( ( ( devState == DEV_ROUTER ) || ( devState == DEV_END_DEVICE ) ) && ( touchlinkDistNwk == TRUE ) )
        MOV       DPTR,#devState
        MOVX      A,@DPTR
        XRL       A,#0x7
        JZ        ??initiatorProcessStateChange_0
        MOV       DPTR,#devState
        MOVX      A,@DPTR
        XRL       A,#0x6
        JNZ       ??initiatorProcessStateChange_1
??initiatorProcessStateChange_0:
        MOV       DPTR,#touchlinkDistNwk
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??initiatorProcessStateChange_1
// 1864   {
// 1865     // Set touchlink flag to false after joining is complete
// 1866     touchlinkDistNwk = FALSE;
        MOV       DPTR,#touchlinkDistNwk
        MOV       A,#0x0
        MOVX      @DPTR,A
// 1867     
// 1868     // Save the latest NIB to update our parent's address
// 1869     touchLink_UpdateNV( TOUCHLINK_UPDATE_NV_NIB );
        ; Setup parameters for call to function touchLink_UpdateNV
        MOV       R1,#0x1
        LCALL     `??touchLink_UpdateNV::?relay`; Banked call to: touchLink_UpdateNV
// 1870    
// 1871     if ( !_NIB.CapabilityFlags )
        MOV       DPTR,#_NIB + 14
        MOVX      A,@DPTR
        JNZ       ??initiatorProcessStateChange_2
// 1872     {
// 1873       _NIB.CapabilityFlags = ZDO_Config_Node_Descriptor.CapabilityFlags;
        MOV       DPTR,#ZDO_Config_Node_Descriptor + 2
        MOVX      A,@DPTR
        MOV       DPTR,#_NIB + 14
        MOVX      @DPTR,A
// 1874     }
// 1875 
// 1876 #if (ZSTACK_ROUTER_BUILD)
// 1877       linkInfo_t *linkInfo;
// 1878       
// 1879       // check if entry exists
// 1880       linkInfo = nwkNeighborGetLinkInfo( selectedTargetNwkAddr, _NIB.nwkPanId );
// 1881 
// 1882       // if not, look for a vacant entry to add this node...
// 1883       if ( linkInfo == NULL )
// 1884       {
// 1885         nwkNeighborAdd( selectedTargetNwkAddr, _NIB.nwkPanId, DEF_LQI );
// 1886         linkInfo = nwkNeighborGetLinkInfo( selectedTargetNwkAddr, _NIB.nwkPanId );
// 1887         linkInfo->txCost = DEF_LINK_COST;
// 1888         linkInfo->rxLqi = MIN_LQI_COST_1; 
// 1889       }
// 1890       
// 1891       bdb_setNodeIsOnANetwork(TRUE);
// 1892       osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_NWK_FORMATION_SUCCESS_EVT, 500);
// 1893 #endif
// 1894 
// 1895     // We found our parent
// 1896     osal_stop_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_REJOIN_EVT );
??initiatorProcessStateChange_2:
        ; Setup parameters for call to function osal_stop_timerEx
        MOV       R2,#0x0
        MOV       R3,#0x4
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV       A,R1
        SJMP      ??initiatorProcessStateChange_3
// 1897   }
// 1898   
// 1899   else if ( ( state == DEV_NWK_ORPHAN ) || ( state == DEV_NWK_DISC ) )
??initiatorProcessStateChange_1:
        MOV       A,#0xa
        XRL       A,R6
        JZ        ??initiatorProcessStateChange_4
        MOV       A,#0x2
        XRL       A,R6
        JNZ       ??initiatorProcessStateChange_3
// 1900   {
// 1901     // Device has lost information about its parent; give it some time to rejoin
// 1902     if ( !osal_get_timeoutEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_REJOIN_EVT ) )
??initiatorProcessStateChange_4:
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV       R2,#0x0
        MOV       R3,#0x4
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_get_timeoutEx::?relay`; Banked call to: osal_get_timeoutEx
        MOV       A,R2
        ORL       A,R3
        ORL       A,R4
        ORL       A,R5
        JNZ       ??initiatorProcessStateChange_3
// 1903     {
// 1904       osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_REJOIN_EVT,
// 1905                           (NUM_DISC_ATTEMPTS + 1) * TOUCHLINK_INITIATOR_REJOIN_TIMEOUT );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_30d4
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 13)
        MOV       R2,#0x0
        MOV       R3,#0x4
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 9)
        MOV       A,R1
// 1906     }
// 1907   }
// 1908 }
??initiatorProcessStateChange_3:
        MOV       R7,#0x1
        LJMP      ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock26
// 1909 
// 1910 /*********************************************************************
// 1911  * @fn      initiatorSetNwkToInitState
// 1912  *
// 1913  * @brief   Set our network state to its original state.
// 1914  *
// 1915  * @param   void
// 1916  *
// 1917  * @return  void
// 1918  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1919 static void initiatorSetNwkToInitState()
initiatorSetNwkToInitState:
          CFI Block cfiBlock27 Using cfiCommon0
          CFI Function initiatorSetNwkToInitState
        CODE
// 1920 {
        FUNCALL initiatorSetNwkToInitState, ZMacSetReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSetNwkToInitState, touchLink_SetChannel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSetNwkToInitState, nwk_setStateIdle
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSetNwkToInitState, NLME_SetPollRate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSetNwkToInitState, NLME_SetQueuedPollRate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSetNwkToInitState, NLME_SetResponseRate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        MOV       A,#-0xc
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
// 1921   // Turn MAC receiver back to its old state
// 1922   ZMacSetReq( ZMacRxOnIdle, &savedRxOnIdle );
        ; Setup parameters for call to function ZMacSetReq
        MOV       R2,#savedRxOnIdle & 0xff
        MOV       R3,#(savedRxOnIdle >> 8) & 0xff
        MOV       R1,#0x52
        LCALL     `??ZMacSetReq::?relay`; Banked call to: ZMacSetReq
        MOV       A,R1
// 1923 
// 1924   // Tune back to our channel
// 1925   touchLink_SetChannel( _NIB.nwkLogicalChannel );
        ; Setup parameters for call to function touchLink_SetChannel
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_SetChannel::?relay`; Banked call to: touchLink_SetChannel
// 1926 
// 1927   // Set NWK task to run
// 1928   nwk_setStateIdle( FALSE );
        ; Setup parameters for call to function nwk_setStateIdle
        MOV       R1,#0x0
        LCALL     `??nwk_setStateIdle::?relay`; Banked call to: nwk_setStateIdle
// 1929 
// 1930   if ( savedPollRate != zgPollRate )
        MOV       DPTR,#zgPollRate
        PUSH      DPL
          CFI CFA_SP SP+-1
        PUSH      DPH
          CFI CFA_SP SP+-2
        MOV       DPTR,#savedPollRate
        MOVX      A,@DPTR
        MOV       ?V0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V1,A
        CLR       A
        MOV       ?V2,A
        MOV       ?V3,A
        POP       DPH
          CFI CFA_SP SP+-1
        POP       DPL
          CFI CFA_SP SP+0
        MOV       R0,#?V0
        LCALL     ?L_EQ_X
        JZ        ??initiatorSetNwkToInitState_0
// 1931   {
// 1932     NLME_SetPollRate( savedPollRate );
        ; Setup parameters for call to function NLME_SetPollRate
        MOV       DPTR,#savedPollRate
        MOVX      A,@DPTR
        MOV       ?V0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V1,A
        MOV       R2,?V0
        MOV       R3,?V1
        CLR       A
        MOV       R4,A
        MOV       R5,A
        LCALL     `??NLME_SetPollRate::?relay`; Banked call to: NLME_SetPollRate
// 1933     savedPollRate = POLL_RATE;
        MOV       DPTR,#savedPollRate
        MOV       A,#-0x18
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x3
        MOVX      @DPTR,A
// 1934   }
// 1935 
// 1936   if ( savedQueuedPollRate != zgQueuedPollRate )
??initiatorSetNwkToInitState_0:
        MOV       DPTR,#savedQueuedPollRate
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#zgQueuedPollRate
        MOVX      A,@DPTR
        XRL       A,R0
        JNZ       ??initiatorSetNwkToInitState_1
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,R1
??initiatorSetNwkToInitState_1:
        JZ        ??initiatorSetNwkToInitState_2
// 1937   {
// 1938     NLME_SetQueuedPollRate( savedQueuedPollRate );
        ; Setup parameters for call to function NLME_SetQueuedPollRate
        MOV       DPTR,#savedQueuedPollRate
        MOVX      A,@DPTR
        MOV       R2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R3,A
        LCALL     `??NLME_SetQueuedPollRate::?relay`; Banked call to: NLME_SetQueuedPollRate
// 1939     savedQueuedPollRate = QUEUED_POLL_RATE;
        MOV       DPTR,#savedQueuedPollRate
        MOV       A,#0x64
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
// 1940   }
// 1941 
// 1942   if ( savedResponsePollRate != zgResponsePollRate )
??initiatorSetNwkToInitState_2:
        MOV       DPTR,#savedResponsePollRate
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#zgResponsePollRate
        MOVX      A,@DPTR
        XRL       A,R0
        JNZ       ??initiatorSetNwkToInitState_3
        INC       DPTR
        MOVX      A,@DPTR
        XRL       A,R1
??initiatorSetNwkToInitState_3:
        JZ        ??initiatorSetNwkToInitState_4
// 1943   {
// 1944     NLME_SetResponseRate( savedResponsePollRate );
        ; Setup parameters for call to function NLME_SetResponseRate
        MOV       DPTR,#savedResponsePollRate
        MOVX      A,@DPTR
        MOV       R2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R3,A
        LCALL     `??NLME_SetResponseRate::?relay`; Banked call to: NLME_SetResponseRate
// 1945     savedResponsePollRate = RESPONSE_POLL_RATE;
        MOV       DPTR,#savedResponsePollRate
        MOV       A,#0x64
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,#0x0
        MOVX      @DPTR,A
// 1946   }
// 1947 }
??initiatorSetNwkToInitState_4:
        MOV       R7,#0x4
        LJMP      ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock27
// 1948 
// 1949 #if ( ZSTACK_ROUTER_BUILD )
// 1950 /*********************************************************************
// 1951  * @fn      initiatorJoinNwk
// 1952  *
// 1953  * @brief   Initiate a network join request.
// 1954  *
// 1955  * @param   void
// 1956  *
// 1957  * @return  void
// 1958  */
// 1959 static void initiatorJoinNwk( void )
// 1960 {
// 1961   // Save free ranges
// 1962   touchLink_UpdateNV( TOUCHLINK_UPDATE_NV_RANGES );
// 1963 
// 1964   // In case we're here after a leave
// 1965   touchLinkLeaveInitiated = FALSE;
// 1966 
// 1967   // Clear leave control logic
// 1968   ZDApp_LeaveCtrlReset();
// 1969 
// 1970   if ( POLL_RATE == 0 )
// 1971   {
// 1972     //allow to respond to TOUCHLINK commission utility commands after TL
// 1973     NLME_SetPollRate( TOUCHLINK_INITIATOR_TEMP_POST_TL_POLL_RATE );
// 1974     //polling should reset when TL life time expires
// 1975   }
// 1976 
// 1977   touchLinkInitiator_PermitJoin( 0 );
// 1978 
// 1979   ZDOInitDevice( 0 );
// 1980   // Perform a network rejoin request
// 1981   _NIB.nwkState = NWK_REJOINING;
// 1982   initiatorReJoinNwk( MODE_REJOIN );
// 1983 }
// 1984 #endif
// 1985 
// 1986 /*********************************************************************
// 1987  * @fn      initiatorReJoinNwk
// 1988  *
// 1989  * @brief   Send out an Rejoin Request.
// 1990  *
// 1991  * @param   startMode - MODE_REJOIN or MODE_RESUME
// 1992  *
// 1993  * @return  none
// 1994  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 1995 static void initiatorReJoinNwk( devStartModes_t startMode )
initiatorReJoinNwk:
          CFI Block cfiBlock28 Using cfiCommon0
          CFI Function initiatorReJoinNwk
        CODE
// 1996 {
        FUNCALL initiatorReJoinNwk, nwk_setStateIdle
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorReJoinNwk, touchLink_SetMacNwkParams
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorReJoinNwk, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorReJoinNwk, osal_set_event
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV       A,#-0x9
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV       A,R1
        MOV       R6,A
// 1997   // Set NWK task to run
// 1998   nwk_setStateIdle( FALSE );
        ; Setup parameters for call to function nwk_setStateIdle
        MOV       R1,#0x0
        LCALL     `??nwk_setStateIdle::?relay`; Banked call to: nwk_setStateIdle
// 1999 
// 2000   // Configure MAC with our network parameters
// 2001   touchLink_SetMacNwkParams( _NIB.nwkDevAddress, _NIB.nwkPanId, _NIB.nwkLogicalChannel );
        ; Setup parameters for call to function touchLink_SetMacNwkParams
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R4,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R5,A
        MOV       DPTR,#_NIB + 20
        MOVX      A,@DPTR
        MOV       R2,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R3,A
        LCALL     `??touchLink_SetMacNwkParams::?relay`; Banked call to: touchLink_SetMacNwkParams
// 2002 
// 2003   // Use the new network paramters
// 2004   zgConfigPANID = _NIB.nwkPanId;
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#zgConfigPANID
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2005   zgDefaultChannelList = _NIB.channelList;
        MOV       DPTR,#_NIB + 36
        LCALL     ?XLOAD_R0123
        MOV       DPTR,#zgDefaultChannelList
        LCALL     ?XSTORE_R0123
// 2006   osal_cpyExtAddr( ZDO_UseExtendedPANID, _NIB.extendedPANID );
        ; Setup parameters for call to function sAddrExtCpy
        MOV       R4,#(_NIB + 53) & 0xff
        MOV       R5,#((_NIB + 53) >> 8) & 0xff
        MOV       R2,#ZDO_UseExtendedPANID & 0xff
        MOV       R3,#(ZDO_UseExtendedPANID >> 8) & 0xff
        LCALL     `??sAddrExtCpy::?relay`; Banked call to: sAddrExtCpy
// 2007 
// 2008   devStartMode = startMode;
        MOV       A,R6
        MOV       DPTR,#devStartMode
        MOVX      @DPTR,A
// 2009 
// 2010   _tmpRejoinState = TRUE;
        MOV       DPTR,#_tmpRejoinState
        MOV       A,#0x1
        MOVX      @DPTR,A
// 2011 
// 2012   // Start the network joining process
// 2013   osal_set_event( ZDAppTaskID, ZDO_NETWORK_INIT );
        ; Setup parameters for call to function osal_set_event
        MOV       R2,#0x1
        MOV       R3,#0x0
        MOV       DPTR,#ZDAppTaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_set_event::?relay`; Banked call to: osal_set_event
        MOV       A,R1
// 2014 }
        MOV       R7,#0x1
        LJMP      ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock28
// 2015 
// 2016 /*********************************************************************
// 2017  * @fn      initiatorSendScanReq
// 2018  *
// 2019  * @brief   Send out an Scan Request command on one of the TOUCHLINK channels.
// 2020  *
// 2021  * @param   freshScan - TRUE to start fresh scan, FALSE to resume existing process.
// 2022  *
// 2023  * @return  void
// 2024  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 2025 static void initiatorSendScanReq( bool freshScan )
initiatorSendScanReq:
          CFI Block cfiBlock29 Using cfiCommon0
          CFI Function initiatorSendScanReq
        CODE
// 2026 {
        FUNCALL initiatorSendScanReq, touchLink_DeviceIsInitiator
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendScanReq, touchLink_SetChannel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendScanReq, bdbTL_Send_ScanReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendScanReq, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 33, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendScanReq, touchLinkInitiator_AbortTL
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        MOV       A,#-0x9
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 20
        MOV       A,#-0x14
        LCALL     ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 29)
        MOV       A,R1
        MOV       R7,A
// 2027   bdbTLScanReq_t req;
// 2028   uint8 newChannel;
// 2029   uint8 secondaryChList[] = TOUCHLINK_SECONDARY_CHANNELS_SET;
        MOV       DPTR,#`?<Constant {12, 13, 14, 16, 17, 18, 19, 21, 22`
        MOV       A,#0x8
        LCALL     ?XSTACK_DISP102_8
        MOV       A,#0xc
        LCALL     ?MOVE_LONG8_XDATA_XDATA
// 2030   static uint8 channelIndex = 0;
// 2031   
// 2032   // Set the device as initiator of touchlink commissioning
// 2033   touchLink_DeviceIsInitiator( TRUE );
        ; Setup parameters for call to function touchLink_DeviceIsInitiator
        MOV       R1,#0x1
        LCALL     `??touchLink_DeviceIsInitiator::?relay`; Banked call to: touchLink_DeviceIsInitiator
// 2034 
// 2035   if ( freshScan )
        MOV       A,R7
        JZ        ??initiatorSendScanReq_0
// 2036   {
// 2037     channelIndex = 0;
        MOV       DPTR,#??channelIndex
        MOV       A,#0x0
        MOVX      @DPTR,A
// 2038   }
// 2039 
// 2040   // First figure out the channel
// 2041   if ( scanReqChannels == TOUCHLINK_SCAN_PRIMARY_CHANNELS )
??initiatorSendScanReq_0:
        MOV       DPTR,#scanReqChannels
        MOVX      A,@DPTR
        XRL       A,#0x1
        JNZ       ??initiatorSendScanReq_1
// 2042   {
// 2043     if ( numScanReqSent < 5 )
        MOV       DPTR,#numScanReqSent
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,#0x5
        JNC       ??initiatorSendScanReq_2
// 2044     {
// 2045       // First five consecutive requests are sent on channel 11
// 2046       newChannel = TOUCHLINK_FIRST_CHANNEL;
        MOV       R6,#0xb
        SJMP      ??initiatorSendScanReq_3
// 2047     }
// 2048     else if ( numScanReqSent == 5 )
??initiatorSendScanReq_2:
        MOV       DPTR,#numScanReqSent
        MOVX      A,@DPTR
        XRL       A,#0x5
        JNZ       ??initiatorSendScanReq_4
// 2049     {
// 2050       // Sixth request is sent on channel 15
// 2051       newChannel = TOUCHLINK_SECOND_CHANNEL;
        MOV       R6,#0xf
        SJMP      ??initiatorSendScanReq_3
// 2052     }
// 2053     else if ( numScanReqSent == 6 )
??initiatorSendScanReq_4:
        MOV       DPTR,#numScanReqSent
        MOVX      A,@DPTR
        XRL       A,#0x6
        JNZ       ??initiatorSendScanReq_5
// 2054     {
// 2055       // Seventh request is sent on channel 20
// 2056       newChannel = TOUCHLINK_THIRD_CHANNEL;
        MOV       R6,#0x14
        SJMP      ??initiatorSendScanReq_3
// 2057     }
// 2058     else
// 2059     {
// 2060       // Last request is sent on channel 25
// 2061       newChannel = TOUCHLINK_FOURTH_CHANNEL;
??initiatorSendScanReq_5:
        MOV       R6,#0x19
        SJMP      ??initiatorSendScanReq_3
// 2062     }
// 2063   }
// 2064   else
// 2065   {
// 2066     // scan secondary channel list
// 2067     if ( channelIndex < sizeof(secondaryChList) )
??initiatorSendScanReq_1:
        MOV       DPTR,#??channelIndex
        MOVX      A,@DPTR
        CLR       C
        SUBB      A,#0xc
        JNC       ??initiatorSendScanReq_6
// 2068     {
// 2069        newChannel = secondaryChList[channelIndex++];
        MOV       DPTR,#??channelIndex
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,#0x8
        LCALL     ?XSTACK_DISP0_8
        MOV       A,DPL
        ADD       A,R0
        MOV       DPL,A
        MOV       A,DPH
        ADDC      A,R1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R6,A
        MOV       DPTR,#??channelIndex
        MOVX      A,@DPTR
        ADD       A,#0x1
        MOVX      @DPTR,A
        SJMP      ??initiatorSendScanReq_3
// 2070     }
// 2071     else
// 2072     {
// 2073       // set it to initial value for next discovery process
// 2074       channelIndex = 0;
??initiatorSendScanReq_6:
        MOV       DPTR,#??channelIndex
        MOV       A,#0x0
        MOVX      @DPTR,A
// 2075       return;
        LJMP      ??initiatorSendScanReq_7 & 0xFFFF
// 2076     }
// 2077   }
// 2078 
// 2079   if ( touchLinkTransID != 0 )
??initiatorSendScanReq_3:
        MOV       DPTR,#touchLinkTransID
        LCALL     ?XLOAD_R0123
        MOV       A,R0
        ORL       A,R1
        ORL       A,R2
        ORL       A,R3
        JNZ       $+5
        LJMP      ??initiatorSendScanReq_8 & 0xFFFF
// 2080   {
// 2081     // Build the request
// 2082     req.transID = touchLinkTransID;
        MOV       DPTR,#touchLinkTransID
        LCALL     ?XLOAD_R0123
        MOV       DPL,?XSP + 0
        MOV       DPH,?XSP + 1
        LCALL     ?XSTORE_R0123
// 2083     touchLinkLastAcceptedTransID = touchLinkTransID;
        MOV       DPTR,#touchLinkTransID
        LCALL     ?XLOAD_R0123
        MOV       DPTR,#touchLinkLastAcceptedTransID
        LCALL     ?XSTORE_R0123
// 2084 
// 2085     req.zInfo.zInfoByte = 0;
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#0x0
        MOVX      @DPTR,A
// 2086     req.zLogicalType = zgDeviceLogicalType;
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        ANL       A,#0xfc
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xff
        MOVX      @DPTR,A
        MOV       DPTR,#zgDeviceLogicalType
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,R0
        ANL       A,#0x3
        MOV       R0,A
        MOV       A,R1
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        ORL       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,R1
        MOVX      @DPTR,A
// 2087     if ( ZDO_Config_Node_Descriptor.CapabilityFlags & CAPINFO_RCVR_ON_IDLE )
        MOV       DPTR,#ZDO_Config_Node_Descriptor + 2
        MOVX      A,@DPTR
        MOV       C,0xE0 /* A   */.3
        JNC       ??initiatorSendScanReq_9
// 2088     {
// 2089       req.zRxOnWhenIdle = TRUE;
        MOV       A,#0x4
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        ORL       A,#0x4
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x0
        MOVX      @DPTR,A
// 2090     }
// 2091 
// 2092     req.touchLinkInfo.touchLinkInfoByte = 0;
??initiatorSendScanReq_9:
        MOV       A,#0x6
        LCALL     ?XSTACK_DISP0_8
        MOV       A,#0x0
        MOVX      @DPTR,A
// 2093     req.touchLinkFactoryNew = !bdbAttributes.bdbNodeIsOnANetwork;
        MOV       DPTR,#bdbAttributes + 14
        MOVX      A,@DPTR
        JNZ       ??initiatorSendScanReq_10
        SETB      B.0
        SJMP      ??initiatorSendScanReq_11
??initiatorSendScanReq_10:
        CLR       B.0
??initiatorSendScanReq_11:
        MOV       A,#0x6
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        ANL       A,#0xfe
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0xff
        MOVX      @DPTR,A
        MOV       C,B.0
        CLR       A
        RLC       A
        MOV       R0,A
        MOV       R1,#0x0
        MOV       A,#0x6
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        ORL       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,R1
        MOVX      @DPTR,A
// 2094     req.touchLinkAddressAssignment = TRUE;
        MOV       A,#0x6
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        ORL       A,#0x2
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x0
        MOVX      @DPTR,A
// 2095     req.touchLinkInitiator = TRUE;
        MOV       A,#0x6
        LCALL     ?XSTACK_DISP0_8
        MOVX      A,@DPTR
        ORL       A,#0x10
        MOVX      @DPTR,A
        INC       DPTR
        MOVX      A,@DPTR
        ORL       A,#0x0
        MOVX      @DPTR,A
// 2096 
// 2097     // First switch to the right channel
// 2098     touchLink_SetChannel( newChannel );
        ; Setup parameters for call to function touchLink_SetChannel
        MOV       A,R6
        MOV       R1,A
        LCALL     `??touchLink_SetChannel::?relay`; Banked call to: touchLink_SetChannel
// 2099 
// 2100     // Broadcast the request
// 2101     bdbTL_Send_ScanReq( TOUCHLINK_INTERNAL_ENDPOINT, &bcastAddr, &req, initiatorSeqNum++ );
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_ScanReq
        MOV       A,R0
        MOV       ?V0,A
        MOV       R0,#?V0
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 30)
        MOV       A,#0x1
        LCALL     ?XSTACK_DISP102_8
        MOV       R2,#bcastAddr & 0xff
        MOV       R3,#(bcastAddr >> 8) & 0xff
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_ScanReq::?relay`; Banked call to: bdbTL_Send_ScanReq
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 29)
        MOV       A,R1
// 2102 
// 2103     numScanReqSent++;
        MOV       DPTR,#numScanReqSent
        MOVX      A,@DPTR
        ADD       A,#0x1
        MOVX      @DPTR,A
// 2104 
// 2105     // After each transmission, wait BDBCTL_SCAN_TIME_BASE_DURATION seconds
// 2106     // to receive any responses.
// 2107     osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_TL_SCAN_BASE_EVT, BDBCTL_SCAN_TIME_BASE_DURATION );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_fa
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 33)
        MOV       R2,#0x20
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 29)
        MOV       A,R1
        SJMP      ??initiatorSendScanReq_7
// 2108   }
// 2109   else
// 2110   {
// 2111     touchLinkInitiator_AbortTL();
??initiatorSendScanReq_8:
        ; Setup parameters for call to function touchLinkInitiator_AbortTL
        LCALL     `??touchLinkInitiator_AbortTL::?relay`; Banked call to: touchLinkInitiator_AbortTL
        MOV       A,R1
// 2112   }
// 2113 }
??initiatorSendScanReq_7:
        MOV       A,#0x14
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 9)
        MOV       R7,#0x1
        LJMP      ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock29

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
??channelIndex:
        DS 1
        REQUIRE __INIT_XDATA_Z
// 2114 
// 2115 /*********************************************************************
// 2116  * @fn      initiatorSendNwkStartReq
// 2117  *
// 2118  * @brief   Send out a Network Start Request command.
// 2119  *
// 2120  * @param   pRsp - received Scan Response
// 2121  *
// 2122  * @return  ZStatus_t
// 2123  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 2124 static ZStatus_t initiatorSendNwkStartReq( bdbTLScanRsp_t *pRsp )
initiatorSendNwkStartReq:
          CFI Block cfiBlock30 Using cfiCommon0
          CFI Function initiatorSendNwkStartReq
        CODE
// 2125 {
        FUNCALL initiatorSendNwkStartReq, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, osal_memset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, touchLink_EncryptNwkKey
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, touchLink_PopNwkAddress
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, touchLink_PopGrpIDRange
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, touchLink_SplitFreeRanges
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, NLME_GetExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, bdbTL_Send_NwkStartReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkStartReq, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        REQUIRE ?V8
        REQUIRE ?V9
        MOV       A,#-0x12
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 18)
        ; Saved register size: 18
        ; Auto size: 0
        MOV       ?V8,R2
        MOV       ?V9,R3
// 2126   bdbTLNwkStartReq_t *pReq;
// 2127   ZStatus_t status;
// 2128 
// 2129   pReq = (bdbTLNwkStartReq_t *)osal_mem_alloc( sizeof( bdbTLNwkStartReq_t ) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV       R2,#0x38
        MOV       R3,#0x0
        LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       ?V2,?V0
        MOV       ?V3,?V1
// 2130   if ( pReq != NULL )
        MOV       A,?V2
        ORL       A,?V3
        JNZ       $+5
        LJMP      ??initiatorSendNwkStartReq_0 & 0xFFFF
// 2131   {
// 2132     uint16 i;
// 2133     bdbTLNwkParams_t *pParams = &(pReq->nwkParams);
        MOV       A,?V2
        ADD       A,#0x4
        MOV       ?V0,A
        CLR       A
        ADDC      A,?V3
        MOV       ?V1,A
// 2134 
// 2135     osal_memset( pReq, 0, sizeof( bdbTLNwkStartReq_t ) );
        ; Setup parameters for call to function osal_memset
        MOV       R4,#0x38
        MOV       R5,#0x0
        MOV       R1,#0x0
        MOV       R2,?V2
        MOV       R3,?V3
        LCALL     `??osal_memset::?relay`; Banked call to: osal_memset
// 2136 
// 2137     // Build the request
// 2138     pReq->transID = selectedTarget.scanRsp.transID;
        MOV       DPTR,#selectedTarget
        LCALL     ?XLOAD_R0123
        MOV       DPL,?V2
        MOV       DPH,?V3
        LCALL     ?XSTORE_R0123
// 2139 
// 2140     // Find out key index (prefer highest)
// 2141     for ( i = 15; i > 0; i-- )
        MOV       R6,#0xf
        MOV       R7,#0x0
??initiatorSendNwkStartReq_1:
        MOV       A,R6
        ORL       A,R7
        JZ        ??initiatorSendNwkStartReq_2
// 2142     {
// 2143       if ( ( (uint16)1 << i ) & pRsp->keyBitmask )
        MOV       DPL,?V8
        MOV       DPH,?V9
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V4,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V5,A
        MOV       A,R6
        MOV       R0,#?V4
        LCALL     ?US_SHR
        MOV       A,?V4
        ANL       A,#0x1
        MOV       R0,A
        MOV       A,?V5
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       ??initiatorSendNwkStartReq_2
// 2144       {
// 2145         break;
// 2146       }
// 2147     }
        MOV       A,R6
        ADD       A,#-0x1
        MOV       R6,A
        MOV       A,R7
        ADDC      A,#-0x1
        MOV       R7,A
        SJMP      ??initiatorSendNwkStartReq_1
// 2148     pParams->keyIndex = i;
??initiatorSendNwkStartReq_2:
        MOV       A,R6
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 2149 
// 2150     // Copy in the encrypted network key
// 2151     touchLink_EncryptNwkKey( pParams->nwkKey, i, pRsp->transID, pRsp->responseID );
        ; Setup parameters for call to function touchLink_EncryptNwkKey
        MOV       A,?V8
        ADD       A,#0xb
        MOV       DPL,A
        CLR       A
        ADDC      A,?V9
        MOV       DPH,A
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV       DPL,?V8
        MOV       DPH,?V9
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 26)
        MOV       A,R6
        MOV       R1,A
        MOV       A,?V0
        ADD       A,#0x9
        MOV       R2,A
        CLR       A
        ADDC      A,?V1
        MOV       R3,A
        LCALL     `??touchLink_EncryptNwkKey::?relay`; Banked call to: touchLink_EncryptNwkKey
        MOV       A,#0x8
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
// 2152 
// 2153     pParams->nwkAddr = touchLink_PopNwkAddress();
        ; Setup parameters for call to function touchLink_PopNwkAddress
        LCALL     `??touchLink_PopNwkAddress::?relay`; Banked call to: touchLink_PopNwkAddress
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
// 2154     if ( pParams->nwkAddr == 0 )
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       ??initiatorSendNwkStartReq_3
// 2155     {
// 2156       pParams->nwkAddr = osal_rand();
        ; Setup parameters for call to function osal_rand
        LCALL     `??osal_rand::?relay`; Banked call to: osal_rand
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
// 2157     }
// 2158     // update address for app notification
// 2159     selectedTarget.newNwkAddr = pParams->nwkAddr;
??initiatorSendNwkStartReq_3:
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#selectedTarget + 50
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2160     selectedTargetNwkAddr = pParams->nwkAddr;
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#selectedTargetNwkAddr
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2161 
// 2162     // Set group ID range
// 2163     if ( pRsp->totalGrpIDs > 0 )
        MOV       A,?V8
        ADD       A,#0x1e
        MOV       DPL,A
        CLR       A
        ADDC      A,?V9
        MOV       DPH,A
        MOVX      A,@DPTR
        JZ        ??initiatorSendNwkStartReq_4
// 2164     {
// 2165       touchLink_PopGrpIDRange( pRsp->totalGrpIDs, &(pParams->grpIDsBegin), &(pParams->grpIDsEnd) );
        ; Setup parameters for call to function touchLink_PopGrpIDRange
        MOV       A,?V0
        ADD       A,#0x20
        MOV       R4,A
        CLR       A
        ADDC      A,?V1
        MOV       R5,A
        MOV       A,?V0
        ADD       A,#0x1e
        MOV       R2,A
        CLR       A
        ADDC      A,?V1
        MOV       R3,A
        MOV       A,?V8
        ADD       A,#0x1e
        MOV       DPL,A
        CLR       A
        ADDC      A,?V9
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_PopGrpIDRange::?relay`; Banked call to: touchLink_PopGrpIDRange
// 2166     }
// 2167 
// 2168     if ( pRsp->touchLinkAddressAssignment )
??initiatorSendNwkStartReq_4:
        MOV       DPL,?V8
        MOV       DPH,?V9
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        CLR       C
        RRC       A
        ANL       A,#0x1
        MOV       C,0xE0 /* A   */.0
        JNC       ??initiatorSendNwkStartReq_5
// 2169     {
// 2170       touchLink_SplitFreeRanges( &(pParams->freeNwkAddrBegin), &(pParams->freeNwkAddrEnd),
// 2171                            &(pParams->freeGrpIDBegin), &(pParams->freeGrpIDEnd) );
        ; Setup parameters for call to function touchLink_SplitFreeRanges
        MOV       A,?V0
        ADD       A,#0x28
        MOV       ?V4,A
        CLR       A
        ADDC      A,?V1
        MOV       ?V5,A
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 20)
        MOV       A,?V0
        ADD       A,#0x26
        MOV       ?V4,A
        CLR       A
        ADDC      A,?V1
        MOV       ?V5,A
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV       A,?V0
        ADD       A,#0x24
        MOV       R4,A
        CLR       A
        ADDC      A,?V1
        MOV       R5,A
        MOV       A,?V0
        ADD       A,#0x22
        MOV       R2,A
        CLR       A
        ADDC      A,?V1
        MOV       R3,A
        LCALL     `??touchLink_SplitFreeRanges::?relay`; Banked call to: touchLink_SplitFreeRanges
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
// 2172     }
// 2173 
// 2174 #ifdef TOUCHLINK_INITIATOR_SET_NEW_NWK_PARAMS
// 2175     pParams->logicalChannel = _NIB.nwkLogicalChannel;
// 2176     pParams->panId = _NIB.nwkPanId;
// 2177     osal_memcpy( pParams->extendedPANID, _NIB.extendedPANID ,Z_EXTADDR_LEN);
// 2178 #endif
// 2179 
// 2180     osal_cpyExtAddr( pReq->initiatorIeeeAddr, NLME_GetExtAddr() );
??initiatorSendNwkStartReq_5:
        ; Setup parameters for call to function NLME_GetExtAddr
        LCALL     `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
        MOV       ?V4,R2
        MOV       ?V5,R3
        MOV       R4,?V4
        MOV       R5,?V5
        ; Setup parameters for call to function sAddrExtCpy
        MOV       A,?V2
        ADD       A,#0x2e
        MOV       R2,A
        CLR       A
        ADDC      A,?V3
        MOV       R3,A
        LCALL     `??sAddrExtCpy::?relay`; Banked call to: sAddrExtCpy
// 2181     pReq->initiatorNwkAddr = _NIB.nwkDevAddress;
        MOV       DPTR,#_NIB + 20
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,?V2
        ADD       A,#0x36
        MOV       DPL,A
        CLR       A
        ADDC      A,?V3
        MOV       DPH,A
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2182 
// 2183     status = bdbTL_Send_NwkStartReq( TOUCHLINK_INTERNAL_ENDPOINT, &(selectedTarget.srcAddr), pReq, initiatorSeqNum++ );
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_NwkStartReq
        MOV       A,R0
        MOV       ?V4,A
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 19)
        MOV       R4,?V2
        MOV       R5,?V3
        MOV       R2,#(selectedTarget + 38) & 0xff
        MOV       R3,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_NwkStartReq::?relay`; Banked call to: bdbTL_Send_NwkStartReq
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV       A,R1
        MOV       ?V7,A
// 2184     if ( status == ZSuccess )
        MOV       A,?V7
        JNZ       ??initiatorSendNwkStartReq_6
// 2185     {
// 2186       // Keep a copy of the encryted network key sent to the target
// 2187       keyIndexSent = i;
        MOV       A,R6
        MOV       DPTR,#keyIndexSent
        MOVX      @DPTR,A
// 2188       osal_memcpy( encKeySent, pParams->nwkKey, SEC_KEY_LEN );
        ; Setup parameters for call to function osal_memcpy
        MOV       A,?V0
        ADD       A,#0x9
        MOV       ?V4,A
        CLR       A
        ADDC      A,?V1
        MOV       ?V5,A
        MOV       ?V6,#0x0
        MOV       R0,#?V4
        LCALL     ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 21)
        MOV       R4,#0x10
        MOV       R5,#0x0
        MOV       R2,#encKeySent & 0xff
        MOV       R3,#(encKeySent >> 8) & 0xff
        LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV       A,#0x3
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
// 2189       responseIDSent = pRsp->responseID;
        MOV       A,?V8
        ADD       A,#0xb
        MOV       DPL,A
        CLR       A
        ADDC      A,?V9
        MOV       DPH,A
        LCALL     ?XLOAD_R0123
        MOV       DPTR,#responseIDSent
        LCALL     ?XSTORE_R0123
// 2190 
// 2191       // After the transmission, wait BDBCTL_RX_WINDOW_DURATION seconds to
// 2192       // receive a response.
// 2193       osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_START_RSP_EVT, BDBCTL_RX_WINDOW_DURATION );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_1388
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV       R2,#-0x80
        MOV       R3,#0x0
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV       A,R1
// 2194     }
// 2195 
// 2196     osal_mem_free( pReq );
??initiatorSendNwkStartReq_6:
        ; Setup parameters for call to function osal_mem_free
        MOV       R2,?V2
        MOV       R3,?V3
        LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
        SJMP      ??initiatorSendNwkStartReq_7
// 2197   }
// 2198   else
// 2199   {
// 2200     status = ZMemError;
??initiatorSendNwkStartReq_0:
        MOV       ?V7,#0x10
// 2201   }
// 2202 
// 2203   return ( status );
??initiatorSendNwkStartReq_7:
        MOV       R1,?V7
        MOV       R7,#0xa
        LJMP      ?BANKED_LEAVE_XDATA
// 2204 }
          CFI EndBlock cfiBlock30
// 2205 
// 2206 /*********************************************************************
// 2207  * @fn      initiatorSendNwkJoinReq
// 2208  *
// 2209  * @brief   Send out a Network Join Router or End Device Request command.
// 2210  *
// 2211  * @param   pRsp - received Scan Response
// 2212  *
// 2213  * @return  ZStatus_t
// 2214  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 2215 static ZStatus_t initiatorSendNwkJoinReq( bdbTLScanRsp_t *pRsp )
initiatorSendNwkJoinReq:
          CFI Block cfiBlock31 Using cfiCommon0
          CFI Function initiatorSendNwkJoinReq
        CODE
// 2216 {
        FUNCALL initiatorSendNwkJoinReq, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, osal_memset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, touchLink_EncryptNwkKey
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 28, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 28, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, touchLink_PopNwkAddress
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, touchLink_PopGrpIDRange
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, touchLink_SplitFreeRanges
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, bdbTL_Send_NwkJoinReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, bdbTL_Send_NwkJoinReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkJoinReq, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        REQUIRE ?V8
        REQUIRE ?V9
        REQUIRE ?V10
        REQUIRE ?V11
        MOV       A,#-0x14
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 20)
        ; Saved register size: 20
        ; Auto size: 0
        MOV       ?V8,R2
        MOV       ?V9,R3
// 2217   bdbTLNwkJoinReq_t *pReq;
// 2218   ZStatus_t status;
// 2219   bdbFindingBindingRespondent_t *pCurr;
// 2220 
// 2221   pReq = (bdbTLNwkJoinReq_t *)osal_mem_alloc( sizeof( bdbTLNwkJoinReq_t ) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV       R2,#0x2f
        MOV       R3,#0x0
        LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
        MOV       ?V0,R2
        MOV       ?V1,R3
        MOV       ?V4,?V0
        MOV       ?V5,?V1
// 2222   if ( pReq != NULL )
        MOV       A,?V4
        ORL       A,?V5
        JNZ       $+5
        LJMP      ??initiatorSendNwkJoinReq_0 & 0xFFFF
// 2223   {
// 2224     uint16 i;
// 2225     bdbTLNwkParams_t *pParams = &(pReq->nwkParams);
        MOV       A,?V4
        ADD       A,#0x4
        MOV       ?V0,A
        CLR       A
        ADDC      A,?V5
        MOV       ?V1,A
// 2226 
// 2227     osal_memset( pReq, 0, sizeof( bdbTLNwkJoinReq_t ) );
        ; Setup parameters for call to function osal_memset
        MOV       R4,#0x2f
        MOV       R5,#0x0
        MOV       R1,#0x0
        MOV       R2,?V4
        MOV       R3,?V5
        LCALL     `??osal_memset::?relay`; Banked call to: osal_memset
// 2228 
// 2229     // Build the request
// 2230     pReq->transID = selectedTarget.scanRsp.transID;
        MOV       DPTR,#selectedTarget
        LCALL     ?XLOAD_R0123
        MOV       DPL,?V4
        MOV       DPH,?V5
        LCALL     ?XSTORE_R0123
// 2231 
// 2232     // Find out key index (prefer highest)
// 2233     for ( i = 15; i > 0; i-- )
        MOV       R6,#0xf
        MOV       R7,#0x0
??initiatorSendNwkJoinReq_1:
        MOV       A,R6
        ORL       A,R7
        JZ        ??initiatorSendNwkJoinReq_2
// 2234     {
// 2235       if ( ( (uint16)1 << i ) & pRsp->keyBitmask )
        MOV       DPL,?V8
        MOV       DPH,?V9
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V10,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V11,A
        MOV       A,R6
        MOV       R0,#?V10
        LCALL     ?US_SHR
        MOV       A,?V10
        ANL       A,#0x1
        MOV       R0,A
        MOV       A,?V11
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       ??initiatorSendNwkJoinReq_2
// 2236       {
// 2237         break;
// 2238       }
// 2239     }
        MOV       A,R6
        ADD       A,#-0x1
        MOV       R6,A
        MOV       A,R7
        ADDC      A,#-0x1
        MOV       R7,A
        SJMP      ??initiatorSendNwkJoinReq_1
// 2240     pParams->keyIndex = i;
??initiatorSendNwkJoinReq_2:
        MOV       A,R6
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       DPL,?V0
        MOV       DPH,?V1
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 2241 
// 2242     // Copy in the encrypted network key
// 2243     touchLink_EncryptNwkKey( pParams->nwkKey, i, pRsp->transID, pRsp->responseID );
        ; Setup parameters for call to function touchLink_EncryptNwkKey
        MOV       A,?V8
        ADD       A,#0xb
        MOV       DPL,A
        CLR       A
        ADDC      A,?V9
        MOV       DPH,A
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 24)
        MOV       DPL,?V8
        MOV       DPH,?V9
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 28)
        MOV       A,R6
        MOV       R1,A
        MOV       A,?V0
        ADD       A,#0x9
        MOV       R2,A
        CLR       A
        ADDC      A,?V1
        MOV       R3,A
        LCALL     `??touchLink_EncryptNwkKey::?relay`; Banked call to: touchLink_EncryptNwkKey
        MOV       A,#0x8
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
// 2244 
// 2245     pParams->nwkAddr = touchLink_PopNwkAddress();
        ; Setup parameters for call to function touchLink_PopNwkAddress
        LCALL     `??touchLink_PopNwkAddress::?relay`; Banked call to: touchLink_PopNwkAddress
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
// 2246     if ( pParams->nwkAddr == 0 )
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        ORL       A,R1
        JNZ       ??initiatorSendNwkJoinReq_3
// 2247     {
// 2248       pParams->nwkAddr = osal_rand();
        ; Setup parameters for call to function osal_rand
        LCALL     `??osal_rand::?relay`; Banked call to: osal_rand
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOV       A,R2
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R3
        MOVX      @DPTR,A
// 2249     }
// 2250     // update address for app notification
// 2251     selectedTarget.newNwkAddr = pParams->nwkAddr;
??initiatorSendNwkJoinReq_3:
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#selectedTarget + 50
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2252     selectedTargetNwkAddr = pParams->nwkAddr;
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPTR,#selectedTargetNwkAddr
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2253     
// 2254     // Set group ID range
// 2255     if ( pRsp->totalGrpIDs > 0 )
        MOV       A,?V8
        ADD       A,#0x1e
        MOV       DPL,A
        CLR       A
        ADDC      A,?V9
        MOV       DPH,A
        MOVX      A,@DPTR
        JZ        ??initiatorSendNwkJoinReq_4
// 2256     {
// 2257       touchLink_PopGrpIDRange( pRsp->totalGrpIDs, &(pParams->grpIDsBegin), &(pParams->grpIDsEnd) );
        ; Setup parameters for call to function touchLink_PopGrpIDRange
        MOV       A,?V0
        ADD       A,#0x20
        MOV       R4,A
        CLR       A
        ADDC      A,?V1
        MOV       R5,A
        MOV       A,?V0
        ADD       A,#0x1e
        MOV       R2,A
        CLR       A
        ADDC      A,?V1
        MOV       R3,A
        MOV       A,?V8
        ADD       A,#0x1e
        MOV       DPL,A
        CLR       A
        ADDC      A,?V9
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??touchLink_PopGrpIDRange::?relay`; Banked call to: touchLink_PopGrpIDRange
// 2258     }
// 2259 
// 2260     if ( pRsp->touchLinkAddressAssignment )
??initiatorSendNwkJoinReq_4:
        MOV       DPL,?V8
        MOV       DPH,?V9
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R0
        CLR       C
        RRC       A
        ANL       A,#0x1
        MOV       C,0xE0 /* A   */.0
        JNC       ??initiatorSendNwkJoinReq_5
// 2261     {
// 2262       touchLink_SplitFreeRanges( &(pParams->freeNwkAddrBegin), &(pParams->freeNwkAddrEnd),
// 2263                            &(pParams->freeGrpIDBegin), &(pParams->freeGrpIDEnd) );
        ; Setup parameters for call to function touchLink_SplitFreeRanges
        MOV       A,?V0
        ADD       A,#0x28
        MOV       ?V10,A
        CLR       A
        ADDC      A,?V1
        MOV       ?V11,A
        MOV       R0,#?V10
        LCALL     ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV       A,?V0
        ADD       A,#0x26
        MOV       ?V10,A
        CLR       A
        ADDC      A,?V1
        MOV       ?V11,A
        MOV       R0,#?V10
        LCALL     ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 24)
        MOV       A,?V0
        ADD       A,#0x24
        MOV       R4,A
        CLR       A
        ADDC      A,?V1
        MOV       R5,A
        MOV       A,?V0
        ADD       A,#0x22
        MOV       R2,A
        CLR       A
        ADDC      A,?V1
        MOV       R3,A
        LCALL     `??touchLink_SplitFreeRanges::?relay`; Banked call to: touchLink_SplitFreeRanges
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
// 2264     }
// 2265     // update 
// 2266     pCurr = pRespondentHead;
??initiatorSendNwkJoinReq_5:
        MOV       DPTR,#pRespondentHead
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       ?V6,R0
        MOV       ?V7,R1
// 2267     while( pCurr != NULL )
??initiatorSendNwkJoinReq_6:
        MOV       A,?V6
        ORL       A,?V7
        JZ        ??initiatorSendNwkJoinReq_7
// 2268     {
// 2269       pCurr->data.addr.shortAddr = pParams->nwkAddr;
        MOV       A,?V0
        ADD       A,#0x1c
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPL,?V6
        MOV       DPH,?V7
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2270       pCurr->data.addrMode = afAddr16Bit;
        MOV       DPL,?V6
        MOV       DPH,?V7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,#0x2
        MOVX      @DPTR,A
// 2271       pCurr->data.panId = _NIB.nwkPanId;
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       DPL,?V6
        MOV       DPH,?V7
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2272       pCurr = pCurr->pNext;
        MOV       A,?V6
        ADD       A,#0xf
        MOV       DPL,A
        CLR       A
        ADDC      A,?V7
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       ?V6,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       ?V7,A
        SJMP      ??initiatorSendNwkJoinReq_6
// 2273     }
// 2274 
// 2275     pParams->logicalChannel = _NIB.nwkLogicalChannel;
??initiatorSendNwkJoinReq_7:
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,?V0
        ADD       A,#0x19
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 2276     pParams->panId = _NIB.nwkPanId;
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,?V0
        ADD       A,#0x1a
        MOV       DPL,A
        CLR       A
        ADDC      A,?V1
        MOV       DPH,A
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2277     osal_cpyExtAddr( pParams->extendedPANID, _NIB.extendedPANID );
        ; Setup parameters for call to function sAddrExtCpy
        MOV       R4,#(_NIB + 53) & 0xff
        MOV       R5,#((_NIB + 53) >> 8) & 0xff
        MOV       R2,?V0
        MOV       R3,?V1
        LCALL     `??sAddrExtCpy::?relay`; Banked call to: sAddrExtCpy
// 2278     pReq->nwkUpdateId = _NIB.nwkUpdateId;
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,?V4
        ADD       A,#0x2e
        MOV       DPL,A
        CLR       A
        ADDC      A,?V5
        MOV       DPH,A
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 2279 
// 2280     // Let PAN ID, Extended PAN ID and Logical Channel to be determined by the target
// 2281     if ( pRsp->zLogicalType == ZG_DEVICETYPE_ROUTER )
        MOV       DPL,?V8
        MOV       DPH,?V9
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x3
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        ANL       A,#0x0
        MOV       R1,A
        MOV       A,R0
        XRL       A,#0x1
        JNZ       ??initiatorSendNwkJoinReq_8
// 2282     {
// 2283       // It's a light
// 2284       status = bdbTL_Send_NwkJoinRtrReq( TOUCHLINK_INTERNAL_ENDPOINT, &(selectedTarget.srcAddr), pReq, initiatorSeqNum++ );
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_NwkJoinReq
        MOV       A,R0
        MOV       ?V3,A
        MOV       R0,#?V3
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 21)
        MOV       ?V3,#0x12
        MOV       R0,#?V3
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 22)
        MOV       R4,?V4
        MOV       R5,?V5
        MOV       R2,#(selectedTarget + 38) & 0xff
        MOV       R3,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_NwkJoinReq::?relay`; Banked call to: bdbTL_Send_NwkJoinReq
        MOV       A,#0x2
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
        MOV       A,R1
        MOV       ?V2,A
        SJMP      ??initiatorSendNwkJoinReq_9
// 2285     }
// 2286     else // another controller
// 2287     {
// 2288       status = bdbTL_Send_NwkJoinEDReq( TOUCHLINK_INTERNAL_ENDPOINT, &(selectedTarget.srcAddr), pReq, initiatorSeqNum++ );
??initiatorSendNwkJoinReq_8:
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_NwkJoinReq
        MOV       A,R0
        MOV       ?V3,A
        MOV       R0,#?V3
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 21)
        MOV       ?V3,#0x14
        MOV       R0,#?V3
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 22)
        MOV       R4,?V4
        MOV       R5,?V5
        MOV       R2,#(selectedTarget + 38) & 0xff
        MOV       R3,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_NwkJoinReq::?relay`; Banked call to: bdbTL_Send_NwkJoinReq
        MOV       A,#0x2
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
        MOV       A,R1
        MOV       ?V2,A
// 2289     }
// 2290 
// 2291     if ( status == ZSuccess )
??initiatorSendNwkJoinReq_9:
        MOV       A,?V2
        JNZ       ??initiatorSendNwkJoinReq_10
// 2292     {
// 2293       // After the transmission, wait BDBCTL_RX_WINDOW_DURATION seconds to
// 2294       // receive a response.
// 2295       osal_start_timerEx( touchLinkInitiator_TaskID, TOUCHLINK_W4_NWK_JOIN_RSP_EVT, BDBCTL_RX_WINDOW_DURATION );
        ; Setup parameters for call to function osal_start_timerEx
        MOV       DPTR,#__Constant_1388
        LCALL     ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 24)
        MOV       R2,#0x0
        MOV       R3,#0x1
        MOV       DPTR,#touchLinkInitiator_TaskID
        MOVX      A,@DPTR
        MOV       R1,A
        LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV       A,#0x4
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
        MOV       A,R1
// 2296     }
// 2297 
// 2298     osal_mem_free( pReq );
??initiatorSendNwkJoinReq_10:
        ; Setup parameters for call to function osal_mem_free
        MOV       R2,?V4
        MOV       R3,?V5
        LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
        SJMP      ??initiatorSendNwkJoinReq_11
// 2299   }
// 2300   else
// 2301   {
// 2302     status = ZMemError;
??initiatorSendNwkJoinReq_0:
        MOV       ?V2,#0x10
// 2303   }
// 2304 
// 2305   return ( status );
??initiatorSendNwkJoinReq_11:
        MOV       R1,?V2
        MOV       R7,#0xc
        LJMP      ?BANKED_LEAVE_XDATA
// 2306 }
          CFI EndBlock cfiBlock31
// 2307 
// 2308 /*********************************************************************
// 2309  * @fn      initiatorSendNwkUpdateReq
// 2310  *
// 2311  * @brief   Send out a Network Update Request command.
// 2312  *
// 2313  * @param   pRsp - received Scan Response
// 2314  *
// 2315  * @return  ZStatus_t
// 2316  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 2317 static ZStatus_t initiatorSendNwkUpdateReq( bdbTLScanRsp_t *pRsp )
initiatorSendNwkUpdateReq:
          CFI Block cfiBlock32 Using cfiCommon0
          CFI Function initiatorSendNwkUpdateReq
        CODE
// 2318 {
        FUNCALL initiatorSendNwkUpdateReq, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkUpdateReq, sAddrExtCpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkUpdateReq, bdbTL_Send_NwkUpdateReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL initiatorSendNwkUpdateReq, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        MOV       A,#-0xe
        LCALL     ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV       ?V2,R2
        MOV       ?V3,R3
// 2319   bdbTLNwkUpdateReq_t *pReq;
// 2320   ZStatus_t status;
// 2321 
// 2322   pReq = (bdbTLNwkUpdateReq_t *)osal_mem_alloc( sizeof( bdbTLNwkUpdateReq_t ) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV       R2,#0x12
        MOV       R3,#0x0
        LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
        MOV       ?V4,R2
        MOV       ?V5,R3
        MOV       R6,?V4
        MOV       R7,?V5
// 2323   if ( pReq!= NULL )
        MOV       A,R6
        ORL       A,R7
        JNZ       $+5
        LJMP      ??initiatorSendNwkUpdateReq_0 & 0xFFFF
// 2324   {
// 2325     // Build the request
// 2326     pReq->transID = pRsp->transID;
        MOV       DPL,?V2
        MOV       DPH,?V3
        LCALL     ?XLOAD_R0123
        MOV       DPL,R6
        MOV       DPH,R7
        LCALL     ?XSTORE_R0123
// 2327     osal_cpyExtAddr( pReq->extendedPANID, _NIB.extendedPANID );
        ; Setup parameters for call to function sAddrExtCpy
        MOV       R4,#(_NIB + 53) & 0xff
        MOV       R5,#((_NIB + 53) >> 8) & 0xff
        MOV       A,R6
        ADD       A,#0x4
        MOV       R2,A
        CLR       A
        ADDC      A,R7
        MOV       R3,A
        LCALL     `??sAddrExtCpy::?relay`; Banked call to: sAddrExtCpy
// 2328     pReq->nwkUpdateId = _NIB.nwkUpdateId;
        MOV       DPTR,#_NIB + 109
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,R6
        ADD       A,#0xc
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 2329     pReq->logicalChannel = _NIB.nwkLogicalChannel;
        MOV       DPTR,#_NIB + 22
        MOVX      A,@DPTR
        PUSH      A
          CFI CFA_SP SP+-1
        MOV       A,R6
        ADD       A,#0xd
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        POP       A
          CFI CFA_SP SP+0
        MOVX      @DPTR,A
// 2330     pReq->PANID = _NIB.nwkPanId;
        MOV       DPTR,#_NIB + 33
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R6
        ADD       A,#0xe
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2331     pReq->nwkAddr = pRsp->nwkAddr;
        MOV       A,?V2
        ADD       A,#0x1b
        MOV       DPL,A
        CLR       A
        ADDC      A,?V3
        MOV       DPH,A
        MOVX      A,@DPTR
        MOV       R0,A
        INC       DPTR
        MOVX      A,@DPTR
        MOV       R1,A
        MOV       A,R6
        ADD       A,#0x10
        MOV       DPL,A
        CLR       A
        ADDC      A,R7
        MOV       DPH,A
        MOV       A,R0
        MOVX      @DPTR,A
        INC       DPTR
        MOV       A,R1
        MOVX      @DPTR,A
// 2332 
// 2333     status = bdbTL_Send_NwkUpdateReq( TOUCHLINK_INTERNAL_ENDPOINT, &(selectedTarget.srcAddr), pReq, initiatorSeqNum++ );
        MOV       DPTR,#initiatorSeqNum
        MOVX      A,@DPTR
        MOV       R0,A
        MOV       A,#0x1
        ADD       A,R0
        MOV       DPTR,#initiatorSeqNum
        MOVX      @DPTR,A
        ; Setup parameters for call to function bdbTL_Send_NwkUpdateReq
        MOV       A,R0
        MOV       ?V1,A
        MOV       R0,#?V1
        LCALL     ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 15)
        MOV       A,R6
        MOV       R4,A
        MOV       A,R7
        MOV       R5,A
        MOV       R2,#(selectedTarget + 38) & 0xff
        MOV       R3,#((selectedTarget + 38) >> 8) & 0xff
        MOV       R1,#0xd
        LCALL     `??bdbTL_Send_NwkUpdateReq::?relay`; Banked call to: bdbTL_Send_NwkUpdateReq
        MOV       A,#0x1
        LCALL     ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
        MOV       A,R1
        MOV       ?V0,A
// 2334 
// 2335     osal_mem_free( pReq );
        ; Setup parameters for call to function osal_mem_free
        MOV       A,R6
        MOV       R2,A
        MOV       A,R7
        MOV       R3,A
        LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
        SJMP      ??initiatorSendNwkUpdateReq_1
// 2336   }
// 2337   else
// 2338   {
// 2339     status = ZMemError;
??initiatorSendNwkUpdateReq_0:
        MOV       ?V0,#0x10
// 2340   }
// 2341 
// 2342   return ( status );
??initiatorSendNwkUpdateReq_1:
        MOV       R1,?V0
        MOV       R7,#0x6
        LJMP      ?BANKED_LEAVE_XDATA
// 2343 }
          CFI EndBlock cfiBlock32
// 2344 
// 2345 /*********************************************************************
// 2346  * @fn      initiatorClearSelectedTarget
// 2347  *
// 2348  * @brief   clear selected target variable.
// 2349  *
// 2350  * @param   none
// 2351  *
// 2352  * @return  none
// 2353  */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
// 2354 static void initiatorClearSelectedTarget( void )
initiatorClearSelectedTarget:
          CFI Block cfiBlock33 Using cfiCommon0
          CFI Function initiatorClearSelectedTarget
        CODE
// 2355 {
        FUNCALL initiatorClearSelectedTarget, osal_memset
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH      DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH      DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 2356   osal_memset( &selectedTarget, 0x00, sizeof(targetCandidate_t) );
        ; Setup parameters for call to function osal_memset
        MOV       R4,#0x36
        MOV       R5,#0x0
        MOV       R1,#0x0
        MOV       R2,#selectedTarget & 0xff
        MOV       R3,#(selectedTarget >> 8) & 0xff
        LCALL     `??osal_memset::?relay`; Banked call to: osal_memset
// 2357   selectedTarget.lastRssi = TOUCHLINK_WORST_RSSI;
        MOV       DPTR,#selectedTarget + 53
        MOV       A,#-0x46
        MOVX      @DPTR,A
// 2358 }
        POP       DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP       DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP      ?BRET
          CFI EndBlock cfiBlock33

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for initiatorRegisteredMsgAppTas`:
        DATA8
        DB 255

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for touchLinkInitiator_CmdCBs>`:
        DATA16
        DW `??initiatorScanReqCB::?relay`
        DW `??initiatorDeviceInfoReqCB::?relay`
        DW `??initiatorIdentifyReqCB::?relay`
        DW 0H
        DW 0H
        DW 0H
        DW `??initiatorNwkJoinReqCB::?relay`
        DW `??initiatorNwkUpdateReqCB::?relay`
        DW `??initiatorScanRspCB::?relay`
        DW `??initiatorDeviceInfoRspCB::?relay`
        DW `??initiatorNwkStartRspCB::?relay`
        DW `??initiatorNwkJoinRtrRspCB::?relay`
        DW `??initiatorNwkJoinEDRspCB::?relay`

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_InitDevice::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_InitDevice

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_RegisterNotifyTLCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_RegisterNotifyTLCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_RegisterSelectDiscDevCB::?`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_RegisterSelectDiscDevCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_StartDevDisc::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_StartDevDisc

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_ResetToFNProcedure::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_ResetToFNProcedure

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_AbortTL::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_AbortTL

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_Init::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_Init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorSelectNwkParams::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorSelectNwkParams

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_RegisterForMsg::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_RegisterForMsg

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_event_loop::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_event_loop

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_ChannelChange::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_ChannelChange

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_SendEPInfo::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_SendEPInfo

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLinkInitiator_ResetToFNSelectedTarget::?`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLinkInitiator_ResetToFNSelectedTarget

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??touchLink_InitiatorSendScanRsp::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    touchLink_InitiatorSendScanRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??bdb_Initiator_SendNwkJoinReq::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    bdb_Initiator_SendNwkJoinReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorScanReqCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorScanReqCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorDeviceInfoReqCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorDeviceInfoReqCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorIdentifyReqCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorIdentifyReqCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorNwkJoinReqCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorNwkJoinReqCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorNwkUpdateReqCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorNwkUpdateReqCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorScanRspCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorScanRspCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorDeviceInfoRspCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorDeviceInfoRspCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorNwkStartRspCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorNwkStartRspCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorNwkJoinRtrRspCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorNwkJoinRtrRspCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorNwkJoinEDRspCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorNwkJoinEDRspCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorZdoLeaveCnfCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorZdoLeaveCnfCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorProcessStateChange::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorProcessStateChange

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorSetNwkToInitState::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorSetNwkToInitState

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorReJoinNwk::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorReJoinNwk

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorSendScanReq::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorSendScanReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorSendNwkStartReq::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorSendNwkStartReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorSendNwkJoinReq::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorSendNwkJoinReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorSendNwkUpdateReq::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorSendNwkUpdateReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??initiatorClearSelectedTarget::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    initiatorClearSelectedTarget

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {255, 255, 255, 255, 255, 255, 255,`:
        DB 255
        DB 255
        DB 255
        DB 255
        DB 255
        DB 255
        DB 255
        DB 255

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
`?<Constant "%d\\n">`:
        DB "%d\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {12, 13, 14, 16, 17, 18, 19, 21, 22`:
        DB 12
        DB 13
        DB 14
        DB 16
        DB 17
        DB 18
        DB 19
        DB 21
        DB 22
        DB 23
        DB 24
        DB 26

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_1f40:
        DD 8000

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_0:
        DD 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_1f4:
        DD 500

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_32:
        DD 50

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_7d0:
        DD 2000

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_3:
        DD 3

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_30d4:
        DD 12500

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_fa:
        DD 250

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_1388:
        DD 5000

        END
// 2359 
// 2360 #endif //BDB_TL_INITIATOR
// 2361 
// 2362 /*********************************************************************
// 2363 *********************************************************************/
// 
// 9 906 bytes in segment BANKED_CODE
//   204 bytes in segment BANK_RELAYS
//    27 bytes in segment XDATA_I
//    27 bytes in segment XDATA_ID
//    69 bytes in segment XDATA_ROM_C
//   219 bytes in segment XDATA_Z
// 
//   231 bytes of CODE     memory
//    33 bytes of CONST    memory (+ 36 bytes shared)
// 9 906 bytes of HUGECODE memory
//   246 bytes of XDATA    memory
//
//Errors: none
//Warnings: none
